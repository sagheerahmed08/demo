function Pk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var xy={exports:{}},Gl={},wy={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),Tk=Symbol.for("react.portal"),Nk=Symbol.for("react.fragment"),Rk=Symbol.for("react.strict_mode"),Ak=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),$k=Symbol.for("react.suspense"),Ik=Symbol.for("react.memo"),Lk=Symbol.for("react.lazy"),om=Symbol.iterator;function Fk(e){return e===null||typeof e!="object"?null:(e=om&&e[om]||e["@@iterator"],typeof e=="function"?e:null)}var by={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_y=Object.assign,Sy={};function hs(e,t,n){this.props=e,this.context=t,this.refs=Sy,this.updater=n||by}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ky(){}ky.prototype=hs.prototype;function Vf(e,t,n){this.props=e,this.context=t,this.refs=Sy,this.updater=n||by}var zf=Vf.prototype=new ky;zf.constructor=Vf;_y(zf,hs.prototype);zf.isPureReactComponent=!0;var sm=Array.isArray,Cy=Object.prototype.hasOwnProperty,Uf={current:null},Ey={key:!0,ref:!0,__self:!0,__source:!0};function Py(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Cy.call(t,r)&&!Ey.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Mi,type:e,key:s,ref:i,props:o,_owner:Uf.current}}function Vk(e,t){return{$$typeof:Mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi}function zk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var im=/\/+/g;function eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zk(""+e.key):t.toString(36)}function Va(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Mi:case Tk:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+eu(i,0):r,sm(o)?(n="",e!=null&&(n=e.replace(im,"$&/")+"/"),Va(o,t,n,"",function(c){return c})):o!=null&&(Bf(o)&&(o=Vk(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(im,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",sm(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+eu(s,a);i+=Va(s,t,n,l,o)}else if(l=Fk(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+eu(s,a++),i+=Va(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function sa(e,t,n){if(e==null)return e;var r=[],o=0;return Va(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Uk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},za={transition:null},Bk={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:za,ReactCurrentOwner:Uf};function jy(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:sa,forEach:function(e,t,n){sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sa(e,function(){t++}),t},toArray:function(e){return sa(e,function(t){return t})||[]},only:function(e){if(!Bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=hs;ue.Fragment=Nk;ue.Profiler=Ak;ue.PureComponent=Vf;ue.StrictMode=Rk;ue.Suspense=$k;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk;ue.act=jy;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_y({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Uf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Cy.call(t,l)&&!Ey.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Mi,type:e.type,key:o,ref:s,props:r,_owner:i}};ue.createContext=function(e){return e={$$typeof:Dk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mk,_context:e},e.Consumer=e};ue.createElement=Py;ue.createFactory=function(e){var t=Py.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Ok,render:e}};ue.isValidElement=Bf;ue.lazy=function(e){return{$$typeof:Lk,_payload:{_status:-1,_result:e},_init:Uk}};ue.memo=function(e,t){return{$$typeof:Ik,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=za.transition;za.transition={};try{e()}finally{za.transition=t}};ue.unstable_act=jy;ue.useCallback=function(e,t){return ct.current.useCallback(e,t)};ue.useContext=function(e){return ct.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};ue.useEffect=function(e,t){return ct.current.useEffect(e,t)};ue.useId=function(){return ct.current.useId()};ue.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return ct.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};ue.useRef=function(e){return ct.current.useRef(e)};ue.useState=function(e){return ct.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return ct.current.useTransition()};ue.version="18.3.1";wy.exports=ue;var p=wy.exports;const ve=yy(p),Kl=Pk({__proto__:null,default:ve},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=p,Hk=Symbol.for("react.element"),qk=Symbol.for("react.fragment"),Gk=Object.prototype.hasOwnProperty,Kk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yk={key:!0,ref:!0,__self:!0,__source:!0};function Ty(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Gk.call(t,r)&&!Yk.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Hk,type:e,key:s,ref:i,props:o,_owner:Kk.current}}Gl.Fragment=qk;Gl.jsx=Ty;Gl.jsxs=Ty;xy.exports=Gl;var u=xy.exports,ad={},Ny={exports:{}},Mt={},Ry={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,j){var z=N.length;N.push(j);e:for(;0<z;){var L=z-1>>>1,q=N[L];if(0<o(q,j))N[L]=j,N[z]=q,z=L;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],z=N.pop();if(z!==j){N[0]=z;e:for(var L=0,q=N.length,F=q>>>1;L<F;){var G=2*(L+1)-1,oe=N[G],Y=G+1,le=N[Y];if(0>o(oe,z))Y<q&&0>o(le,oe)?(N[L]=le,N[Y]=z,L=Y):(N[L]=oe,N[G]=z,L=G);else if(Y<q&&0>o(le,z))N[L]=le,N[Y]=z,L=Y;else break e}}return j}function o(N,j){var z=N.sortIndex-j.sortIndex;return z!==0?z:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function b(N){if(v=!1,g(N),!w)if(n(l)!==null)w=!0,H(S);else{var j=n(c);j!==null&&Z(b,j.startTime-N)}}function S(N,j){w=!1,v&&(v=!1,y(E),E=-1),m=!0;var z=h;try{for(g(j),f=n(l);f!==null&&(!(f.expirationTime>j)||N&&!V());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var q=L(f.expirationTime<=j);j=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),g(j)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var G=n(c);G!==null&&Z(b,G.startTime-j),F=!1}return F}finally{f=null,h=z,m=!1}}var k=!1,C=null,E=-1,P=5,A=-1;function V(){return!(e.unstable_now()-A<P)}function I(){if(C!==null){var N=e.unstable_now();A=N;var j=!0;try{j=C(!0,N)}finally{j?W():(k=!1,C=null)}}else k=!1}var W;if(typeof x=="function")W=function(){x(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,B=O.port2;O.port1.onmessage=I,W=function(){B.postMessage(null)}}else W=function(){_(I,0)};function H(N){C=N,k||(k=!0,W())}function Z(N,j){E=_(function(){N(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,H(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var z=h;h=j;try{return N()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=h;h=N;try{return j()}finally{h=z}},e.unstable_scheduleCallback=function(N,j,z){var L=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,N={id:d++,callback:j,priorityLevel:N,startTime:z,expirationTime:q,sortIndex:-1},z>L?(N.sortIndex=z,t(c,N),n(l)===null&&N===n(c)&&(v?(y(E),E=-1):v=!0,Z(b,z-L))):(N.sortIndex=q,t(l,N),w||m||(w=!0,H(S))),N},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(N){var j=h;return function(){var z=h;h=j;try{return N.apply(this,arguments)}finally{h=z}}}})(Ay);Ry.exports=Ay;var Xk=Ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk=p,Nt=Xk;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My=new Set,ii={};function so(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(ii[e]=t,e=0;e<t.length;e++)My.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,Jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,am={},lm={};function Zk(e){return ld.call(lm,e)?!0:ld.call(am,e)?!1:Jk.test(e)?lm[e]=!0:(am[e]=!0,!1)}function eC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tC(e,t,n,r){if(t===null||typeof t>"u"||eC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wf=/[\-:]([a-z])/g;function Hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wf,Hf);Je[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wf,Hf);Je[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wf,Hf);Je[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,n,r){var o=Je.hasOwnProperty(t)?Je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tC(t,n,o,r)&&(n=null),r||o===null?Zk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Un=Qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),Co=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Yf=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),cm=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,tu;function Is(e){if(tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var nu=!1;function ru(e,t){if(!e||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function nC(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function fd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eo:return"Fragment";case Co:return"Portal";case cd:return"Profiler";case Gf:return"StrictMode";case ud:return"Suspense";case dd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oy:return(e.displayName||"Context")+".Consumer";case Dy:return(e._context.displayName||"Context")+".Provider";case Kf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yf:return t=e.displayName||null,t!==null?t:fd(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return fd(e(t))}catch{}}return null}function rC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fd(t);case 8:return t===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Iy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oC(e){var t=Iy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aa(e){e._valueTracker||(e._valueTracker=oC(e))}function Ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Iy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hd(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fy(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function pd(e,t){Fy(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?md(e,t.type,n):t.hasOwnProperty("defaultValue")&&md(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function md(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function zo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Ls(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function Vy(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var la,Uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=la.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){sC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function By(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function Wy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=By(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var iC=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(e,t){if(t){if(iC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function xd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bd=null,Uo=null,Bo=null;function pm(e){if(e=$i(e)){if(typeof bd!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Zl(t),bd(e.stateNode,e.type,t))}}function Hy(e){Uo?Bo?Bo.push(e):Bo=[e]:Uo=e}function qy(){if(Uo){var e=Uo,t=Bo;if(Bo=Uo=null,pm(e),t)for(e=0;e<t.length;e++)pm(t[e])}}function Gy(e,t){return e(t)}function Ky(){}var ou=!1;function Yy(e,t,n){if(ou)return e(t,n);ou=!0;try{return Gy(e,t,n)}finally{ou=!1,(Uo!==null||Bo!==null)&&(Ky(),qy())}}function li(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var _d=!1;if(Dn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{_d=!1}function aC(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Hs=!1,ol=null,sl=!1,Sd=null,lC={onError:function(e){Hs=!0,ol=e}};function cC(e,t,n,r,o,s,i,a,l){Hs=!1,ol=null,aC.apply(lC,arguments)}function uC(e,t,n,r,o,s,i,a,l){if(cC.apply(this,arguments),Hs){if(Hs){var c=ol;Hs=!1,ol=null}else throw Error(U(198));sl||(sl=!0,Sd=c)}}function io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mm(e){if(io(e)!==e)throw Error(U(188))}function dC(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return mm(o),e;if(s===r)return mm(o),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Qy(e){return e=dC(e),e!==null?Jy(e):null}function Jy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jy(e);if(t!==null)return t;e=e.sibling}return null}var Zy=Nt.unstable_scheduleCallback,gm=Nt.unstable_cancelCallback,fC=Nt.unstable_shouldYield,hC=Nt.unstable_requestPaint,Ie=Nt.unstable_now,pC=Nt.unstable_getCurrentPriorityLevel,Qf=Nt.unstable_ImmediatePriority,e0=Nt.unstable_UserBlockingPriority,il=Nt.unstable_NormalPriority,mC=Nt.unstable_LowPriority,t0=Nt.unstable_IdlePriority,Yl=null,gn=null;function gC(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:xC,vC=Math.log,yC=Math.LN2;function xC(e){return e>>>=0,e===0?32:31-(vC(e)/yC|0)|0}var ca=64,ua=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Fs(a):(s&=i,s!==0&&(r=Fs(s)))}else i=n&~o,i!==0?r=Fs(i):s!==0&&(r=Fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),o=1<<n,r|=e[n],t&=~o;return r}function wC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-rn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=wC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function kd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function n0(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Di(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function _C(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rn(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Jf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var we=0;function r0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o0,Zf,s0,i0,a0,Cd=!1,da=[],lr=null,cr=null,ur=null,ci=new Map,ui=new Map,nr=[],SC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function ks(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=$i(t),t!==null&&Zf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function kC(e,t,n,r,o){switch(t){case"focusin":return lr=ks(lr,e,t,n,r,o),!0;case"dragenter":return cr=ks(cr,e,t,n,r,o),!0;case"mouseover":return ur=ks(ur,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ci.set(s,ks(ci.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ui.set(s,ks(ui.get(s)||null,e,t,n,r,o)),!0}return!1}function l0(e){var t=Br(e.target);if(t!==null){var n=io(t);if(n!==null){if(t=n.tag,t===13){if(t=Xy(n),t!==null){e.blockedOn=t,a0(e.priority,function(){s0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wd=r,n.target.dispatchEvent(r),wd=null}else return t=$i(n),t!==null&&Zf(t),e.blockedOn=n,!1;t.shift()}return!0}function ym(e,t,n){Ua(e)&&n.delete(t)}function CC(){Cd=!1,lr!==null&&Ua(lr)&&(lr=null),cr!==null&&Ua(cr)&&(cr=null),ur!==null&&Ua(ur)&&(ur=null),ci.forEach(ym),ui.forEach(ym)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Cd||(Cd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,CC)))}function di(e){function t(o){return Cs(o,e)}if(0<da.length){Cs(da[0],e);for(var n=1;n<da.length;n++){var r=da[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lr!==null&&Cs(lr,e),cr!==null&&Cs(cr,e),ur!==null&&Cs(ur,e),ci.forEach(t),ui.forEach(t),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&nr.shift()}var Wo=Un.ReactCurrentBatchConfig,ll=!0;function EC(e,t,n,r){var o=we,s=Wo.transition;Wo.transition=null;try{we=1,eh(e,t,n,r)}finally{we=o,Wo.transition=s}}function PC(e,t,n,r){var o=we,s=Wo.transition;Wo.transition=null;try{we=4,eh(e,t,n,r)}finally{we=o,Wo.transition=s}}function eh(e,t,n,r){if(ll){var o=Ed(e,t,n,r);if(o===null)mu(e,t,r,cl,n),vm(e,r);else if(kC(o,e,t,n,r))r.stopPropagation();else if(vm(e,r),t&4&&-1<SC.indexOf(e)){for(;o!==null;){var s=$i(o);if(s!==null&&o0(s),s=Ed(e,t,n,r),s===null&&mu(e,t,r,cl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}var cl=null;function Ed(e,t,n,r){if(cl=null,e=Xf(r),e=Br(e),e!==null)if(t=io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function c0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pC()){case Qf:return 1;case e0:return 4;case il:case mC:return 16;case t0:return 536870912;default:return 16}default:return 16}}var sr=null,th=null,Ba=null;function u0(){if(Ba)return Ba;var e,t=th,n=t.length,r,o="value"in sr?sr.value:sr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Ba=o.slice(e,1<r?1-r:void 0)}function Wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function xm(){return!1}function Dt(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fa:xm,this.isPropagationStopped=xm,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=Dt(ps),Oi=Me({},ps,{view:0,detail:0}),jC=Dt(Oi),iu,au,Es,Xl=Me({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(iu=e.screenX-Es.screenX,au=e.screenY-Es.screenY):au=iu=0,Es=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:au}}),wm=Dt(Xl),TC=Me({},Xl,{dataTransfer:0}),NC=Dt(TC),RC=Me({},Oi,{relatedTarget:0}),lu=Dt(RC),AC=Me({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),MC=Dt(AC),DC=Me({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OC=Dt(DC),$C=Me({},ps,{data:0}),bm=Dt($C),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FC[e])?!!t[e]:!1}function rh(){return VC}var zC=Me({},Oi,{key:function(e){if(e.key){var t=IC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?Wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UC=Dt(zC),BC=Me({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Dt(BC),WC=Me({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),HC=Dt(WC),qC=Me({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),GC=Dt(qC),KC=Me({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YC=Dt(KC),XC=[9,13,27,32],oh=Dn&&"CompositionEvent"in window,qs=null;Dn&&"documentMode"in document&&(qs=document.documentMode);var QC=Dn&&"TextEvent"in window&&!qs,d0=Dn&&(!oh||qs&&8<qs&&11>=qs),Sm=String.fromCharCode(32),km=!1;function f0(e,t){switch(e){case"keyup":return XC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Po=!1;function JC(e,t){switch(e){case"compositionend":return h0(t);case"keypress":return t.which!==32?null:(km=!0,Sm);case"textInput":return e=t.data,e===Sm&&km?null:e;default:return null}}function ZC(e,t){if(Po)return e==="compositionend"||!oh&&f0(e,t)?(e=u0(),Ba=th=sr=null,Po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return d0&&t.locale!=="ko"?null:t.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eE[e.type]:t==="textarea"}function p0(e,t,n,r){Hy(r),t=ul(t,"onChange"),0<t.length&&(n=new nh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gs=null,fi=null;function tE(e){C0(e,0)}function Ql(e){var t=No(e);if(Ly(t))return e}function nE(e,t){if(e==="change")return t}var m0=!1;if(Dn){var cu;if(Dn){var uu="oninput"in document;if(!uu){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),uu=typeof Em.oninput=="function"}cu=uu}else cu=!1;m0=cu&&(!document.documentMode||9<document.documentMode)}function Pm(){Gs&&(Gs.detachEvent("onpropertychange",g0),fi=Gs=null)}function g0(e){if(e.propertyName==="value"&&Ql(fi)){var t=[];p0(t,fi,e,Xf(e)),Yy(tE,t)}}function rE(e,t,n){e==="focusin"?(Pm(),Gs=t,fi=n,Gs.attachEvent("onpropertychange",g0)):e==="focusout"&&Pm()}function oE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ql(fi)}function sE(e,t){if(e==="click")return Ql(t)}function iE(e,t){if(e==="input"||e==="change")return Ql(t)}function aE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:aE;function hi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ld.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tm(e,t){var n=jm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jm(n)}}function v0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y0(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lE(e){var t=y0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&v0(n.ownerDocument.documentElement,n)){if(r!==null&&sh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Tm(n,s);var i=Tm(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cE=Dn&&"documentMode"in document&&11>=document.documentMode,jo=null,Pd=null,Ks=null,jd=!1;function Nm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jd||jo==null||jo!==rl(r)||(r=jo,"selectionStart"in r&&sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&hi(Ks,r)||(Ks=r,r=ul(Pd,"onSelect"),0<r.length&&(t=new nh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jo)))}function ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var To={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},du={},x0={};Dn&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Jl(e){if(du[e])return du[e];if(!To[e])return e;var t=To[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x0)return du[e]=t[n];return e}var w0=Jl("animationend"),b0=Jl("animationiteration"),_0=Jl("animationstart"),S0=Jl("transitionend"),k0=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){k0.set(e,t),so(t,[e])}for(var fu=0;fu<Rm.length;fu++){var hu=Rm[fu],uE=hu.toLowerCase(),dE=hu[0].toUpperCase()+hu.slice(1);Cr(uE,"on"+dE)}Cr(w0,"onAnimationEnd");Cr(b0,"onAnimationIteration");Cr(_0,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(S0,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Am(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uC(r,t,void 0,e),e.currentTarget=null}function C0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Am(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Am(o,a,c),s=l}}}if(sl)throw e=Sd,sl=!1,Sd=null,e}function Pe(e,t){var n=t[Md];n===void 0&&(n=t[Md]=new Set);var r=e+"__bubble";n.has(r)||(E0(t,e,2,!1),n.add(r))}function pu(e,t,n){var r=0;t&&(r|=4),E0(n,e,r,t)}var pa="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[pa]){e[pa]=!0,My.forEach(function(n){n!=="selectionchange"&&(fE.has(n)||pu(n,!1,e),pu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pa]||(t[pa]=!0,pu("selectionchange",!1,t))}}function E0(e,t,n,r){switch(c0(t)){case 1:var o=EC;break;case 4:o=PC;break;default:o=eh}n=o.bind(null,t,n,e),o=void 0,!_d||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Br(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Yy(function(){var c=s,d=Xf(n),f=[];e:{var h=k0.get(e);if(h!==void 0){var m=nh,w=e;switch(e){case"keypress":if(Wa(n)===0)break e;case"keydown":case"keyup":m=UC;break;case"focusin":w="focus",m=lu;break;case"focusout":w="blur",m=lu;break;case"beforeblur":case"afterblur":m=lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HC;break;case w0:case b0:case _0:m=MC;break;case S0:m=GC;break;case"scroll":m=jC;break;case"wheel":m=YC;break;case"copy":case"cut":case"paste":m=OC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_m}var v=(t&4)!==0,_=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=c,g;x!==null;){g=x;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=li(x,y),b!=null&&v.push(mi(x,b,g)))),_)break;x=x.return}0<v.length&&(h=new m(h,w,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==wd&&(w=n.relatedTarget||n.fromElement)&&(Br(w)||w[On]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Br(w):null,w!==null&&(_=io(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(v=wm,b="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=_m,b="onPointerLeave",y="onPointerEnter",x="pointer"),_=m==null?h:No(m),g=w==null?h:No(w),h=new v(b,x+"leave",m,n,d),h.target=_,h.relatedTarget=g,b=null,Br(d)===c&&(v=new v(y,x+"enter",w,n,d),v.target=g,v.relatedTarget=_,b=v),_=b,m&&w)t:{for(v=m,y=w,x=0,g=v;g;g=go(g))x++;for(g=0,b=y;b;b=go(b))g++;for(;0<x-g;)v=go(v),x--;for(;0<g-x;)y=go(y),g--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=go(v),y=go(y)}v=null}else v=null;m!==null&&Mm(f,h,m,v,!1),w!==null&&_!==null&&Mm(f,_,w,v,!0)}}e:{if(h=c?No(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=nE;else if(Cm(h))if(m0)S=iE;else{S=oE;var k=rE}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sE);if(S&&(S=S(e,c))){p0(f,S,n,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&md(h,"number",h.value)}switch(k=c?No(c):window,e){case"focusin":(Cm(k)||k.contentEditable==="true")&&(jo=k,Pd=c,Ks=null);break;case"focusout":Ks=Pd=jo=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,Nm(f,n,d);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Nm(f,n,d)}var C;if(oh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Po?f0(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(d0&&n.locale!=="ko"&&(Po||E!=="onCompositionStart"?E==="onCompositionEnd"&&Po&&(C=u0()):(sr=d,th="value"in sr?sr.value:sr.textContent,Po=!0)),k=ul(c,E),0<k.length&&(E=new bm(E,e,null,n,d),f.push({event:E,listeners:k}),C?E.data=C:(C=h0(n),C!==null&&(E.data=C)))),(C=QC?JC(e,n):ZC(e,n))&&(c=ul(c,"onBeforeInput"),0<c.length&&(d=new bm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}C0(f,t)})}function mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=li(e,n),s!=null&&r.unshift(mi(e,s,o)),s=li(e,t),s!=null&&r.push(mi(e,s,o))),e=e.return}return r}function go(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mm(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=li(n,s),l!=null&&i.unshift(mi(n,l,a))):o||(l=li(n,s),l!=null&&i.push(mi(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var hE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(hE,`
`).replace(pE,"")}function ma(e,t,n){if(t=Dm(t),Dm(e)!==t&&n)throw Error(U(425))}function dl(){}var Td=null,Nd=null;function Rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ad=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(vE)}:Ad;function vE(e){setTimeout(function(){throw e})}function gu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);di(t)}function dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),pn="__reactFiber$"+ms,gi="__reactProps$"+ms,On="__reactContainer$"+ms,Md="__reactEvents$"+ms,yE="__reactListeners$"+ms,xE="__reactHandles$"+ms;function Br(e){var t=e[pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$m(e);e!==null;){if(n=e[pn])return n;e=$m(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[pn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function No(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Zl(e){return e[gi]||null}var Dd=[],Ro=-1;function Er(e){return{current:e}}function je(e){0>Ro||(e.current=Dd[Ro],Dd[Ro]=null,Ro--)}function ke(e,t){Ro++,Dd[Ro]=e.current,e.current=t}var wr={},rt=Er(wr),vt=Er(!1),Xr=wr;function Zo(e,t){var n=e.type.contextTypes;if(!n)return wr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yt(e){return e=e.childContextTypes,e!=null}function fl(){je(vt),je(rt)}function Im(e,t,n){if(rt.current!==wr)throw Error(U(168));ke(rt,t),ke(vt,n)}function P0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,rC(e)||"Unknown",o));return Me({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Xr=rt.current,ke(rt,e),ke(vt,vt.current),!0}function Lm(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=P0(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,je(vt),je(rt),ke(rt,e)):je(vt),ke(vt,n)}var Cn=null,ec=!1,vu=!1;function j0(e){Cn===null?Cn=[e]:Cn.push(e)}function wE(e){ec=!0,j0(e)}function Pr(){if(!vu&&Cn!==null){vu=!0;var e=0,t=we;try{var n=Cn;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,ec=!1}catch(o){throw Cn!==null&&(Cn=Cn.slice(e+1)),Zy(Qf,Pr),o}finally{we=t,vu=!1}}return null}var Ao=[],Mo=0,pl=null,ml=0,zt=[],Ut=0,Qr=null,En=1,Pn="";function $r(e,t){Ao[Mo++]=ml,Ao[Mo++]=pl,pl=e,ml=t}function T0(e,t,n){zt[Ut++]=En,zt[Ut++]=Pn,zt[Ut++]=Qr,Qr=e;var r=En;e=Pn;var o=32-rn(r)-1;r&=~(1<<o),n+=1;var s=32-rn(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,En=1<<32-rn(t)+o|n<<o|r,Pn=s+e}else En=1<<s|n<<o|r,Pn=e}function ih(e){e.return!==null&&($r(e,1),T0(e,1,0))}function ah(e){for(;e===pl;)pl=Ao[--Mo],Ao[Mo]=null,ml=Ao[--Mo],Ao[Mo]=null;for(;e===Qr;)Qr=zt[--Ut],zt[Ut]=null,Pn=zt[--Ut],zt[Ut]=null,En=zt[--Ut],zt[Ut]=null}var Pt=null,Et=null,Te=!1,nn=null;function N0(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Et=dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qr!==null?{id:En,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Et=null,!0):!1;default:return!1}}function Od(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $d(e){if(Te){var t=Et;if(t){var n=t;if(!Fm(e,t)){if(Od(e))throw Error(U(418));t=dr(n.nextSibling);var r=Pt;t&&Fm(e,t)?N0(r,n):(e.flags=e.flags&-4097|2,Te=!1,Pt=e)}}else{if(Od(e))throw Error(U(418));e.flags=e.flags&-4097|2,Te=!1,Pt=e}}}function Vm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function ga(e){if(e!==Pt)return!1;if(!Te)return Vm(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rd(e.type,e.memoizedProps)),t&&(t=Et)){if(Od(e))throw R0(),Error(U(418));for(;t;)N0(e,t),t=dr(t.nextSibling)}if(Vm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Et=dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Pt?dr(e.stateNode.nextSibling):null;return!0}function R0(){for(var e=Et;e;)e=dr(e.nextSibling)}function es(){Et=Pt=null,Te=!1}function lh(e){nn===null?nn=[e]:nn.push(e)}var bE=Un.ReactCurrentBatchConfig;function Ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zm(e){var t=e._init;return t(e._payload)}function A0(e){function t(y,x){if(e){var g=y.deletions;g===null?(y.deletions=[x],y.flags|=16):g.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function o(y,x){return y=mr(y,x),y.index=0,y.sibling=null,y}function s(y,x,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<x?(y.flags|=2,x):g):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,g,b){return x===null||x.tag!==6?(x=ku(g,y.mode,b),x.return=y,x):(x=o(x,g),x.return=y,x)}function l(y,x,g,b){var S=g.type;return S===Eo?d(y,x,g.props.children,b,g.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&zm(S)===x.type)?(b=o(x,g.props),b.ref=Ps(y,x,g),b.return=y,b):(b=Qa(g.type,g.key,g.props,null,y.mode,b),b.ref=Ps(y,x,g),b.return=y,b)}function c(y,x,g,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Cu(g,y.mode,b),x.return=y,x):(x=o(x,g.children||[]),x.return=y,x)}function d(y,x,g,b,S){return x===null||x.tag!==7?(x=Yr(g,y.mode,b,S),x.return=y,x):(x=o(x,g),x.return=y,x)}function f(y,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ku(""+x,y.mode,g),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ia:return g=Qa(x.type,x.key,x.props,null,y.mode,g),g.ref=Ps(y,null,x),g.return=y,g;case Co:return x=Cu(x,y.mode,g),x.return=y,x;case Jn:var b=x._init;return f(y,b(x._payload),g)}if(Ls(x)||_s(x))return x=Yr(x,y.mode,g,null),x.return=y,x;va(y,x)}return null}function h(y,x,g,b){var S=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(y,x,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ia:return g.key===S?l(y,x,g,b):null;case Co:return g.key===S?c(y,x,g,b):null;case Jn:return S=g._init,h(y,x,S(g._payload),b)}if(Ls(g)||_s(g))return S!==null?null:d(y,x,g,b,null);va(y,g)}return null}function m(y,x,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,a(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ia:return y=y.get(b.key===null?g:b.key)||null,l(x,y,b,S);case Co:return y=y.get(b.key===null?g:b.key)||null,c(x,y,b,S);case Jn:var k=b._init;return m(y,x,g,k(b._payload),S)}if(Ls(b)||_s(b))return y=y.get(g)||null,d(x,y,b,S,null);va(x,b)}return null}function w(y,x,g,b){for(var S=null,k=null,C=x,E=x=0,P=null;C!==null&&E<g.length;E++){C.index>E?(P=C,C=null):P=C.sibling;var A=h(y,C,g[E],b);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(y,C),x=s(A,x,E),k===null?S=A:k.sibling=A,k=A,C=P}if(E===g.length)return n(y,C),Te&&$r(y,E),S;if(C===null){for(;E<g.length;E++)C=f(y,g[E],b),C!==null&&(x=s(C,x,E),k===null?S=C:k.sibling=C,k=C);return Te&&$r(y,E),S}for(C=r(y,C);E<g.length;E++)P=m(C,y,E,g[E],b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),x=s(P,x,E),k===null?S=P:k.sibling=P,k=P);return e&&C.forEach(function(V){return t(y,V)}),Te&&$r(y,E),S}function v(y,x,g,b){var S=_s(g);if(typeof S!="function")throw Error(U(150));if(g=S.call(g),g==null)throw Error(U(151));for(var k=S=null,C=x,E=x=0,P=null,A=g.next();C!==null&&!A.done;E++,A=g.next()){C.index>E?(P=C,C=null):P=C.sibling;var V=h(y,C,A.value,b);if(V===null){C===null&&(C=P);break}e&&C&&V.alternate===null&&t(y,C),x=s(V,x,E),k===null?S=V:k.sibling=V,k=V,C=P}if(A.done)return n(y,C),Te&&$r(y,E),S;if(C===null){for(;!A.done;E++,A=g.next())A=f(y,A.value,b),A!==null&&(x=s(A,x,E),k===null?S=A:k.sibling=A,k=A);return Te&&$r(y,E),S}for(C=r(y,C);!A.done;E++,A=g.next())A=m(C,y,E,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),x=s(A,x,E),k===null?S=A:k.sibling=A,k=A);return e&&C.forEach(function(I){return t(y,I)}),Te&&$r(y,E),S}function _(y,x,g,b){if(typeof g=="object"&&g!==null&&g.type===Eo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ia:e:{for(var S=g.key,k=x;k!==null;){if(k.key===S){if(S=g.type,S===Eo){if(k.tag===7){n(y,k.sibling),x=o(k,g.props.children),x.return=y,y=x;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&zm(S)===k.type){n(y,k.sibling),x=o(k,g.props),x.ref=Ps(y,k,g),x.return=y,y=x;break e}n(y,k);break}else t(y,k);k=k.sibling}g.type===Eo?(x=Yr(g.props.children,y.mode,b,g.key),x.return=y,y=x):(b=Qa(g.type,g.key,g.props,null,y.mode,b),b.ref=Ps(y,x,g),b.return=y,y=b)}return i(y);case Co:e:{for(k=g.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){n(y,x.sibling),x=o(x,g.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Cu(g,y.mode,b),x.return=y,y=x}return i(y);case Jn:return k=g._init,_(y,x,k(g._payload),b)}if(Ls(g))return w(y,x,g,b);if(_s(g))return v(y,x,g,b);va(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(n(y,x.sibling),x=o(x,g),x.return=y,y=x):(n(y,x),x=ku(g,y.mode,b),x.return=y,y=x),i(y)):n(y,x)}return _}var ts=A0(!0),M0=A0(!1),gl=Er(null),vl=null,Do=null,ch=null;function uh(){ch=Do=vl=null}function dh(e){var t=gl.current;je(gl),e._currentValue=t}function Id(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ho(e,t){vl=e,ch=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(vl===null)throw Error(U(308));Do=e,vl.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Wr=null;function fh(e){Wr===null?Wr=[e]:Wr.push(e)}function D0(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,fh(t)):(n.next=o.next,o.next=n),t.interleaved=n,$n(e,r)}function $n(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zn=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$n(e,n)}return o=r.interleaved,o===null?(t.next=t,fh(r)):(t.next=o.next,o.next=t),r.interleaved=t,$n(e,n)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jf(e,n)}}function Um(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var o=e.updateQueue;Zn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=o.baseState;i=0,d=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(h=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=Me({},f,h);break e;case 2:Zn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Zr|=i,e.lanes=i,e.memoizedState=f}}function Bm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var Ii={},vn=Er(Ii),vi=Er(Ii),yi=Er(Ii);function Hr(e){if(e===Ii)throw Error(U(174));return e}function ph(e,t){switch(ke(yi,t),ke(vi,e),ke(vn,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vd(t,e)}je(vn),ke(vn,t)}function ns(){je(vn),je(vi),je(yi)}function $0(e){Hr(yi.current);var t=Hr(vn.current),n=vd(t,e.type);t!==n&&(ke(vi,e),ke(vn,n))}function mh(e){vi.current===e&&(je(vn),je(vi))}var Ne=Er(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function gh(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var qa=Un.ReactCurrentDispatcher,xu=Un.ReactCurrentBatchConfig,Jr=0,Ae=null,We=null,Ge=null,wl=!1,Ys=!1,xi=0,_E=0;function Ze(){throw Error(U(321))}function vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function yh(e,t,n,r,o,s){if(Jr=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?EE:PE,e=n(r,o),Ys){s=0;do{if(Ys=!1,xi=0,25<=s)throw Error(U(301));s+=1,Ge=We=null,t.updateQueue=null,qa.current=jE,e=n(r,o)}while(Ys)}if(qa.current=bl,t=We!==null&&We.next!==null,Jr=0,Ge=We=Ae=null,wl=!1,t)throw Error(U(300));return e}function xh(){var e=xi!==0;return xi=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Gt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ge===null?Ae.memoizedState:Ge.next;if(t!==null)Ge=t,We=e;else{if(e===null)throw Error(U(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function wi(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=Gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=We,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((Jr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Ae.lanes|=d,Zr|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,sn(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Ae.lanes|=s,Zr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bu(e){var t=Gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);sn(s,t.memoizedState)||(gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function I0(){}function L0(e,t){var n=Ae,r=Gt(),o=t(),s=!sn(r.memoizedState,o);if(s&&(r.memoizedState=o,gt=!0),r=r.queue,wh(z0.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,bi(9,V0.bind(null,n,r,o,t),void 0,null),Ke===null)throw Error(U(349));Jr&30||F0(n,t,o)}return o}function F0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function V0(e,t,n,r){t.value=n,t.getSnapshot=r,U0(t)&&B0(e)}function z0(e,t,n){return n(function(){U0(t)&&B0(e)})}function U0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function B0(e){var t=$n(e,1);t!==null&&on(t,e,1,-1)}function Wm(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=CE.bind(null,Ae,e),[t.memoizedState,e]}function bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function W0(){return Gt().memoizedState}function Ga(e,t,n,r){var o=hn();Ae.flags|=e,o.memoizedState=bi(1|t,n,void 0,r===void 0?null:r)}function tc(e,t,n,r){var o=Gt();r=r===void 0?null:r;var s=void 0;if(We!==null){var i=We.memoizedState;if(s=i.destroy,r!==null&&vh(r,i.deps)){o.memoizedState=bi(t,n,s,r);return}}Ae.flags|=e,o.memoizedState=bi(1|t,n,s,r)}function Hm(e,t){return Ga(8390656,8,e,t)}function wh(e,t){return tc(2048,8,e,t)}function H0(e,t){return tc(4,2,e,t)}function q0(e,t){return tc(4,4,e,t)}function G0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function K0(e,t,n){return n=n!=null?n.concat([e]):null,tc(4,4,G0.bind(null,t,e),n)}function bh(){}function Y0(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function X0(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Q0(e,t,n){return Jr&21?(sn(n,t)||(n=n0(),Ae.lanes|=n,Zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function SE(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=xu.transition;xu.transition={};try{e(!1),t()}finally{we=n,xu.transition=r}}function J0(){return Gt().memoizedState}function kE(e,t,n){var r=pr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(e))ex(t,n);else if(n=D0(e,t,n,r),n!==null){var o=lt();on(n,e,r,o),tx(n,t,r)}}function CE(e,t,n){var r=pr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(e))ex(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,sn(a,i)){var l=t.interleaved;l===null?(o.next=o,fh(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=D0(e,t,o,r),n!==null&&(o=lt(),on(n,e,r,o),tx(n,t,r))}}function Z0(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function ex(e,t){Ys=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jf(e,n)}}var bl={readContext:qt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},EE={readContext:qt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Hm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ga(4194308,4,G0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ga(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kE.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:bh,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=SE.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,o=hn();if(Te){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ke===null)throw Error(U(349));Jr&30||F0(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Hm(z0.bind(null,r,s,e),[e]),r.flags|=2048,bi(9,V0.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=hn(),t=Ke.identifierPrefix;if(Te){var n=Pn,r=En;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_E++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PE={readContext:qt,useCallback:Y0,useContext:qt,useEffect:wh,useImperativeHandle:K0,useInsertionEffect:H0,useLayoutEffect:q0,useMemo:X0,useReducer:wu,useRef:W0,useState:function(){return wu(wi)},useDebugValue:bh,useDeferredValue:function(e){var t=Gt();return Q0(t,We.memoizedState,e)},useTransition:function(){var e=wu(wi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:I0,useSyncExternalStore:L0,useId:J0,unstable_isNewReconciler:!1},jE={readContext:qt,useCallback:Y0,useContext:qt,useEffect:wh,useImperativeHandle:K0,useInsertionEffect:H0,useLayoutEffect:q0,useMemo:X0,useReducer:bu,useRef:W0,useState:function(){return bu(wi)},useDebugValue:bh,useDeferredValue:function(e){var t=Gt();return We===null?t.memoizedState=e:Q0(t,We.memoizedState,e)},useTransition:function(){var e=bu(wi)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:I0,useSyncExternalStore:L0,useId:J0,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ld(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),o=pr(e),s=Tn(r,o);s.payload=t,n!=null&&(s.callback=n),t=fr(e,s,o),t!==null&&(on(t,e,o,r),Ha(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),o=pr(e),s=Tn(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=fr(e,s,o),t!==null&&(on(t,e,o,r),Ha(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=pr(e),o=Tn(n,r);o.tag=2,t!=null&&(o.callback=t),t=fr(e,o,r),t!==null&&(on(t,e,r,n),Ha(t,e,r))}};function qm(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!hi(n,r)||!hi(o,s):!0}function nx(e,t,n){var r=!1,o=wr,s=t.contextType;return typeof s=="object"&&s!==null?s=qt(s):(o=yt(t)?Xr:rt.current,r=t.contextTypes,s=(r=r!=null)?Zo(e,o):wr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function Fd(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},hh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=qt(s):(s=yt(t)?Xr:rt.current,o.context=Zo(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ld(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&nc.enqueueReplaceState(o,o.state,null),yl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var n="",r=t;do n+=nC(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function _u(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function rx(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,Xd=r),Vd(e,t)},n}function ox(e,t,n){n=Tn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Vd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vd(e,t),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Km(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new TE;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=BE.bind(null,e,t,n),t.then(e,e))}function Ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xm(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,fr(n,t,1))),n.lanes|=1),e)}var NE=Un.ReactCurrentOwner,gt=!1;function at(e,t,n,r){t.child=e===null?M0(t,null,n,r):ts(t,e.child,n,r)}function Qm(e,t,n,r,o){n=n.render;var s=t.ref;return Ho(t,o),r=yh(e,t,n,r,s,o),n=xh(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,In(e,t,o)):(Te&&n&&ih(t),t.flags|=1,at(e,t,r,o),t.child)}function Jm(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Th(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,sx(e,t,s,r,o)):(e=Qa(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(i,r)&&e.ref===t.ref)return In(e,t,o)}return t.flags|=1,e=mr(s,r),e.ref=t.ref,e.return=t,t.child=e}function sx(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(hi(s,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,In(e,t,o)}return zd(e,t,n,r,o)}function ix(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke($o,kt),kt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke($o,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke($o,kt),kt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ke($o,kt),kt|=r;return at(e,t,o,n),t.child}function ax(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zd(e,t,n,r,o){var s=yt(n)?Xr:rt.current;return s=Zo(t,s),Ho(t,o),n=yh(e,t,n,r,s,o),r=xh(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,In(e,t,o)):(Te&&r&&ih(t),t.flags|=1,at(e,t,n,o),t.child)}function Zm(e,t,n,r,o){if(yt(n)){var s=!0;hl(t)}else s=!1;if(Ho(t,o),t.stateNode===null)Ka(e,t),nx(t,n,r),Fd(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=qt(c):(c=yt(n)?Xr:rt.current,c=Zo(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gm(t,i,r,c),Zn=!1;var h=t.memoizedState;i.state=h,yl(t,r,i,o),l=t.memoizedState,a!==r||h!==l||vt.current||Zn?(typeof d=="function"&&(Ld(t,n,d,r),l=t.memoizedState),(a=Zn||qm(t,n,a,r,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,O0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Zt(t.type,a),i.props=c,f=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=yt(n)?Xr:rt.current,l=Zo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Gm(t,i,r,l),Zn=!1,h=t.memoizedState,i.state=h,yl(t,r,i,o);var w=t.memoizedState;a!==f||h!==w||vt.current||Zn?(typeof m=="function"&&(Ld(t,n,m,r),w=t.memoizedState),(c=Zn||qm(t,n,c,r,h,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ud(e,t,n,r,s,o)}function Ud(e,t,n,r,o,s){ax(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Lm(t,n,!1),In(e,t,s);r=t.stateNode,NE.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ts(t,e.child,null,s),t.child=ts(t,null,a,s)):at(e,t,a,s),t.memoizedState=r.state,o&&Lm(t,n,!0),t.child}function lx(e){var t=e.stateNode;t.pendingContext?Im(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Im(e,t.context,!1),ph(e,t.containerInfo)}function eg(e,t,n,r,o){return es(),lh(o),t.flags|=256,at(e,t,n,r),t.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function cx(e,t,n){var r=t.pendingProps,o=Ne.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ke(Ne,o&1),e===null)return $d(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=sc(i,r,0,null),e=Yr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wd(n),t.memoizedState=Bd,e):_h(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return RE(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=mr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=mr(a,s):(s=Yr(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Wd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Bd,r}return s=e.child,e=s.sibling,r=mr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _h(e,t){return t=sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ya(e,t,n,r){return r!==null&&lh(r),ts(t,e.child,null,n),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RE(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=_u(Error(U(422))),ya(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=sc({mode:"visible",children:r.children},o,0,null),s=Yr(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ts(t,e.child,null,i),t.child.memoizedState=Wd(i),t.memoizedState=Bd,s);if(!(t.mode&1))return ya(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=_u(s,r,void 0),ya(e,t,i,r)}if(a=(i&e.childLanes)!==0,gt||a){if(r=Ke,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,$n(e,o),on(r,e,o,-1))}return jh(),r=_u(Error(U(421))),ya(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=WE.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Et=dr(o.nextSibling),Pt=t,Te=!0,nn=null,e!==null&&(zt[Ut++]=En,zt[Ut++]=Pn,zt[Ut++]=Qr,En=e.id,Pn=e.overflow,Qr=t),t=_h(t,r.children),t.flags|=4096,t)}function tg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Id(e.return,t,n)}function Su(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function ux(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(at(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tg(e,n,t);else if(e.tag===19)tg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Su(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Su(t,!0,n,null,s);break;case"together":Su(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function In(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function AE(e,t,n){switch(t.tag){case 3:lx(t),es();break;case 5:$0(t);break;case 1:yt(t.type)&&hl(t);break;case 4:ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ke(gl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?cx(e,t,n):(ke(Ne,Ne.current&1),e=In(e,t,n),e!==null?e.sibling:null);ke(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ux(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,ix(e,t,n)}return In(e,t,n)}var dx,Hd,fx,hx;dx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};fx=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Hr(vn.current);var s=null;switch(n){case"input":o=hd(e,o),r=hd(e,r),s=[];break;case"select":o=Me({},o,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":o=gd(e,o),r=gd(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dl)}yd(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ii.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ii.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};hx=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ME(e,t,n){var r=t.pendingProps;switch(ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return yt(t.type)&&fl(),et(t),null;case 3:return r=t.stateNode,ns(),je(vt),je(rt),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(Zd(nn),nn=null))),Hd(e,t),et(t),null;case 5:mh(t);var o=Hr(yi.current);if(n=t.type,e!==null&&t.stateNode!=null)fx(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return et(t),null}if(e=Hr(vn.current),ga(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pn]=t,r[gi]=s,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<Vs.length;o++)Pe(Vs[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":um(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":fm(r,s),Pe("invalid",r)}yd(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ma(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ma(r.textContent,a,e),o=["children",""+a]):ii.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Pe("scroll",r)}switch(n){case"input":aa(r),dm(r,s,!0);break;case"textarea":aa(r),hm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[pn]=t,e[gi]=r,dx(e,t,!1,!1),t.stateNode=e;e:{switch(i=xd(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),o=r;break;case"iframe":case"object":case"embed":Pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Vs.length;o++)Pe(Vs[o],e);o=r;break;case"source":Pe("error",e),o=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),o=r;break;case"details":Pe("toggle",e),o=r;break;case"input":um(e,r),o=hd(e,r),Pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Me({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":fm(e,r),o=gd(e,r),Pe("invalid",e);break;default:o=r}yd(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Wy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ai(e,l):typeof l=="number"&&ai(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ii.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",e):l!=null&&qf(e,s,l,i))}switch(n){case"input":aa(e),dm(e,r,!1);break;case"textarea":aa(e),hm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?zo(e,!!r.multiple,s,!1):r.defaultValue!=null&&zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)hx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Hr(yi.current),Hr(vn.current),ga(t)){if(r=t.stateNode,n=t.memoizedProps,r[pn]=t,(s=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:ma(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ma(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=t,t.stateNode=r}return et(t),null;case 13:if(je(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Et!==null&&t.mode&1&&!(t.flags&128))R0(),es(),t.flags|=98560,s=!1;else if(s=ga(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[pn]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),s=!1}else nn!==null&&(Zd(nn),nn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?He===0&&(He=3):jh())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return ns(),Hd(e,t),e===null&&pi(t.stateNode.containerInfo),et(t),null;case 10:return dh(t.type._context),et(t),null;case 17:return yt(t.type)&&fl(),et(t),null;case 19:if(je(Ne),s=t.memoizedState,s===null)return et(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)js(s,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xl(e),i!==null){for(t.flags|=128,js(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ie()>os&&(t.flags|=128,r=!0,js(s,!1),t.lanes=4194304)}else{if(!r)if(e=xl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Te)return et(t),null}else 2*Ie()-s.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,r=!0,js(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ie(),t.sibling=null,n=Ne.current,ke(Ne,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Ph(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function DE(e,t){switch(ah(t),t.tag){case 1:return yt(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),je(vt),je(rt),gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mh(t),null;case 13:if(je(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ne),null;case 4:return ns(),null;case 10:return dh(t.type._context),null;case 22:case 23:return Ph(),null;case 24:return null;default:return null}}var xa=!1,nt=!1,OE=typeof WeakSet=="function"?WeakSet:Set,K=null;function Oo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function qd(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var ng=!1;function $E(e,t){if(Td=ll,e=y0(),sh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=i+o),f!==s||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===o&&(a=i),h===s&&++d===r&&(l=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:e,selectionRange:n},ll=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Zt(t.type,v),_);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=ng,ng=!1,w}function Xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&qd(t,n,s)}o=o.next}while(o!==r)}}function rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function px(e){var t=e.alternate;t!==null&&(e.alternate=null,px(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[gi],delete t[Md],delete t[yE],delete t[xE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mx(e){return e.tag===5||e.tag===3||e.tag===4}function rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(r!==4&&(e=e.child,e!==null))for(Kd(e,t,n),e=e.sibling;e!==null;)Kd(e,t,n),e=e.sibling}function Yd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yd(e,t,n),e=e.sibling;e!==null;)Yd(e,t,n),e=e.sibling}var Ye=null,en=!1;function qn(e,t,n){for(n=n.child;n!==null;)gx(e,t,n),n=n.sibling}function gx(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:nt||Oo(n,t);case 6:var r=Ye,o=en;Ye=null,qn(e,t,n),Ye=r,en=o,Ye!==null&&(en?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(en?(e=Ye,n=n.stateNode,e.nodeType===8?gu(e.parentNode,n):e.nodeType===1&&gu(e,n),di(e)):gu(Ye,n.stateNode));break;case 4:r=Ye,o=en,Ye=n.stateNode.containerInfo,en=!0,qn(e,t,n),Ye=r,en=o;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&qd(n,t,i),o=o.next}while(o!==r)}qn(e,t,n);break;case 1:if(!nt&&(Oo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,t,a)}qn(e,t,n);break;case 21:qn(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,qn(e,t,n),nt=r):qn(e,t,n);break;default:qn(e,t,n)}}function og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OE),t.forEach(function(r){var o=HE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,en=!1;break e;case 3:Ye=a.stateNode.containerInfo,en=!0;break e;case 4:Ye=a.stateNode.containerInfo,en=!0;break e}a=a.return}if(Ye===null)throw Error(U(160));gx(s,i,o),Ye=null,en=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Oe(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vx(t,e),t=t.sibling}function vx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),dn(e),r&4){try{Xs(3,e,e.return),rc(3,e)}catch(v){Oe(e,e.return,v)}try{Xs(5,e,e.return)}catch(v){Oe(e,e.return,v)}}break;case 1:Qt(t,e),dn(e),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Qt(t,e),dn(e),r&512&&n!==null&&Oo(n,n.return),e.flags&32){var o=e.stateNode;try{ai(o,"")}catch(v){Oe(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fy(o,s),xd(a,i);var c=xd(a,s);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Wy(o,f):d==="dangerouslySetInnerHTML"?Uy(o,f):d==="children"?ai(o,f):qf(o,d,f,c)}switch(a){case"input":pd(o,s);break;case"textarea":Vy(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?zo(o,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?zo(o,!!s.multiple,s.defaultValue,!0):zo(o,!!s.multiple,s.multiple?[]:"",!1))}o[gi]=s}catch(v){Oe(e,e.return,v)}}break;case 6:if(Qt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){Oe(e,e.return,v)}}break;case 3:if(Qt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(v){Oe(e,e.return,v)}break;case 4:Qt(t,e),dn(e);break;case 13:Qt(t,e),dn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ch=Ie())),r&4&&og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(c=nt)||d,Qt(t,e),nt=c):Qt(t,e),dn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,m=h.child,h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:Oo(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Oe(r,n,v)}}break;case 5:Oo(h,h.return);break;case 22:if(h.memoizedState!==null){ig(f);continue}}m!==null?(m.return=h,K=m):ig(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=By("display",i))}catch(v){Oe(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Oe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(t,e),dn(e),r&4&&og(e);break;case 21:break;default:Qt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mx(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ai(o,""),r.flags&=-33);var s=rg(e);Yd(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=rg(e);Kd(e,a,i);break;default:throw Error(U(161))}}catch(l){Oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IE(e,t,n){K=e,yx(e)}function yx(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var o=K,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||xa;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||nt;a=xa;var c=nt;if(xa=i,(nt=l)&&!c)for(K=o;K!==null;)i=K,l=i.child,i.tag===22&&i.memoizedState!==null?ag(o):l!==null?(l.return=i,K=l):ag(o);for(;s!==null;)K=s,yx(s),s=s.sibling;K=o,xa=a,nt=c}sg(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,K=s):sg(e)}}function sg(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bm(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bm(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}nt||t.flags&512&&Gd(t)}catch(h){Oe(t,t.return,h)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function ig(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function ag(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(l){Oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Oe(t,o,l)}}var s=t.return;try{Gd(t)}catch(l){Oe(t,s,l)}break;case 5:var i=t.return;try{Gd(t)}catch(l){Oe(t,i,l)}}}catch(l){Oe(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var LE=Math.ceil,_l=Un.ReactCurrentDispatcher,Sh=Un.ReactCurrentOwner,Wt=Un.ReactCurrentBatchConfig,pe=0,Ke=null,Ue=null,Qe=0,kt=0,$o=Er(0),He=0,_i=null,Zr=0,oc=0,kh=0,Qs=null,pt=null,Ch=0,os=1/0,Sn=null,Sl=!1,Xd=null,hr=null,wa=!1,ir=null,kl=0,Js=0,Qd=null,Ya=-1,Xa=0;function lt(){return pe&6?Ie():Ya!==-1?Ya:Ya=Ie()}function pr(e){return e.mode&1?pe&2&&Qe!==0?Qe&-Qe:bE.transition!==null?(Xa===0&&(Xa=n0()),Xa):(e=we,e!==0||(e=window.event,e=e===void 0?16:c0(e.type)),e):1}function on(e,t,n,r){if(50<Js)throw Js=0,Qd=null,Error(U(185));Di(e,n,r),(!(pe&2)||e!==Ke)&&(e===Ke&&(!(pe&2)&&(oc|=n),He===4&&rr(e,Qe)),xt(e,r),n===1&&pe===0&&!(t.mode&1)&&(os=Ie()+500,ec&&Pr()))}function xt(e,t){var n=e.callbackNode;bC(e,t);var r=al(e,e===Ke?Qe:0);if(r===0)n!==null&&gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gm(n),t===1)e.tag===0?wE(lg.bind(null,e)):j0(lg.bind(null,e)),gE(function(){!(pe&6)&&Pr()}),n=null;else{switch(r0(r)){case 1:n=Qf;break;case 4:n=e0;break;case 16:n=il;break;case 536870912:n=t0;break;default:n=il}n=Ex(n,xx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xx(e,t){if(Ya=-1,Xa=0,pe&6)throw Error(U(327));var n=e.callbackNode;if(qo()&&e.callbackNode!==n)return null;var r=al(e,e===Ke?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var o=pe;pe|=2;var s=bx();(Ke!==e||Qe!==t)&&(Sn=null,os=Ie()+500,Kr(e,t));do try{zE();break}catch(a){wx(e,a)}while(1);uh(),_l.current=s,pe=o,Ue!==null?t=0:(Ke=null,Qe=0,t=He)}if(t!==0){if(t===2&&(o=kd(e),o!==0&&(r=o,t=Jd(e,o))),t===1)throw n=_i,Kr(e,0),rr(e,r),xt(e,Ie()),n;if(t===6)rr(e,r);else{if(o=e.current.alternate,!(r&30)&&!FE(o)&&(t=Cl(e,r),t===2&&(s=kd(e),s!==0&&(r=s,t=Jd(e,s))),t===1))throw n=_i,Kr(e,0),rr(e,r),xt(e,Ie()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Ir(e,pt,Sn);break;case 3:if(rr(e,r),(r&130023424)===r&&(t=Ch+500-Ie(),10<t)){if(al(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ad(Ir.bind(null,e,pt,Sn),t);break}Ir(e,pt,Sn);break;case 4:if(rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-rn(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LE(r/1960))-r,10<r){e.timeoutHandle=Ad(Ir.bind(null,e,pt,Sn),r);break}Ir(e,pt,Sn);break;case 5:Ir(e,pt,Sn);break;default:throw Error(U(329))}}}return xt(e,Ie()),e.callbackNode===n?xx.bind(null,e):null}function Jd(e,t){var n=Qs;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=pt,pt=n,t!==null&&Zd(t)),e}function Zd(e){pt===null?pt=e:pt.push.apply(pt,e)}function FE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!sn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~kh,t&=~oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function lg(e){if(pe&6)throw Error(U(327));qo();var t=al(e,0);if(!(t&1))return xt(e,Ie()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=kd(e);r!==0&&(t=r,n=Jd(e,r))}if(n===1)throw n=_i,Kr(e,0),rr(e,t),xt(e,Ie()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ir(e,pt,Sn),xt(e,Ie()),null}function Eh(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(os=Ie()+500,ec&&Pr())}}function eo(e){ir!==null&&ir.tag===0&&!(pe&6)&&qo();var t=pe;pe|=1;var n=Wt.transition,r=we;try{if(Wt.transition=null,we=1,e)return e()}finally{we=r,Wt.transition=n,pe=t,!(pe&6)&&Pr()}}function Ph(){kt=$o.current,je($o)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mE(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:ns(),je(vt),je(rt),gh();break;case 5:mh(r);break;case 4:ns();break;case 13:je(Ne);break;case 19:je(Ne);break;case 10:dh(r.type._context);break;case 22:case 23:Ph()}n=n.return}if(Ke=e,Ue=e=mr(e.current,null),Qe=kt=t,He=0,_i=null,kh=oc=Zr=0,pt=Qs=null,Wr!==null){for(t=0;t<Wr.length;t++)if(n=Wr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Wr=null}return e}function wx(e,t){do{var n=Ue;try{if(uh(),qa.current=bl,wl){for(var r=Ae.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wl=!1}if(Jr=0,Ge=We=Ae=null,Ys=!1,xi=0,Sh.current=null,n===null||n.return===null){He=1,_i=t,Ue=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ym(i);if(m!==null){m.flags&=-257,Xm(m,i,a,s,t),m.mode&1&&Km(s,c,t),t=m,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){Km(s,c,t),jh();break e}l=Error(U(426))}}else if(Te&&a.mode&1){var _=Ym(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Xm(_,i,a,s,t),lh(rs(l,a));break e}}s=l=rs(l,a),He!==4&&(He=2),Qs===null?Qs=[s]:Qs.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=rx(s,l,t);Um(s,y);break e;case 1:a=l;var x=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hr===null||!hr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=ox(s,a,t);Um(s,b);break e}}s=s.return}while(s!==null)}Sx(n)}catch(S){t=S,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function bx(){var e=_l.current;return _l.current=bl,e===null?bl:e}function jh(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(Zr&268435455)&&!(oc&268435455)||rr(Ke,Qe)}function Cl(e,t){var n=pe;pe|=2;var r=bx();(Ke!==e||Qe!==t)&&(Sn=null,Kr(e,t));do try{VE();break}catch(o){wx(e,o)}while(1);if(uh(),pe=n,_l.current=r,Ue!==null)throw Error(U(261));return Ke=null,Qe=0,He}function VE(){for(;Ue!==null;)_x(Ue)}function zE(){for(;Ue!==null&&!fC();)_x(Ue)}function _x(e){var t=Cx(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Sx(e):Ue=t,Sh.current=null}function Sx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DE(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ue=null;return}}else if(n=ME(n,t,kt),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);He===0&&(He=5)}function Ir(e,t,n){var r=we,o=Wt.transition;try{Wt.transition=null,we=1,UE(e,t,n,r)}finally{Wt.transition=o,we=r}return null}function UE(e,t,n,r){do qo();while(ir!==null);if(pe&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_C(e,s),e===Ke&&(Ue=Ke=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wa||(wa=!0,Ex(il,function(){return qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var i=we;we=1;var a=pe;pe|=4,Sh.current=null,$E(e,n),vx(n,e),lE(Nd),ll=!!Td,Nd=Td=null,e.current=n,IE(n),hC(),pe=a,we=i,Wt.transition=s}else e.current=n;if(wa&&(wa=!1,ir=e,kl=o),s=e.pendingLanes,s===0&&(hr=null),gC(n.stateNode),xt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Sl)throw Sl=!1,e=Xd,Xd=null,e;return kl&1&&e.tag!==0&&qo(),s=e.pendingLanes,s&1?e===Qd?Js++:(Js=0,Qd=e):Js=0,Pr(),null}function qo(){if(ir!==null){var e=r0(kl),t=Wt.transition,n=we;try{if(Wt.transition=null,we=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,kl=0,pe&6)throw Error(U(331));var o=pe;for(pe|=4,K=e.current;K!==null;){var s=K,i=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Xs(8,d,s)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,m=d.return;if(px(d),d===c){K=null;break}if(h!==null){h.return=m,K=h;break}K=m}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}K=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,K=i;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xs(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,K=y;break e}K=s.return}}var x=e.current;for(K=x;K!==null;){i=K;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,K=g;else e:for(i=x;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(S){Oe(a,a.return,S)}if(a===i){K=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,K=b;break e}K=a.return}}if(pe=o,Pr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Yl,e)}catch{}r=!0}return r}finally{we=n,Wt.transition=t}}return!1}function cg(e,t,n){t=rs(n,t),t=rx(e,t,1),e=fr(e,t,1),t=lt(),e!==null&&(Di(e,1,t),xt(e,t))}function Oe(e,t,n){if(e.tag===3)cg(e,e,n);else for(;t!==null;){if(t.tag===3){cg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){e=rs(n,e),e=ox(t,e,1),t=fr(t,e,1),e=lt(),t!==null&&(Di(t,1,e),xt(t,e));break}}t=t.return}}function BE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Qe&n)===n&&(He===4||He===3&&(Qe&130023424)===Qe&&500>Ie()-Ch?Kr(e,0):kh|=n),xt(e,t)}function kx(e,t){t===0&&(e.mode&1?(t=ua,ua<<=1,!(ua&130023424)&&(ua=4194304)):t=1);var n=lt();e=$n(e,t),e!==null&&(Di(e,t,n),xt(e,n))}function WE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kx(e,n)}function HE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),kx(e,n)}var Cx;Cx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,AE(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Te&&t.flags&1048576&&T0(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var o=Zo(t,rt.current);Ho(t,n),o=yh(null,t,r,e,o,n);var s=xh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(r)?(s=!0,hl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,hh(t),o.updater=nc,t.stateNode=o,o._reactInternals=t,Fd(t,r,e,n),t=Ud(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&ih(t),at(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=GE(r),e=Zt(r,e),o){case 0:t=zd(null,t,r,e,n);break e;case 1:t=Zm(null,t,r,e,n);break e;case 11:t=Qm(null,t,r,e,n);break e;case 14:t=Jm(null,t,r,Zt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Zt(r,o),zd(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Zt(r,o),Zm(e,t,r,o,n);case 3:e:{if(lx(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,o=s.element,O0(e,t),yl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=rs(Error(U(423)),t),t=eg(e,t,r,n,o);break e}else if(r!==o){o=rs(Error(U(424)),t),t=eg(e,t,r,n,o);break e}else for(Et=dr(t.stateNode.containerInfo.firstChild),Pt=t,Te=!0,nn=null,n=M0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===o){t=In(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return $0(t),e===null&&$d(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Rd(r,o)?i=null:s!==null&&Rd(r,s)&&(t.flags|=32),ax(e,t),at(e,t,i,n),t.child;case 6:return e===null&&$d(t),null;case 13:return cx(e,t,n);case 4:return ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ts(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Zt(r,o),Qm(e,t,r,o,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ke(gl,r._currentValue),r._currentValue=i,s!==null)if(sn(s.value,i)){if(s.children===o.children&&!vt.current){t=In(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Id(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Id(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}at(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ho(t,n),o=qt(o),r=r(o),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,o=Zt(r,t.pendingProps),o=Zt(r.type,o),Jm(e,t,r,o,n);case 15:return sx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Zt(r,o),Ka(e,t),t.tag=1,yt(r)?(e=!0,hl(t)):e=!1,Ho(t,n),nx(t,r,o),Fd(t,r,o,n),Ud(null,t,r,!0,e,n);case 19:return ux(e,t,n);case 22:return ix(e,t,n)}throw Error(U(156,t.tag))};function Ex(e,t){return Zy(e,t)}function qE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,r){return new qE(e,t,n,r)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GE(e){if(typeof e=="function")return Th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kf)return 11;if(e===Yf)return 14}return 2}function mr(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qa(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Th(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Eo:return Yr(n.children,o,s,t);case Gf:i=8,o|=8;break;case cd:return e=Bt(12,n,t,o|2),e.elementType=cd,e.lanes=s,e;case ud:return e=Bt(13,n,t,o),e.elementType=ud,e.lanes=s,e;case dd:return e=Bt(19,n,t,o),e.elementType=dd,e.lanes=s,e;case $y:return sc(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dy:i=10;break e;case Oy:i=9;break e;case Kf:i=11;break e;case Yf:i=14;break e;case Jn:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Bt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Yr(e,t,n,r){return e=Bt(7,e,r,t),e.lanes=n,e}function sc(e,t,n,r){return e=Bt(22,e,r,t),e.elementType=$y,e.lanes=n,e.stateNode={isHidden:!1},e}function ku(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function Cu(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Nh(e,t,n,r,o,s,i,a,l){return e=new KE(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Bt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(s),e}function YE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Px(e){if(!e)return wr;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(yt(n))return P0(e,n,t)}return t}function jx(e,t,n,r,o,s,i,a,l){return e=Nh(n,r,!0,e,o,s,i,a,l),e.context=Px(null),n=e.current,r=lt(),o=pr(n),s=Tn(r,o),s.callback=t??null,fr(n,s,o),e.current.lanes=o,Di(e,o,r),xt(e,r),e}function ic(e,t,n,r){var o=t.current,s=lt(),i=pr(o);return n=Px(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fr(o,t,i),e!==null&&(on(e,o,i,s),Ha(e,o,i)),i}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rh(e,t){ug(e,t),(e=e.alternate)&&ug(e,t)}function XE(){return null}var Tx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ah(e){this._internalRoot=e}ac.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));ic(e,t,null,null)};ac.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eo(function(){ic(null,e,null,null)}),t[On]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=i0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nr.length&&t!==0&&t<nr[n].priority;n++);nr.splice(n,0,e),n===0&&l0(e)}};function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dg(){}function QE(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=El(i);s.call(c)}}var i=jx(t,r,e,0,null,!1,!1,"",dg);return e._reactRootContainer=i,e[On]=i.current,pi(e.nodeType===8?e.parentNode:e),eo(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=El(l);a.call(c)}}var l=Nh(e,0,!1,null,null,!1,!1,"",dg);return e._reactRootContainer=l,e[On]=l.current,pi(e.nodeType===8?e.parentNode:e),eo(function(){ic(t,l,n,r)}),l}function cc(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=El(i);a.call(l)}}ic(t,i,e,o)}else i=QE(n,t,e,o,r);return El(i)}o0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Jf(t,n|1),xt(t,Ie()),!(pe&6)&&(os=Ie()+500,Pr()))}break;case 13:eo(function(){var r=$n(e,1);if(r!==null){var o=lt();on(r,e,1,o)}}),Rh(e,1)}};Zf=function(e){if(e.tag===13){var t=$n(e,134217728);if(t!==null){var n=lt();on(t,e,134217728,n)}Rh(e,134217728)}};s0=function(e){if(e.tag===13){var t=pr(e),n=$n(e,t);if(n!==null){var r=lt();on(n,e,t,r)}Rh(e,t)}};i0=function(){return we};a0=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};bd=function(e,t,n){switch(t){case"input":if(pd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Zl(r);if(!o)throw Error(U(90));Ly(r),pd(r,o)}}}break;case"textarea":Vy(e,n);break;case"select":t=n.value,t!=null&&zo(e,!!n.multiple,t,!1)}};Gy=Eh;Ky=eo;var JE={usingClientEntryPoint:!1,Events:[$i,No,Zl,Hy,qy,Eh]},Ts={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZE={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||XE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{Yl=ba.inject(ZE),gn=ba}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(t))throw Error(U(200));return YE(e,t,null,n)};Mt.createRoot=function(e,t){if(!Mh(e))throw Error(U(299));var n=!1,r="",o=Tx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Nh(e,1,!1,null,null,n,!1,r,o),e[On]=t.current,pi(e.nodeType===8?e.parentNode:e),new Ah(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Qy(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return eo(e)};Mt.hydrate=function(e,t,n){if(!lc(t))throw Error(U(200));return cc(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Mh(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Tx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=jx(t,null,e,1,n??null,o,!1,s,i),e[On]=t.current,pi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ac(t)};Mt.render=function(e,t,n){if(!lc(t))throw Error(U(200));return cc(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!lc(e))throw Error(U(40));return e._reactRootContainer?(eo(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};Mt.unstable_batchedUpdates=Eh;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lc(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return cc(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function Nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nx)}catch(e){console.error(e)}}Nx(),Ny.exports=Mt;var ao=Ny.exports;const eP=yy(ao);var fg=ao;ad.createRoot=fg.createRoot,ad.hydrateRoot=fg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}var ar;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ar||(ar={}));const hg="popstate";function tP(e){e===void 0&&(e={});function t(r,o){let{pathname:s,search:i,hash:a}=r.location;return ef("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Pl(o)}return rP(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nP(){return Math.random().toString(36).substr(2,8)}function pg(e,t){return{usr:e.state,key:e.key,idx:t}}function ef(e,t,n,r){return n===void 0&&(n=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:n,key:t&&t.key||r||nP()})}function Pl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rP(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=ar.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Si({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=ar.Pop;let _=d(),y=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:y})}function h(_,y){a=ar.Push;let x=ef(v.location,_,y);n&&n(x,_),c=d()+1;let g=pg(x,c),b=v.createHref(x);try{i.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(b)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,y){a=ar.Replace;let x=ef(v.location,_,y);n&&n(x,_),c=d();let g=pg(x,c),b=v.createHref(x);i.replaceState(g,"",b),s&&l&&l({action:a,location:v.location,delta:0})}function w(_){let y=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof _=="string"?_:Pl(_);return x=x.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return a},get location(){return e(o,i)},listen(_){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(hg,f),l=_,()=>{o.removeEventListener(hg,f),l=null}},createHref(_){return t(o,_)},createURL:w,encodeLocation(_){let y=w(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(_){return i.go(_)}};return v}var mg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mg||(mg={}));function oP(e,t,n){return n===void 0&&(n="/"),sP(e,t,n,!1)}function sP(e,t,n,r){let o=typeof t=="string"?gs(t):t,s=Dh(o.pathname||"/",n);if(s==null)return null;let i=Ax(e);iP(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=vP(s);a=mP(i[l],c,r)}return a}function Ax(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=gr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ax(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:hP(c,s.index),routesMeta:d})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of Mx(s.path))o(s,i,l)}),t}function Mx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=Mx(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aP=/^:[\w-]+$/,lP=3,cP=2,uP=1,dP=10,fP=-2,gg=e=>e==="*";function hP(e,t){let n=e.split("/"),r=n.length;return n.some(gg)&&(r+=fP),t&&(r+=cP),n.filter(o=>!gg(o)).reduce((o,s)=>o+(aP.test(s)?lP:s===""?uP:dP),r)}function pP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function mP(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,o={},s="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=vg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=vg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(o,f.params),i.push({params:o,pathname:gr([s,f.pathname]),pathnameBase:bP(gr([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=gr([s,f.pathnameBase]))}return i}function vg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";i=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function gP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Rx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function vP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?gs(e):e;return{pathname:n?n.startsWith("/")?n:xP(n,t):t,search:_P(r),hash:SP(o)}}function xP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Eu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dx(e,t){let n=wP(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ox(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=gs(e):(o=Si({},e),Be(!o.pathname||!o.pathname.includes("?"),Eu("?","pathname","search",o)),Be(!o.pathname||!o.pathname.includes("#"),Eu("#","pathname","hash",o)),Be(!o.search||!o.search.includes("#"),Eu("#","search","hash",o)));let s=e===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=yP(o,a),c=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const gr=e=>e.join("/").replace(/\/\/+/g,"/"),bP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $x=["post","put","patch","delete"];new Set($x);const CP=["get",...$x];new Set(CP);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(this,arguments)}const Oh=p.createContext(null),EP=p.createContext(null),lo=p.createContext(null),uc=p.createContext(null),jr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Ix=p.createContext(null);function PP(e,t){let{relative:n}=t===void 0?{}:t;Li()||Be(!1);let{basename:r,navigator:o}=p.useContext(lo),{hash:s,pathname:i,search:a}=Fx(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:gr([r,i])),o.createHref({pathname:l,search:a,hash:s})}function Li(){return p.useContext(uc)!=null}function Fi(){return Li()||Be(!1),p.useContext(uc).location}function Lx(e){p.useContext(lo).static||p.useLayoutEffect(e)}function Vi(){let{isDataRoute:e}=p.useContext(jr);return e?VP():jP()}function jP(){Li()||Be(!1);let e=p.useContext(Oh),{basename:t,future:n,navigator:r}=p.useContext(lo),{matches:o}=p.useContext(jr),{pathname:s}=Fi(),i=JSON.stringify(Dx(o,n.v7_relativeSplatPath)),a=p.useRef(!1);return Lx(()=>{a.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Ox(c,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,s,e])}function $h(){let{matches:e}=p.useContext(jr),t=e[e.length-1];return t?t.params:{}}function Fx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(lo),{matches:o}=p.useContext(jr),{pathname:s}=Fi(),i=JSON.stringify(Dx(o,r.v7_relativeSplatPath));return p.useMemo(()=>Ox(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function TP(e,t){return NP(e,t)}function NP(e,t,n,r){Li()||Be(!1);let{navigator:o,static:s}=p.useContext(lo),{matches:i}=p.useContext(jr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Fi(),f;if(t){var h;let y=typeof t=="string"?gs(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Be(!1),f=y}else f=d;let m=f.pathname||"/",w=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!s&&n&&n.matches&&n.matches.length>0?n.matches:oP(e,{pathname:w}),_=OP(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gr([c,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gr([c,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&_?p.createElement(uc.Provider,{value:{location:ki({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ar.Pop}},_):_}function RP(){let e=FP(),t=kP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:o},n):null,s)}const AP=p.createElement(RP,null);class MP extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(jr.Provider,{value:this.props.routeContext},p.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DP(e){let{routeContext:t,match:n,children:r}=e,o=p.useContext(Oh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(jr.Provider,{value:t},r)}function OP(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Be(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,w=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||AP,l&&(c<0&&h===0?(zP("route-fallback",!1),w=!0,_=null):c===h&&(w=!0,_=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),x=()=>{let g;return m?g=v:w?g=_:f.route.Component?g=p.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,p.createElement(DP,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(MP,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Vx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vx||{}),jl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jl||{});function $P(e){let t=p.useContext(Oh);return t||Be(!1),t}function IP(e){let t=p.useContext(EP);return t||Be(!1),t}function LP(e){let t=p.useContext(jr);return t||Be(!1),t}function zx(e){let t=LP(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function FP(){var e;let t=p.useContext(Ix),n=IP(jl.UseRouteError),r=zx(jl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function VP(){let{router:e}=$P(Vx.UseNavigateStable),t=zx(jl.UseNavigateStable),n=p.useRef(!1);return Lx(()=>{n.current=!0}),p.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,ki({fromRouteId:t},s)))},[e,t])}const yg={};function zP(e,t,n){!t&&!yg[e]&&(yg[e]=!0)}function UP(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _n(e){Be(!1)}function BP(e){let{basename:t="/",children:n=null,location:r,navigationType:o=ar.Pop,navigator:s,static:i=!1,future:a}=e;Li()&&Be(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:s,static:i,future:ki({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof r=="string"&&(r=gs(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=r,v=p.useMemo(()=>{let _=Dh(d,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:w},navigationType:o}},[l,d,f,h,m,w,o]);return v==null?null:p.createElement(lo.Provider,{value:c},p.createElement(uc.Provider,{children:n,value:v}))}function WP(e){let{children:t,location:n}=e;return TP(tf(t),n)}new Promise(()=>{});function tf(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,o)=>{if(!p.isValidElement(r))return;let s=[...t,o];if(r.type===p.Fragment){n.push.apply(n,tf(r.props.children,s));return}r.type!==_n&&Be(!1),!r.props.index||!r.props.children||Be(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=tf(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}function HP(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GP(e,t){return e.button===0&&(!t||t==="_self")&&!qP(e)}const KP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YP="6";try{window.__reactRouterVersion=YP}catch{}const XP="startTransition",xg=Kl[XP];function QP(e){let{basename:t,children:n,future:r,window:o}=e,s=p.useRef();s.current==null&&(s.current=tP({window:o,v5Compat:!0}));let i=s.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=p.useCallback(f=>{c&&xg?xg(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>UP(r),[r]),p.createElement(BP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=p.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=HP(t,KP),{basename:m}=p.useContext(lo),w,v=!1;if(typeof c=="string"&&ZP.test(c)&&(w=c,JP))try{let g=new URL(window.location.href),b=c.startsWith("//")?new URL(g.protocol+c):new URL(c),S=Dh(b.pathname,m);b.origin===g.origin&&S!=null?c=S+b.search+b.hash:v=!0}catch{}let _=PP(c,{relative:o}),y=ej(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:o,viewTransition:f});function x(g){r&&r(g),g.defaultPrevented||y(g)}return p.createElement("a",nf({},h,{href:w||_,onClick:v||s?r:x,ref:n,target:l}))});var wg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wg||(wg={}));var bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function ej(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:i,viewTransition:a}=t===void 0?{}:t,l=Vi(),c=Fi(),d=Fx(e,{relative:i});return p.useCallback(f=>{if(GP(f,n)){f.preventDefault();let h=r!==void 0?r:Pl(c)===Pl(d);l(e,{replace:h,state:o,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,d,r,o,n,e,s,i,a])}function Ux(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ux(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bx(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ux(e))&&(r&&(r+=" "),r+=t);return r}function tj(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Wx(t))&&(r&&(r+=" "),r+=n);return r}function Wx(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Wx(e[r]))&&(n&&(n+=" "),n+=t);return n}var Ih="-";function nj(e){var t=oj(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=r===void 0?{}:r;function s(a){var l=a.split(Ih);return l[0]===""&&l.length!==1&&l.shift(),Hx(l,t)||rj(a)}function i(a,l){var c=n[a]||[];return l&&o[a]?[].concat(c,o[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:i}}function Hx(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?Hx(e.slice(1),r):void 0;if(o)return o;if(t.validators.length!==0){var s=e.join(Ih);return(i=t.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:i.classGroupId}}var _g=/^\[(.+)\]$/;function rj(e){if(_g.test(e)){var t=_g.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function oj(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=ij(Object.entries(e.classGroups),n);return o.forEach(function(s){var i=s[0],a=s[1];rf(a,r,i,t)}),r}function rf(e,t,n,r){e.forEach(function(o){if(typeof o=="string"){var s=o===""?t:Sg(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(sj(o)){rf(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(i){var a=i[0],l=i[1];rf(l,Sg(t,a),n,r)})})}function Sg(e,t){var n=e;return t.split(Ih).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function sj(e){return e.isThemeGetter}function ij(e,t){return t?e.map(function(n){var r=n[0],o=n[1],s=o.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):i});return[r,s]}):e}function aj(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(s,i){n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return o(i,a),a},set:function(i,a){n.has(i)?n.set(i,a):o(i,a)}}}var qx="!";function lj(e){var t=e.separator||":",n=t.length===1,r=t[0],o=t.length;return function(i){for(var a=[],l=0,c=0,d,f=0;f<i.length;f++){var h=i[f];if(l===0){if(h===r&&(n||i.slice(f,f+o)===t)){a.push(i.slice(c,f)),c=f+o;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var m=a.length===0?i:i.substring(c),w=m.startsWith(qx),v=w?m.substring(1):m,_=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:_}}}function cj(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var o=r[0]==="[";o?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function uj(e){return{cache:aj(e.cacheSize),splitModifiers:lj(e),...nj(e)}}var dj=/\s+/;function fj(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(dj).map(function(i){var a=n(i),l=a.modifiers,c=a.hasImportantModifier,d=a.baseClassName,f=a.maybePostfixModifierPosition,h=r(f?d.substring(0,f):d),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:i};if(h=r(d),!h)return{isTailwindClass:!1,originalClassName:i};m=!1}var w=cj(l).join(":"),v=c?w+qx:w;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var a=i.modifierId,l=i.classGroupId,c=i.hasPostfixModifier,d=a+l;return s.has(d)?!1:(s.add(d),o(l,c).forEach(function(f){return s.add(a+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function hj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,s,i=a;function a(c){var d=t[0],f=t.slice(1),h=f.reduce(function(m,w){return w(m)},d());return r=uj(h),o=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){var d=o(c);if(d)return d;var f=fj(c,r);return s(c,f),f}return function(){return i(tj.apply(null,arguments))}}function Ee(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Gx=/^\[(?:([a-z-]+):)?(.+)\]$/i,pj=/^\d+\/\d+$/,mj=new Set(["px","full","screen"]),gj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yj=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Jt(e){return qr(e)||mj.has(e)||pj.test(e)||of(e)}function of(e){return co(e,"length",kj)}function xj(e){return co(e,"size",Kx)}function wj(e){return co(e,"position",Kx)}function bj(e){return co(e,"url",Cj)}function _a(e){return co(e,"number",qr)}function qr(e){return!Number.isNaN(Number(e))}function _j(e){return e.endsWith("%")&&qr(e.slice(0,-1))}function Ns(e){return kg(e)||co(e,"number",kg)}function de(e){return Gx.test(e)}function Rs(){return!0}function Gn(e){return gj.test(e)}function Sj(e){return co(e,"",Ej)}function co(e,t,n){var r=Gx.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function kj(e){return vj.test(e)}function Kx(){return!1}function Cj(e){return e.startsWith("url(")}function kg(e){return Number.isInteger(Number(e))}function Ej(e){return yj.test(e)}function Pj(){var e=Ee("colors"),t=Ee("spacing"),n=Ee("blur"),r=Ee("brightness"),o=Ee("borderColor"),s=Ee("borderRadius"),i=Ee("borderSpacing"),a=Ee("borderWidth"),l=Ee("contrast"),c=Ee("grayscale"),d=Ee("hueRotate"),f=Ee("invert"),h=Ee("gap"),m=Ee("gradientColorStops"),w=Ee("gradientColorStopPositions"),v=Ee("inset"),_=Ee("margin"),y=Ee("opacity"),x=Ee("padding"),g=Ee("saturate"),b=Ee("scale"),S=Ee("sepia"),k=Ee("skew"),C=Ee("space"),E=Ee("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",de,t]},I=function(){return[de,t]},W=function(){return["",Jt]},O=function(){return["auto",qr,de]},B=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},H=function(){return["solid","dashed","dotted","double","none"]},Z=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},N=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",de]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},L=function(){return[qr,_a]},q=function(){return[qr,de]};return{cacheSize:500,theme:{colors:[Rs],spacing:[Jt],blur:["none","",Gn,de],brightness:L(),borderColor:[e],borderRadius:["none","","full",Gn,de],borderSpacing:I(),borderWidth:W(),contrast:L(),grayscale:j(),hueRotate:q(),invert:j(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[_j,of],inset:V(),margin:V(),opacity:L(),padding:I(),saturate:L(),scale:L(),sepia:j(),skew:q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Gn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(B(),[de])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ns]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ns]}],"grid-cols":[{"grid-cols":[Rs]}],"col-start-end":[{col:["auto",{span:["full",Ns]},de]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Rs]}],"row-start-end":[{row:["auto",{span:[Ns]},de]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(N())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(N(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(N(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",de,t]}],"min-w":[{"min-w":["min","max","fit",de,Jt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Gn]},Gn,de]}],h:[{h:[de,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",de,Jt]}],"max-h":[{"max-h":[de,t,"min","max","fit"]}],"font-size":[{text:["base",Gn,of]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_a]}],"font-family":[{font:[Rs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",qr,_a]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",de,Jt]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(H(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Jt]}],"underline-offset":[{"underline-offset":["auto",de,Jt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(B(),[wj])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(H(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(H())}],"outline-offset":[{"outline-offset":[de,Jt]}],"outline-w":[{outline:[Jt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gn,Sj]}],"shadow-color":[{shadow:[Rs]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":Z()}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Gn,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ns,de]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jt,_a]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var jj=hj(Pj);function me(...e){return jj(Bx(e))}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Cg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dc(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Cg(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Cg(e[o],null)}}}}function Le(...e){return p.useCallback(dc(...e),e)}function Tj(e,t){const n=p.createContext(t),r=s=>{const{children:i,...a}=s,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Tr(e,t=[]){let n=[];function r(s,i){const a=p.createContext(i),l=n.length;n=[...n,i];const c=f=>{var y;const{scope:h,children:m,...w}=f,v=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,_=p.useMemo(()=>w,Object.values(w));return u.jsx(v.Provider,{value:_,children:m})};c.displayName=s+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,w=p.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const o=()=>{const s=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,Nj(o,...t)]}function Nj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ss(e){const t=Aj(e),n=p.forwardRef((r,o)=>{const{children:s,...i}=r,a=p.Children.toArray(s),l=a.find(Dj);if(l){const c=l.props.children,d=a.map(f=>f===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:o,children:p.isValidElement(c)?p.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var Rj=ss("Slot");function Aj(e){const t=p.forwardRef((n,r)=>{const{children:o,...s}=n;if(p.isValidElement(o)){const i=$j(o),a=Oj(s,o.props);return o.type!==p.Fragment&&(a.ref=r?dc(r,i):i),p.cloneElement(o,a)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yx=Symbol("radix.slottable");function Mj(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Yx,t}function Dj(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yx}function Oj(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function $j(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lh(e){const t=e+"CollectionProvider",[n,r]=Tr(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:_,children:y}=v,x=ve.useRef(null),g=ve.useRef(new Map).current;return u.jsx(o,{scope:_,itemMap:g,collectionRef:x,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=ss(a),c=ve.forwardRef((v,_)=>{const{scope:y,children:x}=v,g=s(a,y),b=Le(_,g.collectionRef);return u.jsx(l,{ref:b,children:x})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=ss(d),m=ve.forwardRef((v,_)=>{const{scope:y,children:x,...g}=v,b=ve.useRef(null),S=Le(_,b),k=s(d,y);return ve.useEffect(()=>(k.itemMap.set(b,{ref:b,...g}),()=>void k.itemMap.delete(b))),u.jsx(h,{[f]:"",ref:S,children:x})});m.displayName=d;function w(v){const _=s(e+"CollectionConsumer",v);return ve.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((k,C)=>g.indexOf(k.ref.current)-g.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},w,r]}var Ij=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=Ij.reduce((e,t)=>{const n=ss(`Primitive.${t}`),r=p.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Fh(e,t){e&&ao.flushSync(()=>e.dispatchEvent(t))}function Rt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Lj(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e);p.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Fj="DismissableLayer",sf="dismissableLayer.update",Vj="dismissableLayer.pointerDownOutside",zj="dismissableLayer.focusOutside",Eg,Xx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,c=p.useContext(Xx),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=Le(t,C=>f(C)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(_),x=d?v.indexOf(d):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,S=Bj(C=>{const E=C.target,P=[...c.branches].some(A=>A.contains(E));!b||P||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},h),k=Wj(C=>{const E=C.target;[...c.branches].some(A=>A.contains(E))||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},h);return Lj(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Eg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Pg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Eg)}},[d,h,n,c]),p.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Pg())},[d,c]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(sf,C),()=>document.removeEventListener(sf,C)},[]),u.jsx(be.div,{...l,ref:w,style:{pointerEvents:g?b?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});fc.displayName=Fj;var Uj="DismissableLayerBranch",Qx=p.forwardRef((e,t)=>{const n=p.useContext(Xx),r=p.useRef(null),o=Le(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(be.div,{...e,ref:o})});Qx.displayName=Uj;function Bj(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),r=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Jx(Vj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Wj(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),r=p.useRef(!1);return p.useEffect(()=>{const o=s=>{s.target&&!r.current&&Jx(zj,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pg(){const e=new CustomEvent(sf);document.dispatchEvent(e)}function Jx(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Fh(o,s):o.dispatchEvent(s)}var Hj=fc,qj=Qx,Ln=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Gj="Portal",hc=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=p.useState(!1);Ln(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?eP.createPortal(u.jsx(be.div,{...r,ref:t}),i):null});hc.displayName=Gj;function Kj(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Bn=e=>{const{present:t,children:n}=e,r=Yj(t),o=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=Le(r.ref,Xj(o));return typeof n=="function"||r.isPresent?p.cloneElement(o,{ref:s}):null};Bn.displayName="Presence";function Yj(e){const[t,n]=p.useState(),r=p.useRef(null),o=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[a,l]=Kj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Sa(r.current);s.current=a==="mounted"?c:"none"},[a]),Ln(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,m=Sa(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Ln(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Sa(r.current).includes(m.animationName);if(m.target===t&&v&&(l("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=m=>{m.target===t&&(s.current=Sa(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Sa(e){return(e==null?void 0:e.animationName)||"none"}function Xj(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qj=Kl[" useInsertionEffect ".trim().toString()]||Ln;function pc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,i]=Jj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:o;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=p.useCallback(d=>{var f;if(a){const h=Zj(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[a,e,s,i]);return[l,c]}function Jj({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),o=p.useRef(n),s=p.useRef(t);return Qj(()=>{s.current=t},[t]),p.useEffect(()=>{var i;o.current!==n&&((i=s.current)==null||i.call(s,n),o.current=n)},[n,o]),[n,r,s]}function Zj(e){return typeof e=="function"}var eT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tT="VisuallyHidden",Vh=p.forwardRef((e,t)=>u.jsx(be.span,{...e,ref:t,style:{...eT,...e.style}}));Vh.displayName=tT;var zh="ToastProvider",[Uh,nT,rT]=Lh("Toast"),[Zx,P3]=Tr("Toast",[rT]),[oT,mc]=Zx(zh),ew=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=p.useState(null),[c,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zh}\`. Expected non-empty \`string\`.`),u.jsx(Uh.Provider,{scope:t,children:u.jsx(oT,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};ew.displayName=zh;var tw="ToastViewport",sT=["F8"],af="toast.viewportPause",lf="toast.viewportResume",nw=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=sT,label:o="Notifications ({hotkey})",...s}=e,i=mc(tw,n),a=nT(n),l=p.useRef(null),c=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Le(t,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;p.useEffect(()=>{const _=y=>{var g;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=l.current,y=f.current;if(w&&_&&y){const x=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(af);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(lf);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},b=k=>{!_.contains(k.relatedTarget)&&g()},S=()=>{_.contains(document.activeElement)||g()};return _.addEventListener("focusin",x),_.addEventListener("focusout",b),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",g),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",b),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",g)}}},[w,i.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const x=a().map(g=>{const b=g.ref.current,S=[b,...yT(b)];return _==="forwards"?S:S.reverse()});return(_==="forwards"?x.reverse():x).flat()},[a]);return p.useEffect(()=>{const _=f.current;if(_){const y=x=>{var S,k,C;const g=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!g){const E=document.activeElement,P=x.shiftKey;if(x.target===_&&P){(S=c.current)==null||S.focus();return}const I=v({tabbingDirection:P?"backwards":"forwards"}),W=I.findIndex(O=>O===E);Pu(I.slice(W+1))?x.preventDefault():P?(k=c.current)==null||k.focus():(C=d.current)==null||C.focus()}};return _.addEventListener("keydown",y),()=>_.removeEventListener("keydown",y)}},[a,v]),u.jsxs(qj,{ref:l,role:"region","aria-label":o.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(cf,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Pu(_)}}),u.jsx(Uh.Slot,{scope:n,children:u.jsx(be.ol,{tabIndex:-1,...s,ref:h})}),w&&u.jsx(cf,{ref:d,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Pu(_)}})]})});nw.displayName=tw;var rw="ToastFocusProxy",cf=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=mc(rw,n);return u.jsx(Vh,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});cf.displayName=rw;var zi="Toast",iT="toast.swipeStart",aT="toast.swipeMove",lT="toast.swipeCancel",cT="toast.swipeEnd",ow=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a,l]=pc({prop:r,defaultProp:o??!0,onChange:s,caller:zi});return u.jsx(Bn,{present:n||a,children:u.jsx(fT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:ee(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ow.displayName=zi;var[uT,dT]=Zx(zi,{onClose(){}}),fT=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...w}=e,v=mc(zi,n),[_,y]=p.useState(null),x=Le(t,O=>y(O)),g=p.useRef(null),b=p.useRef(null),S=o||v.duration,k=p.useRef(0),C=p.useRef(S),E=p.useRef(0),{onToastAdd:P,onToastRemove:A}=v,V=Rt(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),i()}),I=p.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(V,O))},[V]);p.useEffect(()=>{const O=v.viewport;if(O){const B=()=>{I(C.current),c==null||c()},H=()=>{const Z=new Date().getTime()-k.current;C.current=C.current-Z,window.clearTimeout(E.current),l==null||l()};return O.addEventListener(af,H),O.addEventListener(lf,B),()=>{O.removeEventListener(af,H),O.removeEventListener(lf,B)}}},[v.viewport,S,l,c,I]),p.useEffect(()=>{s&&!v.isClosePausedRef.current&&I(S)},[s,S,v.isClosePausedRef,I]),p.useEffect(()=>(P(),()=>A()),[P,A]);const W=p.useMemo(()=>_?dw(_):null,[_]);return v.viewport?u.jsxs(u.Fragment,{children:[W&&u.jsx(hT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),u.jsx(uT,{scope:n,onClose:V,children:ao.createPortal(u.jsx(Uh.ItemSlot,{scope:n,children:u.jsx(Hj,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||V(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:ee(e.onPointerDown,O=>{O.button===0&&(g.current={x:O.clientX,y:O.clientY})}),onPointerMove:ee(e.onPointerMove,O=>{if(!g.current)return;const B=O.clientX-g.current.x,H=O.clientY-g.current.y,Z=!!b.current,N=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=N?j(0,B):0,L=N?0:j(0,H),q=O.pointerType==="touch"?10:2,F={x:z,y:L},G={originalEvent:O,delta:F};Z?(b.current=F,ka(aT,f,G,{discrete:!1})):jg(F,v.swipeDirection,q)?(b.current=F,ka(iT,d,G,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(B)>q||Math.abs(H)>q)&&(g.current=null)}),onPointerUp:ee(e.onPointerUp,O=>{const B=b.current,H=O.target;if(H.hasPointerCapture(O.pointerId)&&H.releasePointerCapture(O.pointerId),b.current=null,g.current=null,B){const Z=O.currentTarget,N={originalEvent:O,delta:B};jg(B,v.swipeDirection,v.swipeThreshold)?ka(cT,m,N,{discrete:!0}):ka(lT,h,N,{discrete:!0}),Z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),hT=e=>{const{__scopeToast:t,children:n,...r}=e,o=mc(zi,t),[s,i]=p.useState(!1),[a,l]=p.useState(!1);return gT(()=>i(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(hc,{asChild:!0,children:u.jsx(Vh,{...r,children:s&&u.jsxs(u.Fragment,{children:[o.label," ",n]})})})},pT="ToastTitle",sw=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(be.div,{...r,ref:t})});sw.displayName=pT;var mT="ToastDescription",iw=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(be.div,{...r,ref:t})});iw.displayName=mT;var aw="ToastAction",lw=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(uw,{altText:n,asChild:!0,children:u.jsx(Bh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aw}\`. Expected non-empty \`string\`.`),null)});lw.displayName=aw;var cw="ToastClose",Bh=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=dT(cw,n);return u.jsx(uw,{asChild:!0,children:u.jsx(be.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,o.onClose)})})});Bh.displayName=cw;var uw=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return u.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function dw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),vT(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...dw(r))}}),t}function ka(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Fh(o,s):o.dispatchEvent(s)}var jg=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function gT(e=()=>{}){const t=Rt(e);Ln(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function vT(e){return e.nodeType===e.ELEMENT_NODE}function yT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var xT=ew,fw=nw,hw=ow,pw=sw,mw=iw,gw=lw,vw=Bh;const Tg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ng=Bx,yw=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ng(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=Tg(d)||Tg(f);return o[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...s,...a}[v]):{...s,...a}[v]===_})?[...c,f,h]:c},[]);return Ng(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var wT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ae=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:i,children:a,...l},c)=>p.createElement("svg",{ref:c,...wT,width:o,height:o,stroke:r,strokeWidth:i?Number(s)*24/Number(o):s,className:`lucide lucide-${bT(e)}`,...l},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},_T=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),xw=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wh=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ST=ae("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),kT=ae("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),ww=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),CT=ae("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ET=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bw=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),PT=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),_w=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),jT=ae("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Hh=ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),TT=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),qh=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),NT=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),RT=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Gh=ae("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),AT=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),MT=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Kh=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),DT=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Yh=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),is=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),uf=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Sw=ae("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),OT=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),kw=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$T=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),IT=ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Cw=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),gc=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),LT=ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),FT=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),no=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xh=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),VT=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Qh=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zT=xT,Ew=ve.forwardRef(({className:e,...t},n)=>u.jsx(fw,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ew.displayName=fw.displayName;const UT=yw("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pw=ve.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(hw,{ref:r,className:me(UT({variant:t}),e),...n}));Pw.displayName=hw.displayName;const BT=ve.forwardRef(({className:e,...t},n)=>u.jsx(gw,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));BT.displayName=gw.displayName;const jw=ve.forwardRef(({className:e,...t},n)=>u.jsx(vw,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Qh,{className:"h-4 w-4"})}));jw.displayName=vw.displayName;const Tw=ve.forwardRef(({className:e,...t},n)=>u.jsx(pw,{ref:n,className:me("text-sm font-semibold",e),...t}));Tw.displayName=pw.displayName;const Nw=ve.forwardRef(({className:e,...t},n)=>u.jsx(mw,{ref:n,className:me("text-sm opacity-90",e),...t}));Nw.displayName=mw.displayName;const WT=1;let ju=0;function HT(){return ju=(ju+1)%Number.MAX_VALUE,ju.toString()}const st={state:{toasts:[]},listeners:[],getState:()=>st.state,setState:e=>{typeof e=="function"?st.state=e(st.state):st.state={...st.state,...e},st.listeners.forEach(t=>t(st.state))},subscribe:e=>(st.listeners.push(e),()=>{st.listeners=st.listeners.filter(t=>t!==e)})},qT=({...e})=>{const t=HT(),n=o=>st.setState(s=>({...s,toasts:s.toasts.map(i=>i.id===t?{...i,...o}:i)})),r=()=>st.setState(o=>({...o,toasts:o.toasts.filter(s=>s.id!==t)}));return st.setState(o=>({...o,toasts:[{...e,id:t,dismiss:r},...o.toasts].slice(0,WT)})),{id:t,dismiss:r,update:n}};function Ot(){const[e,t]=p.useState(st.getState());return p.useEffect(()=>st.subscribe(r=>{t(r)}),[]),p.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const o=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(o)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:qT,toasts:e.toasts}}function GT(){const{toasts:e}=Ot();return u.jsxs(zT,{children:[e.map(({id:t,title:n,description:r,action:o,...s})=>u.jsxs(Pw,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Tw,{children:n}),r&&u.jsx(Nw,{children:r})]}),o,u.jsx(jw,{})]},t)),u.jsx(Ew,{})]})}const KT="modulepreload",YT=function(e){return"/"+e},Rg={},as=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=YT(s),s in Rg)return;Rg[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===s&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":KT,i||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),i)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})},XT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>vs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Jh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class QT extends Jh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class JT extends Jh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ZT extends Jh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var df;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(df||(df={}));var e2=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class t2{constructor(t,{headers:n={},customFetch:r,region:o=df.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=XT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return e2(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(w=>{throw new QT(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new JT(d);if(!d.ok)throw new ZT(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(o){return{data:null,error:o}}})}}var mt={},Zh={},vc={},Ui={},yc={},xc={},n2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=n2();const r2=ls.fetch,Rw=ls.fetch.bind(ls),Aw=ls.Headers,o2=ls.Request,s2=ls.Response,vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Aw,Request:o2,Response:s2,default:Rw,fetch:r2},Symbol.toStringTag,{value:"Module"})),i2=jk(vs);var wc={};Object.defineProperty(wc,"__esModule",{value:!0});let a2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wc.default=a2;var Mw=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xc,"__esModule",{value:!0});const l2=Mw(i2),c2=Mw(wc);let u2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=l2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,a,l;let c=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await s.text();try{c=JSON.parse(v),Array.isArray(c)&&s.status===404&&(d=[],c=null,h=200,m="OK")}catch{s.status===404&&v===""?(h=204,m="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new c2.default(c)}return{error:c,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(o=o.catch(s=>{var i,a,l;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};xc.default=u2;var d2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yc,"__esModule",{value:!0});const f2=d2(xc);let h2=class extends f2.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:s=o}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const s=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:s=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yc.default=h2;var p2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const m2=p2(yc);let g2=class extends m2.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ui.default=g2;var v2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vc,"__esModule",{value:!0});const As=v2(Ui);let y2=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new As.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new As.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:s=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new As.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new As.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new As.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vc.default=y2;var bc={},_c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.version=void 0;_c.version="0.0.0-automated";Object.defineProperty(bc,"__esModule",{value:!0});bc.DEFAULT_HEADERS=void 0;const x2=_c;bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${x2.version}`};var Dw=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zh,"__esModule",{value:!0});const w2=Dw(vc),b2=Dw(Ui),_2=bc;let S2=class Ow{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},_2.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new w2.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ow(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:s}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||o?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new b2.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Zh.default=S2;var ys=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const $w=ys(Zh);mt.PostgrestClient=$w.default;const Iw=ys(vc);mt.PostgrestQueryBuilder=Iw.default;const Lw=ys(Ui);mt.PostgrestFilterBuilder=Lw.default;const Fw=ys(yc);mt.PostgrestTransformBuilder=Fw.default;const Vw=ys(xc);mt.PostgrestBuilder=Vw.default;const zw=ys(wc);mt.PostgrestError=zw.default;var k2=mt.default={PostgrestClient:$w.default,PostgrestQueryBuilder:Iw.default,PostgrestFilterBuilder:Lw.default,PostgrestTransformBuilder:Fw.default,PostgrestBuilder:Vw.default,PostgrestError:zw.default};const{PostgrestClient:C2,PostgrestQueryBuilder:M3,PostgrestFilterBuilder:D3,PostgrestTransformBuilder:O3,PostgrestBuilder:$3,PostgrestError:I3}=k2,E2="2.11.2",P2={"X-Client-Info":`realtime-js/${E2}`},j2="1.0.0",Uw=1e4,T2=1e3;var Go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Go||(Go={}));var St;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(St||(St={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var ff;(function(e){e.websocket="websocket"})(ff||(ff={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class N2{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),s=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+o));i=i+o;const l=r.decode(t.slice(i,i+s));i=i+s;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Bw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const Ag=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,i)=>(s[i]=R2(i,e,t,o),s),{})},R2=(e,t,n,r)=>{const o=t.find(a=>a.name===e),s=o==null?void 0:o.type,i=n[e];return s&&!r.includes(s)?Ww(s,i):hf(i)},Ww=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return O2(t,n)}switch(e){case Se.bool:return A2(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return M2(t);case Se.json:case Se.jsonb:return D2(t);case Se.timestamp:return $2(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,A2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},O2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const i=e.slice(1,n);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(a=>Ww(t,a))}return e},$2=e=>typeof e=="string"?e.replace(" ","T"):e,Hw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tu{constructor(t,n,r={},o=Uw){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mg||(Mg={}));class Zs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zs.syncState(this.state,o,s,i),this.pendingDiffs.forEach(l=>{this.state=Zs.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:s,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zs.syncDiff(this.state,o,s,i),a())}),this.onJoin((o,s,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:i})}),this.onLeave((o,s,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const s=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(s,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=s[c];if(f){const h=d.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),w=d.filter(_=>m.indexOf(_.presence_ref)<0),v=f.filter(_=>h.indexOf(_.presence_ref)<0);w.length>0&&(a[c]=w),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},r,o)}static syncDiff(t,n,r,o){const{joins:s,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,o(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dg||(Dg={}));var Og;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Og||(Og={}));var kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class ep{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Bw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Zs(this),this.broadcastEndpointURL=Hw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(kn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(kn.CLOSED));const l={},c={broadcast:s,presence:i,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(kn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<m;v++){const _=h[v],{filter:{event:y,schema:x,table:g,filter:b}}=_,S=d&&d[v];if(S&&S.event===y&&S.schema===x&&S.table===g&&S.filter===b)w.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),t==null||t(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(kn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=c.body)===null||o===void 0?void 0:o.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const o=new Tu(this,tn.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const o=new AbortController,s=setTimeout(()=>o.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Tu(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,s;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=tn;if(r&&[a,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(m=>{var w,v,_;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(v=m.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===i}).map(m=>m.callback(h,r)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var w,v,_,y,x,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const b=m.id,S=(w=m.filter)===null||w===void 0?void 0:w.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:_,commit_timestamp:y,type:x,errors:g}=w;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:x,new:{},old:{},errors:g}),this._getPayloadRecords(w))}m.callback(h,r)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),s={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&ep.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ag(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ag(t.columns,t.old_record)),n}}const I2=()=>{},L2=typeof WebSocket<"u",F2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V2{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=P2,this.params={},this.timeout=Uw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=I2,this.conn=null,this.sendBuffer=[],this.serializer=new N2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>as(()=>Promise.resolve().then(()=>vs),void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${ff.websocket}`,this.httpEndpoint=Hw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,i)=>i(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(L2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new z2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),as(()=>import("./browser-d6a01250.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:j2}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return Ur.Connecting;case Go.open:return Ur.Open;case Go.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}channel(t,n={config:{}}){const r=new ep(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:o,ref:s}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(tn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(T2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:s,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${o} ${i&&"("+i+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,s,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([F2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class z2{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Go.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class U2 extends tp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pf extends tp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var B2=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const qw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>vs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},W2=()=>B2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>vs),void 0)).Response:Response}),mf=e=>{if(Array.isArray(e))return e.map(n=>mf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[o]=mf(r)}),t};var uo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Nu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H2=(e,t,n)=>uo(void 0,void 0,void 0,function*(){const r=yield W2();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new U2(Nu(o),e.status||500))}).catch(o=>{t(new pf(Nu(o),o))}):t(new pf(Nu(e),e))}),q2=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Bi(e,t,n,r,o,s){return uo(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,q2(t,r,o,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>H2(l,a,r))})})}function Tl(e,t,n,r){return uo(this,void 0,void 0,function*(){return Bi(e,"GET",t,n,r)})}function er(e,t,n,r,o){return uo(this,void 0,void 0,function*(){return Bi(e,"POST",t,r,o,n)})}function G2(e,t,n,r,o){return uo(this,void 0,void 0,function*(){return Bi(e,"PUT",t,r,o,n)})}function K2(e,t,n,r){return uo(this,void 0,void 0,function*(){return Bi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gw(e,t,n,r,o){return uo(this,void 0,void 0,function*(){return Bi(e,"DELETE",t,r,o,n)})}var ht=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Y2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X2{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=qw(o)}uploadOrUpdate(t,n,r,o){return ht(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},$g),o);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return ht(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:$g.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(qe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return ht(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const s=yield er(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new tp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}update(t,n,r){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ht(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}copy(t,n,r){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return ht(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),s=yield er(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return ht(this,void 0,void 0,function*(){try{const o=yield er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}download(t,n){return ht(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Tl(this.fetch,`${this.url}/${o}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(qe(a))return{data:null,error:a};throw a}})}info(t){return ht(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Tl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mf(r),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}exists(t){return ht(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield K2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(qe(r)&&r instanceof pf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ht(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}list(t,n,r){return ht(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Y2),n),{prefix:t||""});return{data:yield er(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Q2="2.7.1",J2={"X-Client-Info":`storage-js/${Q2}`};var vo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Z2{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},J2),n),this.fetch=qw(r)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}getBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vo(this,void 0,void 0,function*(){try{return{data:yield G2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield Gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}}class eN extends Z2{constructor(t,n={},r){super(t,n,r)}from(t){return new X2(this.url,this.headers,t,this.fetch)}}const tN="2.49.4";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const nN={"X-Client-Info":`supabase-js-${zs}/${tN}`},rN={headers:nN},oN={schema:"public"},sN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iN={};var aN=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const lN=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rw:t=fetch,(...n)=>t(...n)},cN=()=>typeof Headers>"u"?Aw:Headers,uN=(e,t,n)=>{const r=lN(n),o=cN();return(s,i)=>aN(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new o(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},i),{headers:c}))})};var dN=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function fN(e){return e.replace(/\/$/,"")}function hN(e,t){const{db:n,auth:r,realtime:o,global:s}=e,{db:i,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),s),accessToken:()=>dN(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Kw="2.69.1",ko=30*1e3,gf=3,Ru=gf*ko,pN="http://localhost:9999",mN="supabase.auth.token",gN={"X-Client-Info":`gotrue-js/${Kw}`},vf="X-Supabase-Api-Version",Yw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yN=6e5;class np extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xN extends np{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wN(e){return se(e)&&e.name==="AuthApiError"}class Xw extends np{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Nr extends np{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class Kn extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bN(e){return se(e)&&e.name==="AuthSessionMissingError"}class Au extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ca extends Nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends Nr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _N(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ig extends Nr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yf extends Nr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Mu(e){return se(e)&&e.name==="AuthRetryableFetchError"}class Lg extends Nr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ei extends Nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vg=` 	
\r=`.split(""),SN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vg.length;t+=1)e[Vg[t].charCodeAt(0)]=-2;for(let t=0;t<Fg.length;t+=1)e[Fg[t].charCodeAt(0)]=t;return e})();function Qw(e,t,n){const r=SN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zg(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=i=>{EN(i,r,n)};for(let i=0;i<e.length;i+=1)Qw(e.charCodeAt(i),o,s);return t.join("")}function kN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}kN(r,t)}}function EN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function PN(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Qw(e.charCodeAt(o),n,r);return new Uint8Array(t)}function jN(e){const t=[];return CN(e,n=>t.push(n)),new Uint8Array(t)}function TN(e){return Math.round(Date.now()/1e3)+e}function NN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fn=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},ti=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function RN(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{t[s]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Jw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>as(()=>Promise.resolve().then(()=>vs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zw=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Pa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ja=async(e,t)=>{await e.removeItem(t)};class Sc{constructor(){this.promise=new Sc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Sc.promiseConstructor=Promise;function Du(e){const t=e.split(".");if(t.length!==3)throw new ei("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vN.test(t[r]))throw new ei("JWT not in base64url format");return{header:JSON.parse(zg(t[0])),payload:JSON.parse(zg(t[1])),signature:PN(t[2]),raw:{header:t[0],payload:t[1]}}}async function MN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DN(e,t){return new Promise((r,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){r(i);return}}catch(i){if(!t(s,i)){o(i);return}}})()})}function ON(e){return("0"+e.toString(16)).substr(-2)}function $N(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,ON).join("")}async function IN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function LN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await IN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(e,t,n=!1){const r=$N();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Zw(e,`${t}-code-verifier`,o);const s=await LN(r);return[s,r===s?"plain":"s256"]}const FN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VN(e){const t=e.headers.get(vf);if(!t||!t.match(FN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var BN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WN=[502,503,504];async function Ug(e){var t;if(!AN(e))throw new yf(Lr(e),0);if(WN.includes(e.status))throw new yf(Lr(e),e.status);let n;try{n=await e.json()}catch(s){throw new Xw(Lr(s),s)}let r;const o=VN(e);if(o&&o.getTime()>=Yw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lg(Lr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Kn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new Lg(Lr(n),e.status,n.weak_password.reasons);throw new xN(Lr(n),e.status||500,r)}const HN=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function fe(e,t,n,r){var o;const s=Object.assign({},r==null?void 0:r.headers);s[vf]||(s[vf]=Yw["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const i=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await qN(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qN(e,t,n,r,o,s){const i=HN(t,r,o,s);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new yf(Lr(l),0)}if(a.ok||await Ug(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ug(l)}}function Yn(e){var t;let n=null;XN(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=TN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Bg(e){const t=Yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GN(e){return{data:e,error:null}}function KN(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s}=e,i=BN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function YN(e){return e}function XN(e){return e.access_token&&e.refresh_token&&e.expires_in}var QN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class JN{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:or})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=QN(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:KN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:or})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,s,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:YN});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(se(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:or})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:or})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:or})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}const ZN={getItem:e=>ti()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ti()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ti()&&globalThis.localStorage.removeItem(e)}};function Wg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function eR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xo={debug:!!(globalThis&&ti()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tR extends eb{}async function nR(e,t,n){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}eR();const rR={url:pN,storageKey:mN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hg(e,t,n){return await n()}class Ci{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},rR),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new JN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Jw(o.fetch),this.lock=o.lock||Hg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nR:this.lock=Hg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ti()?this.storage=ZN:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=RN(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),fn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_N(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?{error:n}:{error:new Xw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yn}),{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,o;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await yo(this.storage,this.storageKey)),s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:Yn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yn})}else throw new Ca("You must provide either an email or phone number and a password");const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:i,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bg})}else if("phone"in t){const{phone:s,password:i,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bg})}else throw new Ca("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Au}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Pa(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:s,error:i}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Yn});if(await ja(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Au}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:i})}catch(s){if(se(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:s,nonce:i}=t,a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Au}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,s,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yo(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ca("You must provide either an email or phone number.")}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let o,s;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Yn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await yo(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:GN})}catch(s){if(se(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Kn;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:s}=t,{error:i}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:o,options:s}=t,{data:i,error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Ca("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ru:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:or}):await this._useSession(async n=>{var r,o,s;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:or})})}catch(n){if(se(n))return bN(n)&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new Kn;const i=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await yo(this.storage,this.storageKey));const{data:c,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:or});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kn;const n=Date.now()/1e3;let r=n,o=!0,s=null;const{payload:i}=Du(t.access_token);if(i.exp&&(r=i.exp,o=r<=n),o){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Kn;const{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!fn())throw new Ea("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ea(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ig("No code detected.");const{data:x,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!i||!c)throw new Ea("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:_}=await this._getUser(s);if(_)throw _;const y={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:s}=n;if(s)return{error:s};const i=(r=o.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(wN(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=NN(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:s},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await yo(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(se(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async s=>{var i,a,l,c,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return fn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:s,error:i}=n;if(i)throw i;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await DN(async o=>(o>0&&await MN(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yn})),(o,s)=>{const i=200*Math.pow(2,o);return s&&Mu(s)&&Date.now()+i-r<ko})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),fn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Pa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ru;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ru}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Mu(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Sc;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Kn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(o,"error",s),se(s)){const i={session:null,error:s};return Mu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ja(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ko}ms, refresh threshold is ${gf} ticks`),o<=gf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof eb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,i]=await yo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;return s?{data:null,error:s}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:s,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;if(s)return{data:null,error:s};const{data:i,error:a}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;return s?{data:null,error:s}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Du(o.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+yN>Date.now()))return r;const{data:o,error:s}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!o.keys||o.keys.length===0)throw new ei("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(i=>i.kid===t),!r)throw new ei("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};r=m.session.access_token}const{header:o,payload:s,signature:i,raw:{header:a,payload:l}}=Du(r);if(zN(s.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:o,signature:i},error:null}}const c=UN(o.alg),d=await this.fetchJwk(o.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,jN(`${a}.${l}`)))throw new ei("Invalid JWT signature");return{data:{claims:s,header:o,signature:i},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}Ci.nextInstanceID=0;const oR=Ci;class sR extends oR{constructor(t){super(t)}}var iR=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):o(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class aR{constructor(t,n,r){var o,s,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=fN(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:oN,realtime:iN,auth:Object.assign(Object.assign({},sN),{storageKey:l}),global:rN},d=hN(r??{},c);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=uN(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new C2(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new t2(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eN(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:s,flowType:i,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sR({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new V2(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lR=(e,t,n)=>new aR(e,t,n),cR="https://xknozanpivdduavuunys.supabase.co",uR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhrbm96YW5waXZkZHVhdnV1bnlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxMjk0ODMsImV4cCI6MjA2NDcwNTQ4M30.AzzZXtw4iCezsvwE2hjq_UMdUIJ-WIxcSOuOcWZSYXs",J=lR(cR,uR),kc=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),{toast:o}=Ot(),s=p.useCallback(async()=>{r(!0);try{const{data:c,error:d}=await J.from("products").select(`
          *,
          product_variants (id, size, stock)
        `).order("created_at",{ascending:!1});if(d)throw d;const f=c.map(h=>({...h,stock:h.product_variants.reduce((m,w)=>m+w.stock,0)}));t(f||[])}catch(c){o({title:"Error",description:"Failed to fetch products: "+c.message,variant:"destructive"}),t([])}finally{r(!1)}},[o]);return p.useEffect(()=>{s();const c=J.channel("products_realtime_channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},d=>{s()}).on("postgres_changes",{event:"*",schema:"public",table:"product_variants"},d=>{s()}).subscribe();return()=>{J.removeChannel(c)}},[s]),{products:e,loading:n,fetchProducts:s,addProduct:async(c,d)=>{try{const{data:f,error:h}=await J.from("products").insert([{name:c.name,price:c.price,category:c.category,reference_number:c.reference_number}]).select().single();if(h)throw h;if(f&&d&&d.length>0){const m=d.map(v=>({product_id:f.id,size:v.size,stock:v.stock})),{error:w}=await J.from("product_variants").insert(m);if(w)throw w}return s(),f}catch(f){throw o({title:"Error",description:"Failed to add product: "+f.message,variant:"destructive"}),f}},updateProduct:async(c,d)=>{try{const{data:f,error:h}=await J.from("products").update({name:c.name,price:c.price,category:c.category,reference_number:c.reference_number}).eq("id",c.id).select().single();if(h)throw h;if(f&&d&&(await J.from("product_variants").delete().eq("product_id",f.id),d.length>0)){const m=d.map(v=>({product_id:f.id,size:v.size,stock:v.stock})),{error:w}=await J.from("product_variants").insert(m);if(w)throw w}return s(),f}catch(f){throw o({title:"Error",description:"Failed to update product: "+f.message,variant:"destructive"}),f}},deleteProduct:async c=>{try{const{data:d,error:f}=await J.from("sale_items").select("id").eq("product_id",c).limit(1);if(f)throw f;if(d&&d.length>0)return o({title:"Deletion Prevented",description:"This product is part of existing sales and cannot be deleted. Consider marking it as inactive instead.",variant:"destructive",duration:7e3}),!1;await J.from("product_variants").delete().eq("product_id",c);const{error:h}=await J.from("products").delete().eq("id",c);if(h)throw h;return s(),!0}catch(d){throw o({title:"Error",description:"Failed to delete product: "+d.message,variant:"destructive"}),d}}}},tb=p.createContext(),$t=()=>p.useContext(tb),_e={shopName:"Fashion Hub",address:"123 Fashion Street, Fashion City",phone:"123-456-7890",email:"info@fashionhub.com",gstNo:"GST123456789",currency:{name:"INR",symbol:"₹"},taxRate:.18,returnPolicy:"For returns and exchanges, please visit our store within 7 days with the original receipt.",darkMode:!1,customFields:{},theme:"default"},dR=({children:e})=>{const[t,n]=p.useState(_e),[r,o]=p.useState(!0);p.useEffect(()=>{(async()=>{o(!0);try{const{data:a,error:l}=await J.from("shop_settings").select("*").limit(1).single();if(l&&l.code!=="PGRST116")console.error("Error fetching settings:",l),n(_e);else if(a)n({shopName:a.shopname||_e.shopName,address:a.address||_e.address,phone:a.phone||_e.phone,email:a.email||_e.email,gstNo:a.gstno||_e.gstNo,currency:a.currency?typeof a.currency=="string"?JSON.parse(a.currency):a.currency:_e.currency,taxRate:a.taxrate!==null?a.taxrate:_e.taxRate,returnPolicy:a.returnpolicy||_e.returnPolicy,darkMode:a.dark_mode!==null?a.dark_mode:_e.darkMode,customFields:a.custom_fields&&typeof a.custom_fields=="object"?a.custom_fields:_e.customFields,theme:a.theme||_e.theme});else{const{error:c}=await J.from("shop_settings").insert([{shopname:_e.shopName,address:_e.address,phone:_e.phone,email:_e.email,gstno:_e.gstNo,currency:_e.currency,taxrate:_e.taxRate,returnpolicy:_e.returnPolicy,dark_mode:_e.darkMode,custom_fields:_e.customFields,theme:_e.theme}]);c&&(console.error("Error inserting default settings:",c),n(_e))}}catch(a){console.error("Catastrophic error fetching settings:",a),n(_e)}finally{o(!1)}})()},[]);const s=async(i,a)=>{const l={...t,[i]:a};n(l);const d={shopName:"shopname",gstNo:"gstno",taxRate:"taxrate",returnPolicy:"returnpolicy",darkMode:"dark_mode",customFields:"custom_fields",theme:"theme"}[i]||i;let f=a;try{const{data:h,error:m}=await J.from("shop_settings").select("id").limit(1).single();if(m&&m.code!=="PGRST116")throw m;if(h&&h.id){const{error:w}=await J.from("shop_settings").update({[d]:f}).eq("id",h.id);if(w)throw w}else{const w={shopname:l.shopName,address:l.address,phone:l.phone,email:l.email,gstno:l.gstNo,currency:l.currency,taxrate:l.taxRate,returnpolicy:l.returnPolicy,dark_mode:l.darkMode,custom_fields:l.customFields,theme:l.theme};w[d]=f;const{error:v}=await J.from("shop_settings").insert([w]);if(v)throw v}}catch(h){console.error(`Error updating setting ${i}:`,h)}};return p.useEffect(()=>{const i=window.document.documentElement;t.darkMode?i.classList.add("dark"):i.classList.remove("dark"),i.setAttribute("data-theme",t.theme||"default")},[t.darkMode,t.theme]),u.jsx(tb.Provider,{value:{settings:t,updateSetting:s,loading:r},children:e})},fR=()=>u.jsx("div",{children:u.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Dashboard"})}),nb=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Cc=p.createContext({}),Ec=p.createContext(null),Pc=typeof document<"u",rp=Pc?p.useLayoutEffect:p.useEffect,rb=p.createContext({strict:!1}),op=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hR="framerAppearId",ob="data-"+op(hR);function pR(e,t,n,r){const{visualElement:o}=p.useContext(Cc),s=p.useContext(rb),i=p.useContext(Ec),a=p.useContext(nb).reducedMotion,l=p.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:o,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;p.useInsertionEffect(()=>{c&&c.update(n,i)});const d=p.useRef(!!(n[ob]&&!window.HandoffComplete));return rp(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Io(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mR(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Io(n)&&(n.current=r))},[t])}function Ei(e){return typeof e=="string"||Array.isArray(e)}function jc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ip=["initial",...sp];function Tc(e){return jc(e.animate)||ip.some(t=>Ei(e[t]))}function sb(e){return!!(Tc(e)||e.variants)}function gR(e,t){if(Tc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ei(n)?n:void 0,animate:Ei(r)?r:void 0}}return e.inherit!==!1?t:{}}function vR(e){const{initial:t,animate:n}=gR(e,p.useContext(Cc));return p.useMemo(()=>({initial:t,animate:n}),[qg(t),qg(n)])}function qg(e){return Array.isArray(e)?e.join(" "):e}const Gg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pi={};for(const e in Gg)Pi[e]={isEnabled:t=>Gg[e].some(n=>!!t[n])};function yR(e){for(const t in e)Pi[t]={...Pi[t],...e[t]}}const ap=p.createContext({}),ib=p.createContext({}),xR=Symbol.for("motionComponentSymbol");function wR({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&yR(e);function s(a,l){let c;const d={...p.useContext(nb),...a,layoutId:bR(a)},{isStatic:f}=d,h=vR(a),m=r(a,f);if(!f&&Pc){h.visualElement=pR(o,m,d,t);const w=p.useContext(ib),v=p.useContext(rb).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,v,e,w))}return p.createElement(Cc.Provider,{value:h},c&&h.visualElement?p.createElement(c,{visualElement:h.visualElement,...d}):null,n(o,a,mR(m,h.visualElement,l),m,f,h.visualElement))}const i=p.forwardRef(s);return i[xR]=o,i}function bR({layoutId:e}){const t=p.useContext(ap).id;return t&&e!==void 0?t+"-"+e:e}function _R(e){function t(r,o={}){return wR(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const SR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lp(e){return typeof e!="string"||e.includes("-")?!1:!!(SR.indexOf(e)>-1||/[A-Z]/.test(e))}const Nl={};function kR(e){Object.assign(Nl,e)}const Wi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(Wi);function ab(e,{layout:t,layoutId:n}){return fo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const wt=e=>!!(e&&e.getVelocity),CR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ER=Wi.length;function PR(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let s="";for(let i=0;i<ER;i++){const a=Wi[i];if(e[a]!==void 0){const l=CR[a]||a;s+=`${l}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(e,r?"":s):n&&r&&(s="none"),s}const lb=e=>t=>typeof t=="string"&&t.startsWith(e),cb=lb("--"),xf=lb("var(--"),jR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,TR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,br=(e,t,n)=>Math.min(Math.max(n,e),t),ho={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ni={...ho,transform:e=>br(0,1,e)},Ta={...ho,default:1},ri=e=>Math.round(e*1e5)/1e5,Nc=/(-)?([\d]*\.?[\d])+/g,ub=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NR=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Hi(e){return typeof e=="string"}const qi=e=>({test:t=>Hi(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xn=qi("deg"),yn=qi("%"),ne=qi("px"),RR=qi("vh"),AR=qi("vw"),Kg={...yn,parse:e=>yn.parse(e)/100,transform:e=>yn.transform(e*100)},Yg={...ho,transform:Math.round},db={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:Xn,rotateX:Xn,rotateY:Xn,rotateZ:Xn,scale:Ta,scaleX:Ta,scaleY:Ta,scaleZ:Ta,skew:Xn,skewX:Xn,skewY:Xn,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:ni,originX:Kg,originY:Kg,originZ:ne,zIndex:Yg,fillOpacity:ni,strokeOpacity:ni,numOctaves:Yg};function cp(e,t,n,r){const{style:o,vars:s,transform:i,transformOrigin:a}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(cb(f)){s[f]=h;continue}const m=db[f],w=TR(h,m);if(fo.has(f)){if(l=!0,i[f]=w,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):o[f]=w}if(t.transform||(l||r?o.transform=PR(e.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${h} ${m}`}}const up=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(e,t,n){for(const r in t)!wt(t[r])&&!ab(r,n)&&(e[r]=t[r])}function MR({transformTemplate:e},t,n){return p.useMemo(()=>{const r=up();return cp(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function DR(e,t,n){const r=e.style||{},o={};return fb(o,r,e),Object.assign(o,MR(e,t,n)),e.transformValues?e.transformValues(o):o}function OR(e,t,n){const r={},o=DR(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const $R=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$R.has(e)}let hb=e=>!Rl(e);function IR(e){e&&(hb=t=>t.startsWith("on")?!Rl(t):e(t))}try{IR(require("@emotion/is-prop-valid").default)}catch{}function LR(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(hb(o)||n===!0&&Rl(o)||!t&&!Rl(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function Xg(e,t,n){return typeof e=="string"?e:ne.transform(t+n*e)}function FR(e,t,n){const r=Xg(t,e.x,e.width),o=Xg(n,e.y,e.height);return`${r} ${o}`}const VR={offset:"stroke-dashoffset",array:"stroke-dasharray"},zR={offset:"strokeDashoffset",array:"strokeDasharray"};function UR(e,t,n=1,r=0,o=!0){e.pathLength=1;const s=o?VR:zR;e[s.offset]=ne.transform(-r);const i=ne.transform(t),a=ne.transform(n);e[s.array]=`${i} ${a}`}function dp(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,f,h){if(cp(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:w,dimensions:v}=e;m.transform&&(v&&(w.transform=m.transform),delete m.transform),v&&(o!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=FR(v,o!==void 0?o:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&UR(m,i,a,l,!1)}const pb=()=>({...up(),attrs:{}}),fp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BR(e,t,n,r){const o=p.useMemo(()=>{const s=pb();return dp(s,t,{enableHardwareAcceleration:!1},fp(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};fb(s,e.style,e),o.style={...s,...o.style}}return o}function WR(e=!1){return(n,r,o,{latestValues:s},i)=>{const l=(lp(n)?BR:OR)(r,s,i,n),d={...LR(r,typeof n=="string",e),...l,ref:o},{children:f}=r,h=p.useMemo(()=>wt(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function mb(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const gb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vb(e,t,n,r){mb(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(gb.has(o)?o:op(o),t.attrs[o])}function hp(e,t){const{style:n}=e,r={};for(const o in n)(wt(n[o])||t.style&&wt(t.style[o])||ab(o,e))&&(r[o]=n[o]);return r}function yb(e,t){const n=hp(e,t);for(const r in e)if(wt(e[r])||wt(t[r])){const o=Wi.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function pp(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function xb(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Al=e=>Array.isArray(e),HR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qR=e=>Al(e)?e[e.length-1]||0:e;function Ja(e){const t=wt(e)?e.get():e;return HR(t)?t.toValue():t}function GR({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,s){const i={latestValues:KR(r,o,s,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const wb=e=>(t,n)=>{const r=p.useContext(Cc),o=p.useContext(Ec),s=()=>GR(e,t,r,o);return n?s():xb(s)};function KR(e,t,n,r){const o={},s=r(e,{});for(const h in s)o[h]=Ja(s[h]);let{initial:i,animate:a}=e;const l=Tc(e),c=sb(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?a:i;return f&&typeof f!="boolean"&&!jc(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const w=pp(e,m);if(!w)return;const{transitionEnd:v,transition:_,...y}=w;for(const x in y){let g=y[x];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(o[x]=g)}for(const x in v)o[x]=v[x]}),o}const $e=e=>e;class Qg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function YR(e){let t=new Qg,n=new Qg,r=0,o=!1,s=!1;const i=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&o,h=f?t:n;return c&&i.add(l),h.add(l)&&f&&o&&(r=t.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(o){s=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),i.has(d)&&(a.schedule(d),e())}o=!1,s&&(s=!1,a.process(l))}};return a}const Na=["prepare","read","update","preRender","render","postRender"],XR=40;function QR(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=Na.reduce((f,h)=>(f[h]=YR(()=>n=!0),f),{}),i=f=>s[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,XR),1),o.timestamp=f,o.isProcessing=!0,Na.forEach(i),o.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:Na.reduce((f,h)=>{const m=s[h];return f[h]=(w,v=!1,_=!1)=>(n||l(),m.schedule(w,v,_)),f},{}),cancel:f=>Na.forEach(h=>s[h].cancel(f)),state:o,steps:s}}const{schedule:Ce,cancel:Fn,state:tt,steps:Ou}=QR(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),JR={useVisualState:wb({scrapeMotionValuesFromProps:yb,createRenderState:pb,onMount:(e,t,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{dp(n,r,{enableHardwareAcceleration:!1},fp(t.tagName),e.transformTemplate),vb(t,n)})}})},ZR={useVisualState:wb({scrapeMotionValuesFromProps:hp,createRenderState:up})};function eA(e,{forwardMotionProps:t=!1},n,r){return{...lp(e)?JR:ZR,preloadedFeatures:n,useRender:WR(t),createVisualElement:r,Component:e}}function jn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const bb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const tA=e=>t=>bb(t)&&e(t,Rc(t));function Nn(e,t,n,r){return jn(e,t,tA(n),r)}const nA=(e,t)=>n=>t(e(n)),vr=(...e)=>e.reduce(nA);function _b(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Jg=_b("dragHorizontal"),Zg=_b("dragVertical");function Sb(e){let t=!1;if(e==="y")t=Zg();else if(e==="x")t=Jg();else{const n=Jg(),r=Zg();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function kb(){const e=Sb(!0);return e?(e(),!1):!0}class Rr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ev(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(s,i)=>{if(s.pointerType==="touch"||kb())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Ce.update(()=>a[r](s,i))};return Nn(e.current,n,o,{passive:!e.getProps()[r]})}class rA extends Rr{mount(){this.unmount=vr(ev(this.node,!0),ev(this.node,!1))}unmount(){}}class oA extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vr(jn(this.node.current,"focus",()=>this.onFocus()),jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Cb=(e,t)=>t?e===t?!0:Cb(e,t.parentElement):!1;function $u(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Rc(n))}class sA extends Rr{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Nn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ce.update(()=>{!f&&!Cb(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),i=Nn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=vr(s,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||$u("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Ce.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=jn(this.node.current,"keyup",i),$u("down",(a,l)=>{this.startPress(a,l)})},n=jn(this.node.current,"keydown",t),r=()=>{this.isPressing&&$u("cancel",(s,i)=>this.cancelPress(s,i))},o=jn(this.node.current,"blur",r);this.removeAccessibleListeners=vr(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kb()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Nn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wf=new WeakMap,Iu=new WeakMap,iA=e=>{const t=wf.get(e.target);t&&t(e)},aA=e=>{e.forEach(iA)};function lA({root:e,...t}){const n=e||document;Iu.has(n)||Iu.set(n,{});const r=Iu.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(aA,{root:e,...t})),r[o]}function cA(e,t,n){const r=lA(t);return wf.set(e,n),r.observe(e),()=>{wf.delete(e),r.unobserve(e)}}const uA={some:0,all:1};class dA extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:uA[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return cA(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fA(t,n))&&this.startObserver()}unmount(){}}function fA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const hA={inView:{Feature:dA},tap:{Feature:sA},focus:{Feature:oA},hover:{Feature:rA}};function Eb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function mA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ac(e,t,n){const r=e.getProps();return pp(r,t,n!==void 0?n:r.custom,pA(e),mA(e))}let gA=$e,mp=$e;const yr=e=>e*1e3,Rn=e=>e/1e3,vA={current:!1},Pb=e=>Array.isArray(e)&&typeof e[0]=="number";function jb(e){return!!(!e||typeof e=="string"&&Tb[e]||Pb(e)||Array.isArray(e)&&e.every(jb))}const Us=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Us([0,.65,.55,1]),circOut:Us([.55,0,1,.45]),backIn:Us([.31,.01,.66,-.59]),backOut:Us([.33,1.53,.69,.99])};function Nb(e){if(e)return Pb(e)?Us(e):Array.isArray(e)?e.map(Nb):Tb[e]}function yA(e,t,n,{delay:r=0,duration:o,repeat:s=0,repeatType:i="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Nb(a);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}function xA(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Rb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wA=1e-7,bA=12;function _A(e,t,n,r,o){let s,i,a=0;do i=t+(n-t)/2,s=Rb(i,r,o)-e,s>0?n=i:t=i;while(Math.abs(s)>wA&&++a<bA);return i}function Gi(e,t,n,r){if(e===t&&n===r)return $e;const o=s=>_A(s,0,1,e,n);return s=>s===0||s===1?s:Rb(o(s),t,r)}const SA=Gi(.42,0,1,1),kA=Gi(0,0,.58,1),Ab=Gi(.42,0,.58,1),CA=e=>Array.isArray(e)&&typeof e[0]!="number",Mb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Db=e=>t=>1-e(1-t),gp=e=>1-Math.sin(Math.acos(e)),Ob=Db(gp),EA=Mb(gp),$b=Gi(.33,1.53,.69,.99),vp=Db($b),PA=Mb(vp),jA=e=>(e*=2)<1?.5*vp(e):.5*(2-Math.pow(2,-10*(e-1))),TA={linear:$e,easeIn:SA,easeInOut:Ab,easeOut:kA,circIn:gp,circInOut:EA,circOut:Ob,backIn:vp,backInOut:PA,backOut:$b,anticipate:jA},tv=e=>{if(Array.isArray(e)){mp(e.length===4);const[t,n,r,o]=e;return Gi(t,n,r,o)}else if(typeof e=="string")return TA[e];return e},yp=(e,t)=>n=>!!(Hi(n)&&NR.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Ib=(e,t,n)=>r=>{if(!Hi(r))return r;const[o,s,i,a]=r.match(Nc);return{[e]:parseFloat(o),[t]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},NA=e=>br(0,255,e),Lu={...ho,transform:e=>Math.round(NA(e))},Gr={test:yp("rgb","red"),parse:Ib("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lu.transform(e)+", "+Lu.transform(t)+", "+Lu.transform(n)+", "+ri(ni.transform(r))+")"};function RA(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const bf={test:yp("#"),parse:RA,transform:Gr.transform},Lo={test:yp("hsl","hue"),parse:Ib("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+yn.transform(ri(t))+", "+yn.transform(ri(n))+", "+ri(ni.transform(r))+")"},it={test:e=>Gr.test(e)||bf.test(e)||Lo.test(e),parse:e=>Gr.test(e)?Gr.parse(e):Lo.test(e)?Lo.parse(e):bf.parse(e),transform:e=>Hi(e)?e:e.hasOwnProperty("red")?Gr.transform(e):Lo.transform(e)},Re=(e,t,n)=>-n*e+n*t+e;function Fu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function AA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,s=0,i=0;if(!t)o=s=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;o=Fu(l,a,e+1/3),s=Fu(l,a,e),i=Fu(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}const Vu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},MA=[bf,Gr,Lo],DA=e=>MA.find(t=>t.test(e));function nv(e){const t=DA(e);let n=t.parse(e);return t===Lo&&(n=AA(n)),n}const Lb=(e,t)=>{const n=nv(e),r=nv(t),o={...n};return s=>(o.red=Vu(n.red,r.red,s),o.green=Vu(n.green,r.green,s),o.blue=Vu(n.blue,r.blue,s),o.alpha=Re(n.alpha,r.alpha,s),Gr.transform(o))};function OA(e){var t,n;return isNaN(e)&&Hi(e)&&(((t=e.match(Nc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ub))===null||n===void 0?void 0:n.length)||0)>0}const Fb={regex:jR,countKey:"Vars",token:"${v}",parse:$e},Vb={regex:ub,countKey:"Colors",token:"${c}",parse:it.parse},zb={regex:Nc,countKey:"Numbers",token:"${n}",parse:ho.parse};function zu(e,{regex:t,countKey:n,token:r,parse:o}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(o)))}function Ml(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&zu(n,Fb),zu(n,Vb),zu(n,zb),n}function Ub(e){return Ml(e).values}function Bb(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Ml(e),s=t.length;return i=>{let a=o;for(let l=0;l<s;l++)l<r?a=a.replace(Fb.token,i[l]):l<r+n?a=a.replace(Vb.token,it.transform(i[l])):a=a.replace(zb.token,ri(i[l]));return a}}const $A=e=>typeof e=="number"?0:e;function IA(e){const t=Ub(e);return Bb(e)(t.map($A))}const _r={test:OA,parse:Ub,createTransformer:Bb,getAnimatableNone:IA},Wb=(e,t)=>n=>`${n>0?t:e}`;function Hb(e,t){return typeof e=="number"?n=>Re(e,t,n):it.test(e)?Lb(e,t):e.startsWith("var(")?Wb(e,t):Gb(e,t)}const qb=(e,t)=>{const n=[...e],r=n.length,o=e.map((s,i)=>Hb(s,t[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}},LA=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Hb(e[o],t[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}},Gb=(e,t)=>{const n=_r.createTransformer(t),r=Ml(e),o=Ml(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?vr(qb(r.values,o.values),n):Wb(e,t)},ji=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},rv=(e,t)=>n=>Re(e,t,n);function FA(e){return typeof e=="number"?rv:typeof e=="string"?it.test(e)?Lb:Gb:Array.isArray(e)?qb:typeof e=="object"?LA:rv}function VA(e,t,n){const r=[],o=n||FA(e[0]),s=e.length-1;for(let i=0;i<s;i++){let a=o(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||$e:t;a=vr(l,a)}r.push(a)}return r}function Kb(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const s=e.length;if(mp(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=VA(t,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=ji(e[d],e[d+1],c);return i[d](f)};return n?c=>l(br(e[0],e[s-1],c)):l}function zA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=ji(0,t,r);e.push(Re(n,1,o))}}function UA(e){const t=[0];return zA(t,e.length-1),t}function BA(e,t){return e.map(n=>n*t)}function WA(e,t){return e.map(()=>t||Ab).splice(0,e.length-1)}function Dl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=CA(r)?r.map(tv):tv(r),s={done:!1,value:t[0]},i=BA(n&&n.length===t.length?n:UA(t),e),a=Kb(i,t,{ease:Array.isArray(o)?o:WA(t,o)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}function Yb(e,t){return t?e*(1e3/t):0}const HA=5;function Xb(e,t,n){const r=Math.max(t-HA,0);return Yb(n-e(r),t-r)}const Uu=.001,qA=.01,ov=10,GA=.05,KA=1;function YA({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,s;gA(e<=yr(ov));let i=1-t;i=br(GA,KA,i),e=br(qA,ov,Rn(e)),i<1?(o=c=>{const d=c*i,f=d*e,h=d-n,m=_f(c,i),w=Math.exp(-f);return Uu-h/m*w},s=c=>{const f=c*i*e,h=f*n+n,m=Math.pow(i,2)*Math.pow(c,2)*e,w=Math.exp(-f),v=_f(Math.pow(c,2),i);return(-o(c)+Uu>0?-1:1)*((h-m)*w)/v}):(o=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Uu+d*f},s=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=QA(o,s,a);if(e=yr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:e}}}const XA=12;function QA(e,t,n){let r=n;for(let o=1;o<XA;o++)r=r-e(r)/t(r);return r}function _f(e,t){return e*Math.sqrt(1-t*t)}const JA=["duration","bounce"],ZA=["stiffness","damping","mass"];function sv(e,t){return t.some(n=>e[n]!==void 0)}function eM(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sv(e,ZA)&&sv(e,JA)){const n=YA(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Qb({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],s=e[e.length-1],i={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=eM({...r,velocity:-Rn(r.velocity||0)}),m=f||0,w=l/(2*Math.sqrt(a*c)),v=s-o,_=Rn(Math.sqrt(a/c)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(w<1){const g=_f(_,w);x=b=>{const S=Math.exp(-w*_*b);return s-S*((m+w*_*v)/g*Math.sin(g*b)+v*Math.cos(g*b))}}else if(w===1)x=g=>s-Math.exp(-_*g)*(v+(m+_*v)*g);else{const g=_*Math.sqrt(w*w-1);x=b=>{const S=Math.exp(-w*_*b),k=Math.min(g*b,300);return s-S*((m+w*_*v)*Math.sinh(k)+g*v*Math.cosh(k))/g}}return{calculatedDuration:h&&d||null,next:g=>{const b=x(g);if(h)i.done=g>=d;else{let S=m;g!==0&&(w<1?S=Xb(x,g,b):S=0);const k=Math.abs(S)<=n,C=Math.abs(s-b)<=t;i.done=k&&C}return i.value=i.done?s:b,i}}}function iv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*t;const _=f+v,y=i===void 0?_:i(_);y!==_&&(v=y-f);const x=E=>-v*Math.exp(-E/r),g=E=>y+x(E),b=E=>{const P=x(E),A=g(E);h.done=Math.abs(P)<=c,h.value=h.done?y:A};let S,k;const C=E=>{m(h.value)&&(S=E,k=Qb({keyframes:[h.value,w(h.value)],velocity:Xb(g,E,h.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&S===void 0&&(P=!0,b(E),C(E)),S!==void 0&&E>S?k.next(E-S):(!P&&b(E),h)}}}const tM=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ce.update(t,!0),stop:()=>Fn(t),now:()=>tt.isProcessing?tt.timestamp:performance.now()}},av=2e4;function lv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<av;)t+=n,r=e.next(t);return t>=av?1/0:t}const nM={decay:iv,inertia:iv,tween:Dl,keyframes:Dl,spring:Qb};function Ol({autoplay:e=!0,delay:t=0,driver:n=tM,keyframes:r,type:o="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,w=!1,v,_;const y=()=>{_=new Promise(L=>{v=L})};y();let x;const g=nM[o]||Dl;let b;g!==Dl&&typeof r[0]!="number"&&(b=Kb([0,100],r,{clamp:!1}),r=[0,100]);const S=g({...h,keyframes:r});let k;a==="mirror"&&(k=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",E=null,P=null,A=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=lv(S));const{calculatedDuration:V}=S;let I=1/0,W=1/0;V!==null&&(I=V+i,W=I*(s+1)-i);let O=0;const B=L=>{if(P===null)return;m>0&&(P=Math.min(P,L)),m<0&&(P=Math.min(L-W/m,P)),E!==null?O=E:O=Math.round(L-P)*m;const q=O-t*(m>=0?1:-1),F=m>=0?q<0:q>W;O=Math.max(q,0),C==="finished"&&E===null&&(O=W);let G=O,oe=S;if(s){const T=Math.min(O,W)/I;let R=Math.floor(T),M=T%1;!M&&T>=1&&(M=1),M===1&&R--,R=Math.min(R,s+1),!!(R%2)&&(a==="reverse"?(M=1-M,i&&(M-=i/I)):a==="mirror"&&(oe=k)),G=br(0,1,M)*I}const Y=F?{done:!1,value:r[0]}:oe.next(G);b&&(Y.value=b(Y.value));let{done:le}=Y;!F&&V!==null&&(le=m>=0?O>=W:O<=0);const ce=E===null&&(C==="finished"||C==="running"&&le);return f&&f(Y.value),ce&&N(),Y},H=()=>{x&&x.stop(),x=void 0},Z=()=>{C="idle",H(),v(),y(),P=A=null},N=()=>{C="finished",d&&d(),H(),v()},j=()=>{if(w)return;x||(x=n(B));const L=x.now();l&&l(),E!==null?P=L-E:(!P||C==="finished")&&(P=L),C==="finished"&&y(),A=P,E=null,C="running",x.start()};e&&j();const z={then(L,q){return _.then(L,q)},get time(){return Rn(O)},set time(L){L=yr(L),O=L,E!==null||!x||m===0?E=L:P=x.now()-L/m},get duration(){const L=S.calculatedDuration===null?lv(S):S.calculatedDuration;return Rn(L)},get speed(){return m},set speed(L){L===m||!x||(m=L,z.time=Rn(O))},get state(){return C},play:j,pause:()=>{C="paused",E=O},stop:()=>{w=!0,C!=="idle"&&(C="idle",c&&c(),Z())},cancel:()=>{A!==null&&B(A),Z()},complete:()=>{C="finished"},sample:L=>(P=0,B(L))};return z}function rM(e){let t;return()=>(t===void 0&&(t=e()),t)}const oM=rM(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sM=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ra=10,iM=2e4,aM=(e,t)=>t.type==="spring"||e==="backgroundColor"||!jb(t.ease);function lM(e,t,{onUpdate:n,onComplete:r,...o}){if(!(oM()&&sM.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let i=!1,a,l,c=!1;const d=()=>{l=new Promise(g=>{a=g})};d();let{keyframes:f,duration:h=300,ease:m,times:w}=o;if(aM(t,o)){const g=Ol({...o,repeat:0,delay:0});let b={done:!1,value:f[0]};const S=[];let k=0;for(;!b.done&&k<iM;)b=g.sample(k),S.push(b.value),k+=Ra;w=void 0,f=S,h=k-Ra,m="linear"}const v=yA(e.owner.current,t,f,{...o,duration:h,ease:m,times:w}),_=()=>{c=!1,v.cancel()},y=()=>{c=!0,Ce.update(_),a(),d()};return v.onfinish=()=>{c||(e.set(xA(f,o)),r&&r(),y())},{then(g,b){return l.then(g,b)},attachTimeline(g){return v.timeline=g,v.onfinish=null,$e},get time(){return Rn(v.currentTime||0)},set time(g){v.currentTime=yr(g)},get speed(){return v.playbackRate},set speed(g){v.playbackRate=g},get duration(){return Rn(h)},play:()=>{i||(v.play(),Fn(_))},pause:()=>v.pause(),stop:()=>{if(i=!0,v.playState==="idle")return;const{currentTime:g}=v;if(g){const b=Ol({...o,autoplay:!1});e.setWithVelocity(b.sample(g-Ra).value,b.sample(g).value,Ra)}y()},complete:()=>{c||v.finish()},cancel:y}}function cM({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:$e,pause:$e,stop:$e,then:s=>(s(),Promise.resolve()),cancel:$e,complete:$e});return t?Ol({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const uM={type:"spring",stiffness:500,damping:25,restSpeed:10},dM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fM={type:"keyframes",duration:.8},hM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pM=(e,{keyframes:t})=>t.length>2?fM:fo.has(e)?e.startsWith("scale")?dM(t[1]):uM:hM,Sf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_r.test(t)||t==="0")&&!t.startsWith("url(")),mM=new Set(["brightness","contrast","saturate","opacity"]);function gM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nc)||[];if(!r)return e;const o=n.replace(r,"");let s=mM.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+o+")"}const vM=/([a-z-]*)\(.*?\)/g,kf={..._r,getAnimatableNone:e=>{const t=e.match(vM);return t?t.map(gM).join(" "):e}},yM={...db,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:kf,WebkitFilter:kf},xp=e=>yM[e];function Jb(e,t){let n=xp(e);return n!==kf&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Zb=e=>/^0[^.\s]+$/.test(e);function xM(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Zb(e)}function wM(e,t,n,r){const o=Sf(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const i=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?i:s[c-1]),xM(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=Jb(t,a)}return s}function bM({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function wp(e,t){return e[t]||e.default||e}const _M={skipAnimations:!1},bp=(e,t,n,r={})=>o=>{const s=wp(r,e)||{},i=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-yr(i);const l=wM(t,e,n,s),c=l[0],d=l[l.length-1],f=Sf(e,c),h=Sf(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:w=>{t.set(w),s.onUpdate&&s.onUpdate(w)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(bM(s)||(m={...m,...pM(e,m)}),m.duration&&(m.duration=yr(m.duration)),m.repeatDelay&&(m.repeatDelay=yr(m.repeatDelay)),!f||!h||vA.current||s.type===!1||_M.skipAnimations)return cM(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=lM(t,e,m);if(w)return w}return Ol(m)};function $l(e){return!!(wt(e)&&e.add)}const e1=e=>/^\-?\d*\.?\d+$/.test(e);function _p(e,t){e.indexOf(t)===-1&&e.push(t)}function Sp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kp{constructor(){this.subscriptions=[]}add(t){return _p(this.subscriptions,t),()=>Sp(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SM=e=>!isNaN(parseFloat(e));class kM{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:i}=tt;this.lastUpdated!==i&&(this.timeDelta=s,this.lastUpdated=i,Ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=SM(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Yb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cs(e,t){return new kM(e,t)}const t1=e=>t=>t.test(e),CM={test:e=>e==="auto",parse:e=>e},n1=[ho,ne,yn,Xn,AR,RR,CM],Ms=e=>n1.find(t1(e)),EM=[...n1,it,_r],PM=e=>EM.find(t1(e));function jM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cs(n))}function TM(e,t){const n=Ac(e,t);let{transitionEnd:r={},transition:o={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const i in s){const a=qR(s[i]);jM(e,i,a)}}function NM(e,t,n){var r,o;const s=Object.keys(t).filter(a=>!e.hasValue(a)),i=s.length;if(i)for(let a=0;a<i;a++){const l=s[a],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(o=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&o!==void 0?o:t[l]),d!=null&&(typeof d=="string"&&(e1(d)||Zb(d))?d=parseFloat(d):!PM(d)&&_r.test(c)&&(d=Jb(l,c)),e.addValue(l,cs(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function RM(e,t){return t?(t[e]||t.default||t).from:void 0}function AM(e,t,n){const r={};for(const o in e){const s=RM(o,t);if(s!==void 0)r[o]=s;else{const i=n.getValue(o);i&&(r[o]=i.get())}}return r}function MM({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function DM(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function r1(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const h=e.getValue(f),m=a[f];if(!h||m===void 0||d&&MM(d,f))continue;const w={delay:n,elapsed:0,...wp(s||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[ob];if(y){const x=window.HandoffAppearAnimations(y,f,h,Ce);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let v=!w.isHandoff&&!DM(h,m);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(bp(f,h,m,e.shouldReduceMotion&&fo.has(f)?{type:!1}:w));const _=h.animation;$l(l)&&(l.add(f),_.then(()=>l.remove(f))),c.push(_)}return i&&Promise.all(c).then(()=>{i&&TM(e,i)}),c}function Cf(e,t,n={}){const r=Ac(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const s=r?()=>Promise.all(r1(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=o;return OM(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[s,i]:[i,s];return l().then(()=>c())}else return Promise.all([s(),i(n.delay)])}function OM(e,t,n=0,r=0,o=1,s){const i=[],a=(e.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort($M).forEach((c,d)=>{c.notify("AnimationStart",t),i.push(Cf(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(i)}function $M(e,t){return e.sortNodePosition(t)}function IM(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(s=>Cf(e,s,n));r=Promise.all(o)}else if(typeof t=="string")r=Cf(e,t,n);else{const o=typeof t=="function"?Ac(e,t,n.custom):t;r=Promise.all(r1(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const LM=[...sp].reverse(),FM=sp.length;function VM(e){return t=>Promise.all(t.map(({animation:n,options:r})=>IM(e,n,r)))}function zM(e){let t=VM(e);const n=BM();let r=!0;const o=(l,c)=>{const d=Ac(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function s(l){t=l(e)}function i(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let w={},v=1/0;for(let y=0;y<FM;y++){const x=LM[y],g=n[x],b=d[x]!==void 0?d[x]:f[x],S=Ei(b),k=x===c?g.isActive:null;k===!1&&(v=y);let C=b===f[x]&&b!==d[x]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...w},!g.isActive&&k===null||!b&&!g.prevProp||jc(b)||typeof b=="boolean")continue;let P=UM(g.prevProp,b)||x===c&&g.isActive&&!C&&S||y>v&&S,A=!1;const V=Array.isArray(b)?b:[b];let I=V.reduce(o,{});k===!1&&(I={});const{prevResolvedValues:W={}}=g,O={...W,...I},B=H=>{P=!0,m.has(H)&&(A=!0,m.delete(H)),g.needsAnimating[H]=!0};for(const H in O){const Z=I[H],N=W[H];if(w.hasOwnProperty(H))continue;let j=!1;Al(Z)&&Al(N)?j=!Eb(Z,N):j=Z!==N,j?Z!==void 0?B(H):m.add(H):Z!==void 0&&m.has(H)?B(H):g.protectedKeys[H]=!0}g.prevProp=b,g.prevResolvedValues=I,g.isActive&&(w={...w,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!C||A)&&h.push(...V.map(H=>({animation:H,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const g=e.getBaseTarget(x);g!==void 0&&(y[x]=g)}),h.push({animation:y})}let _=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(h):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const h=i(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n}}function UM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Eb(t,e):!1}function Or(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BM(){return{animate:Or(!0),whileInView:Or(),whileHover:Or(),whileTap:Or(),whileDrag:Or(),whileFocus:Or(),exit:Or()}}class WM extends Rr{constructor(t){super(t),t.animationState||(t.animationState=zM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),jc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let HM=0;class qM extends Rr{constructor(){super(...arguments),this.id=HM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const GM={animation:{Feature:WM},exit:{Feature:qM}},cv=(e,t)=>Math.abs(e-t);function KM(e,t){const n=cv(e.x,t.x),r=cv(e.y,t.y);return Math.sqrt(n**2+r**2)}class o1{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Wu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=KM(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:w}=f,{timestamp:v}=tt;this.history.push({...w,timestamp:v});const{onStart:_,onMove:y}=this.handlers;h||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bu(h,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Wu(f.type==="pointercancel"?this.lastMoveEventInfo:Bu(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,_),w&&w(f,_)},!bb(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=Rc(t),a=Bu(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=tt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Wu(a,this.history)),this.removeListeners=vr(Nn(this.contextWindow,"pointermove",this.handlePointerMove),Nn(this.contextWindow,"pointerup",this.handlePointerUp),Nn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fn(this.updatePoint)}}function Bu(e,t){return t?{point:t(e.point)}:e}function uv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wu({point:e},t){return{point:e,delta:uv(e,s1(t)),offset:uv(e,YM(t)),velocity:XM(t,.1)}}function YM(e){return e[0]}function s1(e){return e[e.length-1]}function XM(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=s1(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>yr(t)));)n--;if(!r)return{x:0,y:0};const s=Rn(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function At(e){return e.max-e.min}function Ef(e,t=0,n=.01){return Math.abs(e-t)<=n}function dv(e,t,n,r=.5){e.origin=r,e.originPoint=Re(t.min,t.max,e.origin),e.scale=At(n)/At(t),(Ef(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Re(n.min,n.max,e.origin)-e.originPoint,(Ef(e.translate)||isNaN(e.translate))&&(e.translate=0)}function oi(e,t,n,r){dv(e.x,t.x,n.x,r?r.originX:void 0),dv(e.y,t.y,n.y,r?r.originY:void 0)}function fv(e,t,n){e.min=n.min+t.min,e.max=e.min+At(t)}function QM(e,t,n){fv(e.x,t.x,n.x),fv(e.y,t.y,n.y)}function hv(e,t,n){e.min=t.min-n.min,e.max=e.min+At(t)}function si(e,t,n){hv(e.x,t.x,n.x),hv(e.y,t.y,n.y)}function JM(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Re(n,e,r.max):Math.min(e,n)),e}function pv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ZM(e,{top:t,left:n,bottom:r,right:o}){return{x:pv(e.x,n,o),y:pv(e.y,t,r)}}function mv(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eD(e,t){return{x:mv(e.x,t.x),y:mv(e.y,t.y)}}function tD(e,t){let n=.5;const r=At(e),o=At(t);return o>r?n=ji(t.min,t.max-r,e.min):r>o&&(n=ji(e.min,e.max-o,t.min)),br(0,1,n)}function nD(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pf=.35;function rD(e=Pf){return e===!1?e=0:e===!0&&(e=Pf),{x:gv(e,"left","right"),y:gv(e,"top","bottom")}}function gv(e,t,n){return{min:vv(e,t),max:vv(e,n)}}function vv(e,t){return typeof e=="number"?e:e[t]||0}const yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:yv(),y:yv()}),xv=()=>({min:0,max:0}),ze=()=>({x:xv(),y:xv()});function Vt(e){return[e("x"),e("y")]}function i1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hu(e){return e===void 0||e===1}function jf({scale:e,scaleX:t,scaleY:n}){return!Hu(e)||!Hu(t)||!Hu(n)}function Fr(e){return jf(e)||a1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function a1(e){return wv(e.x)||wv(e.y)}function wv(e){return e&&e!=="0%"}function Il(e,t,n){const r=e-n,o=t*r;return n+o}function bv(e,t,n,r,o){return o!==void 0&&(e=Il(e,o,r)),Il(e,n,r)+t}function Tf(e,t=0,n=1,r,o){e.min=bv(e.min,t,n,r,o),e.max=bv(e.max,t,n,r,o)}function l1(e,{x:t,y:n}){Tf(e.x,t.translate,t.scale,t.originPoint),Tf(e.y,n.translate,n.scale,n.originPoint)}function iD(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,l1(e,i)),r&&Fr(s.latestValues)&&Vo(e,s.latestValues))}t.x=_v(t.x),t.y=_v(t.y)}function _v(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function tr(e,t){e.min=e.min+t,e.max=e.max+t}function Sv(e,t,[n,r,o]){const s=t[o]!==void 0?t[o]:.5,i=Re(e.min,e.max,s);Tf(e,t[n],t[r],i,t.scale)}const aD=["x","scaleX","originX"],lD=["y","scaleY","originY"];function Vo(e,t){Sv(e.x,t,aD),Sv(e.y,t,lD)}function c1(e,t){return i1(sD(e.getBoundingClientRect(),t))}function cD(e,t,n){const r=c1(e,n),{scroll:o}=t;return o&&(tr(r.x,o.offset.x),tr(r.y,o.offset.y)),r}const u1=({current:e})=>e?e.ownerDocument.defaultView:null,uD=new WeakMap;class dD{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rc(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:w}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Sb(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vt(_=>{let y=this.getAxisMotionValue(_).get()||0;if(yn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[_];g&&(y=At(g)*(parseFloat(y)/100))}}this.originPoint[_]=y}),w&&Ce.update(()=>w(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:w,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:_}=f;if(m&&this.currentDirection===null){this.currentDirection=fD(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Vt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new o1(t,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:u1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Ce.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Aa(t,o,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=JM(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Io(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=ZM(o.layoutBox,n):this.constraints=!1,this.elastic=rD(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=nD(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Io(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=cD(r,o.root,this.visualElement.getTransformPagePoint());let i=eD(o.layout.layoutBox,s);if(n){const a=n(oD(i));this.hasMutatedConstraints=!!a,a&&(i=i1(a))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vt(d=>{if(!Aa(d,n,this.currentDirection))return;let f=l&&l[d]||{};i&&(f={min:0,max:0});const h=o?200:1e6,m=o?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(bp(t,r,0,n))}stopAnimation(){Vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Vt(n=>{const{drag:r}=this.getProps();if(!Aa(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(t[n]-Re(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Io(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vt(i=>{const a=this.getAxisMotionValue(i);if(a){const l=a.get();o[i]=tD({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vt(i=>{if(!Aa(i,t,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(Re(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;uD.set(this.visualElement,this);const t=this.visualElement.current,n=Nn(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Io(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const i=jn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Pf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Aa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function fD(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hD extends Rr{constructor(t){super(t),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new dD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const kv=e=>(t,n)=>{e&&Ce.update(()=>e(t,n))};class pD extends Rr{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(t){this.session=new o1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:kv(t),onStart:kv(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Ce.update(()=>o(s,i))}}}mount(){this.removePointerDownListener=Nn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mD(){const e=p.useContext(Ec);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=p.useId();return p.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ds={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=Cv(e,t.target.x),r=Cv(e,t.target.y);return`${n}% ${r}%`}},gD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=_r.parse(e);if(o.length>5)return r;const s=_r.createTransformer(e),i=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;o[0+i]/=a,o[1+i]/=l;const c=Re(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}};class vD extends ve.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=t;kR(yD),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Za.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Ce.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function d1(e){const[t,n]=mD(),r=p.useContext(ap);return ve.createElement(vD,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(ib),isPresent:t,safeToRemove:n})}const yD={borderRadius:{...Ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ds,borderTopRightRadius:Ds,borderBottomLeftRadius:Ds,borderBottomRightRadius:Ds,boxShadow:gD},f1=["TopLeft","TopRight","BottomLeft","BottomRight"],xD=f1.length,Ev=e=>typeof e=="string"?parseFloat(e):e,Pv=e=>typeof e=="number"||ne.test(e);function wD(e,t,n,r,o,s){o?(e.opacity=Re(0,n.opacity!==void 0?n.opacity:1,bD(r)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,_D(r))):s&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<xD;i++){const a=`border${f1[i]}Radius`;let l=jv(t,a),c=jv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Pv(l)===Pv(c)?(e[a]=Math.max(Re(Ev(l),Ev(c),r),0),(yn.test(c)||yn.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Re(t.rotate||0,n.rotate||0,r))}function jv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bD=h1(0,.5,Ob),_D=h1(.5,.95,$e);function h1(e,t,n){return r=>r<e?0:r>t?1:n(ji(e,t,r))}function Tv(e,t){e.min=t.min,e.max=t.max}function Ft(e,t){Tv(e.x,t.x),Tv(e.y,t.y)}function Nv(e,t,n,r,o){return e-=t,e=Il(e,1/n,r),o!==void 0&&(e=Il(e,1/o,r)),e}function SD(e,t=0,n=1,r=.5,o,s=e,i=e){if(yn.test(t)&&(t=parseFloat(t),t=Re(i.min,i.max,t/100)-i.min),typeof t!="number")return;let a=Re(s.min,s.max,r);e===s&&(a-=t),e.min=Nv(e.min,t,n,a,o),e.max=Nv(e.max,t,n,a,o)}function Rv(e,t,[n,r,o],s,i){SD(e,t[n],t[r],t[o],t.scale,s,i)}const kD=["x","scaleX","originX"],CD=["y","scaleY","originY"];function Av(e,t,n,r){Rv(e.x,t,kD,n?n.x:void 0,r?r.x:void 0),Rv(e.y,t,CD,n?n.y:void 0,r?r.y:void 0)}function Mv(e){return e.translate===0&&e.scale===1}function p1(e){return Mv(e.x)&&Mv(e.y)}function ED(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function m1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Dv(e){return At(e.x)/At(e.y)}class PD{constructor(){this.members=[]}add(t){_p(this.members,t),t.scheduleRender()}remove(t){if(Sp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ov(e,t,n){let r="";const o=e.x.translate/t.x,s=e.y.translate/t.y;if((o||s)&&(r=`translate3d(${o}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,a=e.y.scale*t.y;return(i!==1||a!==1)&&(r+=`scale(${i}, ${a})`),r||"none"}const jD=(e,t)=>e.depth-t.depth;class TD{constructor(){this.children=[],this.isDirty=!1}add(t){_p(this.children,t),this.isDirty=!0}remove(t){Sp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jD),this.isDirty=!1,this.children.forEach(t)}}function ND(e,t){const n=performance.now(),r=({timestamp:o})=>{const s=o-n;s>=t&&(Fn(r),e(s-t))};return Ce.read(r,!0),()=>Fn(r)}function RD(e){window.MotionDebug&&window.MotionDebug.record(e)}function AD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function MD(e,t,n){const r=wt(e)?e:cs(e);return r.start(bp("",r,t,n)),r.animation}const $v=["","X","Y","Z"],DD={visibility:"hidden"},Iv=1e3;let OD=0;const Vr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function g1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=t==null?void 0:t()){this.id=OD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vr.totalNodes=Vr.resolvedTargetDeltas=Vr.recalculatedProjection=0,this.nodes.forEach(LD),this.nodes.forEach(BD),this.nodes.forEach(WD),this.nodes.forEach(FD),RD(Vr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new TD)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new kp),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AD(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ND(h,250),Za.hasAnimatedSinceResize&&(Za.hasAnimatedSinceResize=!1,this.nodes.forEach(Fv))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||YD,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!m1(this.targetLayout,w)||m,g=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const b={...wp(v,"layout"),onPlay:_,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||Fv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HD),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lv);return}this.isUpdating||this.nodes.forEach(zD),this.isUpdating=!1,this.nodes.forEach(UD),this.nodes.forEach($D),this.nodes.forEach(ID),this.clearAllSnapshots();const a=performance.now();tt.delta=br(0,1e3/60,a-tt.timestamp),tt.timestamp=a,tt.isProcessing=!0,Ou.update.process(tt),Ou.preRender.process(tt),Ou.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VD),this.sharedNodes.forEach(qD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!p1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||Fr(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),XD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return ze();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(tr(a.x,l.offset.x),tr(a.y,l.offset.y)),a}removeElementScroll(i){const a=ze();Ft(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ft(a,i);const{scroll:h}=this.root;h&&(tr(a.x,-h.offset.x),tr(a.y,-h.offset.y))}tr(a.x,d.offset.x),tr(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=ze();Ft(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Fr(d.latestValues)&&Vo(l,d.latestValues)}return Fr(this.latestValues)&&Vo(l,this.latestValues),l}removeTransform(i){const a=ze();Ft(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fr(c.latestValues))continue;jf(c.latestValues)&&c.updateSnapshot();const d=ze(),f=c.measurePageBox();Ft(d,f),Av(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Fr(this.latestValues)&&Av(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),si(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),l1(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),si(this.relativeTargetOrigin,this.target,m.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jf(this.parent.latestValues)||a1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;iD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=Fo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo());const v=this.projectionTransform;oi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Ov(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Vr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ze(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=m!==w,_=this.getStack(),y=!_||_.members.length<=1,x=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(KD));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const S=b/1e3;Vv(f.x,i.x,S),Vv(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GD(this.relativeTarget,this.relativeTargetOrigin,h,S),g&&ED(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ze()),Ft(g,this.relativeTarget)),v&&(this.animationValues=d,wD(d,c,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Za.hasAnimatedSinceResize=!0,this.currentAnimation=MD(0,Iv,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&v1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ze();const f=At(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=At(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Ft(a,l),Vo(a,d),oi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new PD),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<$v.length;d++){const f="rotate"+$v[d];l[f]&&(c[f]=l[f],i.setStaticValue(f,0))}i.render();for(const d in c)i.setStaticValue(d,c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DD;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ja(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ja(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Fr(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Ov(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Nl){if(h[v]===void 0)continue;const{correct:_,applyTo:y}=Nl[v],x=c.transform==="none"?h[v]:_(h[v],f);if(y){const g=y.length;for(let b=0;b<g;b++)c[y[b]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=f===this?Ja(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Lv),this.root.sharedNodes.clear()}}}function $D(e){e.updateLayout()}function ID(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;s==="size"?Vt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=At(h);h.min=r[f].min,h.max=h.min+m}):v1(s,n.layoutBox,r)&&Vt(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=At(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Fo();oi(a,r,n.layoutBox);const l=Fo();i?oi(l,e.applyTransform(o,!0),n.measuredBox):oi(l,r,n.layoutBox);const c=!p1(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const w=ze();si(w,n.layoutBox,h.layoutBox);const v=ze();si(v,r,m.layoutBox),m1(w,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function LD(e){Vr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VD(e){e.clearSnapshot()}function Lv(e){e.clearMeasurements()}function zD(e){e.isLayoutDirty=!1}function UD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BD(e){e.resolveTargetDelta()}function WD(e){e.calcProjection()}function HD(e){e.resetRotation()}function qD(e){e.removeLeadSnapshot()}function Vv(e,t,n){e.translate=Re(t.translate,0,n),e.scale=Re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zv(e,t,n,r){e.min=Re(t.min,n.min,r),e.max=Re(t.max,n.max,r)}function GD(e,t,n,r){zv(e.x,t.x,n.x,r),zv(e.y,t.y,n.y,r)}function KD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const YD={duration:.45,ease:[.4,0,.1,1]},Uv=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Bv=Uv("applewebkit/")&&!Uv("chrome/")?Math.round:$e;function Wv(e){e.min=Bv(e.min),e.max=Bv(e.max)}function XD(e){Wv(e.x),Wv(e.y)}function v1(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ef(Dv(t),Dv(n),.2)}const QD=g1({attachResizeListener:(e,t)=>jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qu={current:void 0},y1=g1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qu.current){const e=new QD({});e.mount(window),e.setOptions({layoutScroll:!0}),qu.current=e}return qu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JD={pan:{Feature:pD},drag:{Feature:hD,ProjectionNode:y1,MeasureLayout:d1}},ZD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function eO(e){const t=ZD.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Nf(e,t,n=1){const[r,o]=eO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const i=s.trim();return e1(i)?parseFloat(i):i}else return xf(o)?Nf(o,t,n+1):o}function tO(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const s=o.get();if(!xf(s))return;const i=Nf(s,r);i&&o.set(i)});for(const o in t){const s=t[o];if(!xf(s))continue;const i=Nf(s,r);i&&(t[o]=i,n||(n={}),n[o]===void 0&&(n[o]=s))}return{target:t,transitionEnd:n}}const nO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),x1=e=>nO.has(e),rO=e=>Object.keys(e).some(x1),Hv=e=>e===ho||e===ne,qv=(e,t)=>parseFloat(e.split(", ")[t]),Gv=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return qv(o[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?qv(s[1],e):0}},oO=new Set(["x","y","z"]),sO=Wi.filter(e=>!oO.has(e));function iO(e){const t=[];return sO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gv(4,13),y:Gv(5,14)};us.translateX=us.x;us.translateY=us.y;const aO=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,s=getComputedStyle(o),{display:i}=s,a={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=us[c](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(a[c]),e[c]=us[c](l,s)}),e},lO=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(x1);let s=[],i=!1;const a=[];if(o.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Ms(d);const h=t[l];let m;if(Al(h)){const w=h.length,v=h[0]===null?1:0;d=h[v],f=Ms(d);for(let _=v;_<w&&h[_]!==null;_++)m?mp(Ms(h[_])===m):m=Ms(h[_])}else m=Ms(h);if(f!==m)if(Hv(f)&&Hv(m)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===ne&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(i||(s=iO(e),i=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=aO(t,e,a);return s.length&&s.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Pc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function cO(e,t,n,r){return rO(t)?lO(e,t,n,r):{target:t,transitionEnd:r}}const uO=(e,t,n,r)=>{const o=tO(e,t,r);return t=o.target,r=o.transitionEnd,cO(e,t,n,r)},Rf={current:null},w1={current:!1};function dO(){if(w1.current=!0,!!Pc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rf.current=e.matches;e.addListener(t),t()}else Rf.current=!1}function fO(e,t,n){const{willChange:r}=t;for(const o in t){const s=t[o],i=n[o];if(wt(s))e.addValue(o,s),$l(r)&&r.add(o);else if(wt(i))e.addValue(o,cs(s,{owner:e})),$l(r)&&r.remove(o);else if(i!==s)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(o);e.addValue(o,cs(a!==void 0?a:s,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Kv=new WeakMap,b1=Object.keys(Pi),hO=b1.length,Yv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],pO=ip.length;class mO{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:s},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=i,this.isControllingVariants=Tc(n),this.isVariantNode=sb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];a[f]!==void 0&&wt(h)&&(h.set(a[f],!1),$l(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Kv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),w1.current||dO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kv.delete(this.current),this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=fo.has(t),o=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,s){let i,a;for(let l=0;l<hO;l++){const c=b1[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Pi[c];h&&(i=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Io(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yv.length;r++){const o=Yv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s=t["on"+o];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=fO(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<pO;r++){const o=ip[r],s=this.props[o];(Ei(s)||s===!1)&&(n[o]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=cs(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=pp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wt(s)?s:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class _1 extends mO{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},s){let i=AM(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),i&&(i=o(i))),s){NM(this,r,i);const a=uO(this,r,i,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function gO(e){return window.getComputedStyle(e)}class vO extends _1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(fo.has(n)){const r=xp(n);return r&&r.default||0}else{const r=gO(t),o=(cb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return c1(t,n)}build(t,n,r,o){cp(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return hp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){mb(t,n,r,o)}}class yO extends _1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fo.has(n)){const r=xp(n);return r&&r.default||0}return n=gb.has(n)?n:op(n),t.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(t,n){return yb(t,n)}build(t,n,r,o){dp(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){vb(t,n,r,o)}mount(t){this.isSVGTag=fp(t.tagName),super.mount(t)}}const xO=(e,t)=>lp(e)?new yO(t,{enableHardwareAcceleration:!1}):new vO(t,{enableHardwareAcceleration:!0}),wO={layout:{ProjectionNode:y1,MeasureLayout:d1}},bO={...GM,...hA,...JD,...wO},Kt=_R((e,t)=>eA(e,t,bO,xO));function S1(){const e=p.useRef(!1);return rp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function _O(){const e=S1(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>Ce.postRender(r),[r]),t]}class SO extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kO({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:s,height:i,top:a,left:l}=o.current;if(t||!r.current||!s||!i)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),p.createElement(SO,{isPresent:t,childRef:r,sizeRef:o},p.cloneElement(e,{ref:r}))}const Gu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=xb(CO),l=p.useId(),c=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return p.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=p.createElement(kO,{isPresent:n},e)),p.createElement(Ec.Provider,{value:c},e)};function CO(){return new Map}function EO(e){return p.useEffect(()=>()=>e(),[])}const zr=e=>e.key||"";function PO(e,t){e.forEach(n=>{const r=zr(n);t.set(r,n)})}function jO(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const k1=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=p.useContext(ap).forceRender||_O()[0],l=S1(),c=jO(e);let d=c;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,w=p.useRef(!0);if(rp(()=>{w.current=!1,PO(c,m),h.current=d}),EO(()=>{w.current=!0,m.clear(),f.clear()}),w.current)return p.createElement(p.Fragment,null,d.map(x=>p.createElement(Gu,{key:zr(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:i},x)));d=[...d];const v=h.current.map(zr),_=c.map(zr),y=v.length;for(let x=0;x<y;x++){const g=v[x];_.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((x,g)=>{if(_.indexOf(g)!==-1)return;const b=m.get(g);if(!b)return;const S=v.indexOf(g);let k=x;if(!k){const C=()=>{f.delete(g);const E=Array.from(m.keys()).filter(P=>!_.includes(P));if(E.forEach(P=>m.delete(P)),h.current=c.filter(P=>{const A=zr(P);return A===g||E.includes(A)}),!f.size){if(l.current===!1)return;a(),r&&r()}};k=p.createElement(Gu,{key:zr(b),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:s,mode:i},b),f.set(g,k)}d.splice(S,0,k)}),d=d.map(x=>{const g=x.key;return f.has(g)?x:p.createElement(Gu,{key:zr(x),isPresent:!0,presenceAffectsLayout:s,mode:i},x)}),p.createElement(p.Fragment,null,f.size?d:d.map(x=>p.cloneElement(x)))},TO={totalProducts:{title:"Total Products",icon:AT},inventoryValue:{title:"Inventory Value",icon:_w},itemsSold:{title:"Items Sold",icon:gc}},Ku=({type:e,value:t,periodLabel:n,link:r})=>{const{settings:o}=$t(),s=TO[e]||{title:"Statistic",icon:_w},i=s.icon,a=n?`${s.title} (${n})`:s.title;return u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`rounded-xl p-6 ${o.darkMode?"neumorphism-dark":"neumorphism"} flex flex-col justify-between shadow-lg hover:shadow-xl transition-shadow`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:`text-sm font-medium ${o.darkMode?"text-gray-400":"text-gray-500"}`,children:a}),u.jsx("h3",{className:`text-3xl font-bold mt-1 ${o.darkMode?"text-white":"text-gray-900"}`,children:t})]}),u.jsx("div",{className:`p-3 rounded-full ${o.darkMode?"bg-primary/20":"bg-primary/10"}`,children:u.jsx(i,{className:"w-7 h-7 text-primary"})})]}),r&&u.jsxs(to,{to:r.to,className:"mt-4 text-xs text-primary hover:underline flex items-center font-medium",children:[r.label," ",u.jsx(jT,{className:"w-3 h-3 ml-1"})]})]})},NO=({productsCount:e,inventoryValue:t,itemsSoldCount:n,salesFilterLabel:r,currencySymbol:o})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsx(Ku,{type:"totalProducts",value:e,link:{to:"/products",label:"Manage Products"}}),u.jsx(Ku,{type:"inventoryValue",value:`${o}${t.toFixed(2)}`}),u.jsx(Ku,{type:"itemsSold",value:n,periodLabel:r})]}),Cp=yw("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=ve.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?Rj:"button";return u.jsx(i,{className:me(Cp({variant:t,size:n,className:e})),ref:s,...o})});re.displayName="Button";const ie=ve.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ie.displayName="Input";var RO=p.createContext(void 0);function C1(e){const t=p.useContext(RO);return e||t||"ltr"}var Yu=0;function E1(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xv()),document.body.insertAdjacentElement("beforeend",e[1]??Xv()),Yu++,()=>{Yu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yu--}},[])}function Xv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xu="focusScope.autoFocusOnMount",Qu="focusScope.autoFocusOnUnmount",Qv={bubbles:!1,cancelable:!0},AO="FocusScope",Ep=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=p.useState(null),c=Rt(o),d=Rt(s),f=p.useRef(null),h=Le(t,v=>l(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(g){if(m.paused||!a)return;const b=g.target;a.contains(b)?f.current=b:Qn(f.current,{select:!0})},_=function(g){if(m.paused||!a)return;const b=g.relatedTarget;b!==null&&(a.contains(b)||Qn(f.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const S of g)S.removedNodes.length>0&&Qn(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,m.paused]),p.useEffect(()=>{if(a){Zv.add(m);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(Xu,Qv);a.addEventListener(Xu,c),a.dispatchEvent(y),y.defaultPrevented||(MO(LO(P1(a)),{select:!0}),document.activeElement===v&&Qn(a))}return()=>{a.removeEventListener(Xu,c),setTimeout(()=>{const y=new CustomEvent(Qu,Qv);a.addEventListener(Qu,d),a.dispatchEvent(y),y.defaultPrevented||Qn(v??document.body,{select:!0}),a.removeEventListener(Qu,d),Zv.remove(m)},0)}}},[a,c,d,m]);const w=p.useCallback(v=>{if(!n&&!r||m.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(_&&y){const x=v.currentTarget,[g,b]=DO(x);g&&b?!v.shiftKey&&y===b?(v.preventDefault(),n&&Qn(g,{select:!0})):v.shiftKey&&y===g&&(v.preventDefault(),n&&Qn(b,{select:!0})):y===x&&v.preventDefault()}},[n,r,m.paused]);return u.jsx(be.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Ep.displayName=AO;function MO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qn(r,{select:t}),document.activeElement!==n)return}function DO(e){const t=P1(e),n=Jv(t,e),r=Jv(t.reverse(),e);return[n,r]}function P1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jv(e,t){for(const n of e)if(!OO(n,{upTo:t}))return n}function OO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $O(e){return e instanceof HTMLInputElement&&"select"in e}function Qn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$O(e)&&t&&e.select()}}var Zv=IO();function IO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ey(e,t),e.unshift(t)},remove(t){var n;e=ey(e,t),(n=e[0])==null||n.resume()}}}function ey(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function LO(e){return e.filter(t=>t.tagName!=="A")}var FO=Kl[" useId ".trim().toString()]||(()=>{}),VO=0;function Ko(e){const[t,n]=p.useState(FO());return Ln(()=>{e||n(r=>r??String(VO++))},[e]),e||(t?`radix-${t}`:"")}const zO=["top","right","bottom","left"],Sr=Math.min,Ct=Math.max,Ll=Math.round,Ma=Math.floor,xn=e=>({x:e,y:e}),UO={left:"right",right:"left",bottom:"top",top:"bottom"},BO={start:"end",end:"start"};function Af(e,t,n){return Ct(e,Sr(t,n))}function Vn(e,t){return typeof e=="function"?e(t):e}function zn(e){return e.split("-")[0]}function xs(e){return e.split("-")[1]}function Pp(e){return e==="x"?"y":"x"}function jp(e){return e==="y"?"height":"width"}function An(e){return["top","bottom"].includes(zn(e))?"y":"x"}function Tp(e){return Pp(An(e))}function WO(e,t,n){n===void 0&&(n=!1);const r=xs(e),o=Tp(e),s=jp(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Fl(i)),[i,Fl(i)]}function HO(e){const t=Fl(e);return[Mf(e),t,Mf(t)]}function Mf(e){return e.replace(/start|end/g,t=>BO[t])}function qO(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function GO(e,t,n,r){const o=xs(e);let s=qO(zn(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(Mf)))),s}function Fl(e){return e.replace(/left|right|bottom|top/g,t=>UO[t])}function KO(e){return{top:0,right:0,bottom:0,left:0,...e}}function j1(e){return typeof e!="number"?KO(e):{top:e,right:e,bottom:e,left:e}}function Vl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function ty(e,t,n){let{reference:r,floating:o}=e;const s=An(t),i=Tp(t),a=jp(i),l=zn(t),c=s==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(xs(t)){case"start":m[i]-=h*(n&&c?-1:1);break;case"end":m[i]+=h*(n&&c?-1:1);break}return m}const YO=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=ty(c,r,l),h=r,m={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:y}=a[v],{x,y:g,data:b,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});d=x??d,f=g??f,m={...m,[_]:{...m[_],...b}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:d,y:f}=ty(c,h,l)),v=-1)}return{x:d,y:f,placement:h,strategy:o,middlewareData:m}};async function Ti(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Vn(t,e),w=j1(m),_=a[h?f==="floating"?"reference":"floating":f],y=Vl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,g=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(g))?await(s.getScale==null?void 0:s.getScale(g))||{x:1,y:1}:{x:1,y:1},S=Vl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:g,strategy:l}):x);return{top:(y.top-S.top+w.top)/b.y,bottom:(S.bottom-y.bottom+w.bottom)/b.y,left:(y.left-S.left+w.left)/b.x,right:(S.right-y.right+w.right)/b.x}}const XO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Vn(e,t)||{};if(c==null)return{};const f=j1(d),h={x:n,y:r},m=Tp(o),w=jp(m),v=await i.getDimensions(c),_=m==="y",y=_?"top":"left",x=_?"bottom":"right",g=_?"clientHeight":"clientWidth",b=s.reference[w]+s.reference[m]-h[m]-s.floating[w],S=h[m]-s.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=k?k[g]:0;(!C||!await(i.isElement==null?void 0:i.isElement(k)))&&(C=a.floating[g]||s.floating[w]);const E=b/2-S/2,P=C/2-v[w]/2-1,A=Sr(f[y],P),V=Sr(f[x],P),I=A,W=C-v[w]-V,O=C/2-v[w]/2+E,B=Af(I,O,W),H=!l.arrow&&xs(o)!=null&&O!==B&&s.reference[w]/2-(O<I?A:V)-v[w]/2<0,Z=H?O<I?O-I:O-W:0;return{[m]:h[m]+Z,data:{[m]:B,centerOffset:O-B-Z,...H&&{alignmentOffset:Z}},reset:H}}}),QO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=Vn(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=zn(o),x=An(a),g=zn(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(g||!v?[Fl(a)]:HO(a)),k=w!=="none";!h&&k&&S.push(...GO(a,v,w,b));const C=[a,...S],E=await Ti(t,_),P=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(E[y]),f){const B=WO(o,i,b);P.push(E[B[0]],E[B[1]])}if(A=[...A,{placement:o,overflows:P}],!P.every(B=>B<=0)){var V,I;const B=(((V=s.flip)==null?void 0:V.index)||0)+1,H=C[B];if(H){var W;const N=f==="alignment"?x!==An(H):!1,j=((W=A[0])==null?void 0:W.overflows[0])>0;if(!N||j)return{data:{index:B,overflows:A},reset:{placement:H}}}let Z=(I=A.filter(N=>N.overflows[0]<=0).sort((N,j)=>N.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!Z)switch(m){case"bestFit":{var O;const N=(O=A.filter(j=>{if(k){const z=An(j.placement);return z===x||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,L)=>z+L,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:O[0];N&&(Z=N);break}case"initialPlacement":Z=a;break}if(o!==Z)return{reset:{placement:Z}}}return{}}}};function ny(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ry(e){return zO.some(t=>e[t]>=0)}const JO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Vn(e,t);switch(r){case"referenceHidden":{const s=await Ti(t,{...o,elementContext:"reference"}),i=ny(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ry(i)}}}case"escaped":{const s=await Ti(t,{...o,altBoundary:!0}),i=ny(s,n.floating);return{data:{escapedOffsets:i,escaped:ry(i)}}}default:return{}}}}};async function ZO(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=zn(n),a=xs(n),l=An(n)==="y",c=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,f=Vn(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const e$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await ZO(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},t$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:_=>{let{x:y,y:x}=_;return{x:y,y:x}}},...l}=Vn(e,t),c={x:n,y:r},d=await Ti(t,l),f=An(zn(o)),h=Pp(f);let m=c[h],w=c[f];if(s){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[_],g=m-d[y];m=Af(x,m,g)}if(i){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=w+d[_],g=w-d[y];w=Af(x,w,g)}const v=a.fn({...t,[h]:m,[f]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:i}}}}}},n$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vn(e,t),d={x:n,y:r},f=An(o),h=Pp(f);let m=d[h],w=d[f];const v=Vn(a,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const g=h==="y"?"height":"width",b=s.reference[h]-s.floating[g]+_.mainAxis,S=s.reference[h]+s.reference[g]-_.mainAxis;m<b?m=b:m>S&&(m=S)}if(c){var y,x;const g=h==="y"?"width":"height",b=["top","left"].includes(zn(o)),S=s.reference[f]-s.floating[g]+(b&&((y=i.offset)==null?void 0:y[f])||0)+(b?0:_.crossAxis),k=s.reference[f]+s.reference[g]+(b?0:((x=i.offset)==null?void 0:x[f])||0)-(b?_.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[h]:m,[f]:w}}}},r$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Vn(e,t),d=await Ti(t,c),f=zn(o),h=xs(o),m=An(o)==="y",{width:w,height:v}=s.floating;let _,y;f==="top"||f==="bottom"?(_=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,_=h==="end"?"top":"bottom");const x=v-d.top-d.bottom,g=w-d.left-d.right,b=Sr(v-d[_],x),S=Sr(w-d[y],g),k=!t.middlewareData.shift;let C=b,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),k&&!h){const A=Ct(d.left,0),V=Ct(d.right,0),I=Ct(d.top,0),W=Ct(d.bottom,0);m?E=w-2*(A!==0||V!==0?A+V:Ct(d.left,d.right)):C=v-2*(I!==0||W!==0?I+W:Ct(d.top,d.bottom))}await l({...t,availableWidth:E,availableHeight:C});const P=await i.getDimensions(a.floating);return w!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Mc(){return typeof window<"u"}function ws(e){return T1(e)?(e.nodeName||"").toLowerCase():"#document"}function jt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bn(e){var t;return(t=(T1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function T1(e){return Mc()?e instanceof Node||e instanceof jt(e).Node:!1}function an(e){return Mc()?e instanceof Element||e instanceof jt(e).Element:!1}function wn(e){return Mc()?e instanceof HTMLElement||e instanceof jt(e).HTMLElement:!1}function oy(e){return!Mc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jt(e).ShadowRoot}function Ki(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function o$(e){return["table","td","th"].includes(ws(e))}function Dc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Np(e){const t=Rp(),n=an(e)?ln(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function s$(e){let t=kr(e);for(;wn(t)&&!ds(t);){if(Np(t))return t;if(Dc(t))return null;t=kr(t)}return null}function Rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ds(e){return["html","body","#document"].includes(ws(e))}function ln(e){return jt(e).getComputedStyle(e)}function Oc(e){return an(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kr(e){if(ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oy(e)&&e.host||bn(e);return oy(t)?t.host:t}function N1(e){const t=kr(e);return ds(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&Ki(t)?t:N1(t)}function Ni(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=N1(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=jt(o);if(s){const a=Df(i);return t.concat(i,i.visualViewport||[],Ki(o)?o:[],a&&n?Ni(a):[])}return t.concat(o,Ni(o,[],n))}function Df(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R1(e){const t=ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=wn(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Ll(n)!==s||Ll(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Ap(e){return an(e)?e:e.contextElement}function Yo(e){const t=Ap(e);if(!wn(t))return xn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=R1(t);let i=(s?Ll(n.width):n.width)/r,a=(s?Ll(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const i$=xn(0);function A1(e){const t=jt(e);return!Rp()||!t.visualViewport?i$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function a$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==jt(e)?!1:t}function ro(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Ap(e);let i=xn(1);t&&(r?an(r)&&(i=Yo(r)):i=Yo(e));const a=a$(s,n,r)?A1(s):xn(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,f=o.height/i.y;if(s){const h=jt(s),m=r&&an(r)?jt(r):r;let w=h,v=Df(w);for(;v&&r&&m!==w;){const _=Yo(v),y=v.getBoundingClientRect(),x=ln(v),g=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*_.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,c*=_.y,d*=_.x,f*=_.y,l+=g,c+=b,w=jt(v),v=Df(w)}}return Vl({width:d,height:f,x:l,y:c})}function Mp(e,t){const n=Oc(e).scrollLeft;return t?t.left+n:ro(bn(e)).left+n}function M1(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Mp(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function l$(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=bn(r),a=t?Dc(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=xn(1);const d=xn(0),f=wn(r);if((f||!f&&!s)&&((ws(r)!=="body"||Ki(i))&&(l=Oc(r)),wn(r))){const m=ro(r);c=Yo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=i&&!f&&!s?M1(i,l,!0):xn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function c$(e){return Array.from(e.getClientRects())}function u$(e){const t=bn(e),n=Oc(e),r=e.ownerDocument.body,o=Ct(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ct(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Mp(e);const a=-n.scrollTop;return ln(r).direction==="rtl"&&(i+=Ct(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function d$(e,t){const n=jt(e),r=bn(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=Rp();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function f$(e,t){const n=ro(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=wn(e)?Yo(e):xn(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:i,height:a,x:l,y:c}}function sy(e,t,n){let r;if(t==="viewport")r=d$(e,n);else if(t==="document")r=u$(bn(e));else if(an(t))r=f$(t,n);else{const o=A1(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Vl(r)}function D1(e,t){const n=kr(e);return n===t||!an(n)||ds(n)?!1:ln(n).position==="fixed"||D1(n,t)}function h$(e,t){const n=t.get(e);if(n)return n;let r=Ni(e,[],!1).filter(a=>an(a)&&ws(a)!=="body"),o=null;const s=ln(e).position==="fixed";let i=s?kr(e):e;for(;an(i)&&!ds(i);){const a=ln(i),l=Np(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ki(i)&&!l&&D1(e,i))?r=r.filter(d=>d!==i):o=a,i=kr(i)}return t.set(e,r),r}function p$(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Dc(t)?[]:h$(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const f=sy(t,d,o);return c.top=Ct(f.top,c.top),c.right=Sr(f.right,c.right),c.bottom=Sr(f.bottom,c.bottom),c.left=Ct(f.left,c.left),c},sy(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function m$(e){const{width:t,height:n}=R1(e);return{width:t,height:n}}function g$(e,t,n){const r=wn(t),o=bn(t),s=n==="fixed",i=ro(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=xn(0);function c(){l.x=Mp(o)}if(r||!r&&!s)if((ws(t)!=="body"||Ki(o))&&(a=Oc(t)),r){const m=ro(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else o&&c();s&&!r&&o&&c();const d=o&&!r&&!s?M1(o,a):xn(0),f=i.left+a.scrollLeft-l.x-d.x,h=i.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Ju(e){return ln(e).position==="static"}function iy(e,t){if(!wn(e)||ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return bn(e)===n&&(n=n.ownerDocument.body),n}function O1(e,t){const n=jt(e);if(Dc(e))return n;if(!wn(e)){let o=kr(e);for(;o&&!ds(o);){if(an(o)&&!Ju(o))return o;o=kr(o)}return n}let r=iy(e,t);for(;r&&o$(r)&&Ju(r);)r=iy(r,t);return r&&ds(r)&&Ju(r)&&!Np(r)?n:r||s$(e)||n}const v$=async function(e){const t=this.getOffsetParent||O1,n=this.getDimensions,r=await n(e.floating);return{reference:g$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y$(e){return ln(e).direction==="rtl"}const x$={convertOffsetParentRelativeRectToViewportRelativeRect:l$,getDocumentElement:bn,getClippingRect:p$,getOffsetParent:O1,getElementRects:v$,getClientRects:c$,getDimensions:m$,getScale:Yo,isElement:an,isRTL:y$};function $1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function w$(e,t){let n=null,r;const o=bn(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(a||t(),!h||!m)return;const w=Ma(f),v=Ma(o.clientWidth-(d+h)),_=Ma(o.clientHeight-(f+m)),y=Ma(d),g={rootMargin:-w+"px "+-v+"px "+-_+"px "+-y+"px",threshold:Ct(0,Sr(1,l))||1};let b=!0;function S(k){const C=k[0].intersectionRatio;if(C!==l){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!$1(c,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(S,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return i(!0),s}function b$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ap(e),d=o||s?[...c?Ni(c):[],...Ni(t)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&a?w$(c,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let w,v=l?ro(e):null;l&&_();function _(){const y=ro(e);v&&!$1(v,y)&&n(),v=y,w=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(x=>{o&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const _$=e$,S$=t$,k$=QO,C$=r$,E$=JO,ay=XO,P$=n$,j$=(e,t,n)=>{const r=new Map,o={platform:x$,...n},s={...o.platform,_c:r};return YO(e,t,{...o,platform:s})};var el=typeof document<"u"?p.useLayoutEffect:p.useEffect;function zl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zl(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!zl(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function I1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ly(e,t){const n=I1(e);return Math.round(t*n)/n}function Zu(e){const t=p.useRef(e);return el(()=>{t.current=e}),t}function T$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);zl(h,r)||m(r);const[w,v]=p.useState(null),[_,y]=p.useState(null),x=p.useCallback(N=>{N!==k.current&&(k.current=N,v(N))},[]),g=p.useCallback(N=>{N!==C.current&&(C.current=N,y(N))},[]),b=s||w,S=i||_,k=p.useRef(null),C=p.useRef(null),E=p.useRef(d),P=l!=null,A=Zu(l),V=Zu(o),I=Zu(c),W=p.useCallback(()=>{if(!k.current||!C.current)return;const N={placement:t,strategy:n,middleware:h};V.current&&(N.platform=V.current),j$(k.current,C.current,N).then(j=>{const z={...j,isPositioned:I.current!==!1};O.current&&!zl(E.current,z)&&(E.current=z,ao.flushSync(()=>{f(z)}))})},[h,t,n,V,I]);el(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[c]);const O=p.useRef(!1);el(()=>(O.current=!0,()=>{O.current=!1}),[]),el(()=>{if(b&&(k.current=b),S&&(C.current=S),b&&S){if(A.current)return A.current(b,S,W);W()}},[b,S,W,A,P]);const B=p.useMemo(()=>({reference:k,floating:C,setReference:x,setFloating:g}),[x,g]),H=p.useMemo(()=>({reference:b,floating:S}),[b,S]),Z=p.useMemo(()=>{const N={position:n,left:0,top:0};if(!H.floating)return N;const j=ly(H.floating,d.x),z=ly(H.floating,d.y);return a?{...N,transform:"translate("+j+"px, "+z+"px)",...I1(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:z}},[n,a,H.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:W,refs:B,elements:H,floatingStyles:Z}),[d,W,B,H,Z])}const N$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ay({element:r.current,padding:o}).fn(n):{}:r?ay({element:r,padding:o}).fn(n):{}}}},R$=(e,t)=>({..._$(e),options:[e,t]}),A$=(e,t)=>({...S$(e),options:[e,t]}),M$=(e,t)=>({...P$(e),options:[e,t]}),D$=(e,t)=>({...k$(e),options:[e,t]}),O$=(e,t)=>({...C$(e),options:[e,t]}),$$=(e,t)=>({...E$(e),options:[e,t]}),I$=(e,t)=>({...N$(e),options:[e,t]});var L$="Arrow",L1=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return u.jsx(be.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});L1.displayName=L$;var F$=L1;function V$(e){const[t,n]=p.useState(void 0);return Ln(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dp="Popper",[F1,V1]=Tr(Dp),[z$,z1]=F1(Dp),U1=e=>{const{__scopePopper:t,children:n}=e,[r,o]=p.useState(null);return u.jsx(z$,{scope:t,anchor:r,onAnchorChange:o,children:n})};U1.displayName=Dp;var B1="PopperAnchor",W1=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=z1(B1,n),i=p.useRef(null),a=Le(t,i);return p.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(be.div,{...o,ref:a})});W1.displayName=B1;var Op="PopperContent",[U$,B$]=F1(Op),H1=p.forwardRef((e,t)=>{var le,ce,T,R,M,D;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:w,...v}=e,_=z1(Op,n),[y,x]=p.useState(null),g=Le(t,$=>x($)),[b,S]=p.useState(null),k=V$(b),C=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,P=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(c)?c:[c],I=V.length>0,W={padding:A,boundary:V.filter(H$),altBoundary:I},{refs:O,floatingStyles:B,placement:H,isPositioned:Z,middlewareData:N}=T$({strategy:"fixed",placement:P,whileElementsMounted:(...$)=>b$(...$,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[R$({mainAxis:o+E,alignmentAxis:i}),l&&A$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?M$():void 0,...W}),l&&D$({...W}),O$({...W,apply:({elements:$,rects:te,availableWidth:X,availableHeight:he})=>{const{width:Fe,height:Ve}=te.reference,Q=$.floating.style;Q.setProperty("--radix-popper-available-width",`${X}px`),Q.setProperty("--radix-popper-available-height",`${he}px`),Q.setProperty("--radix-popper-anchor-width",`${Fe}px`),Q.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),b&&I$({element:b,padding:a}),q$({arrowWidth:C,arrowHeight:E}),h&&$$({strategy:"referenceHidden",...W})]}),[j,z]=K1(H),L=Rt(w);Ln(()=>{Z&&(L==null||L())},[Z,L]);const q=(le=N.arrow)==null?void 0:le.x,F=(ce=N.arrow)==null?void 0:ce.y,G=((T=N.arrow)==null?void 0:T.centerOffset)!==0,[oe,Y]=p.useState();return Ln(()=>{y&&Y(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:Z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(R=N.transformOrigin)==null?void 0:R.x,(M=N.transformOrigin)==null?void 0:M.y].join(" "),...((D=N.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(U$,{scope:n,placedSide:j,onArrowChange:S,arrowX:q,arrowY:F,shouldHideArrow:G,children:u.jsx(be.div,{"data-side":j,"data-align":z,...v,ref:g,style:{...v.style,animation:Z?void 0:"none"}})})})});H1.displayName=Op;var q1="PopperArrow",W$={top:"bottom",right:"left",bottom:"top",left:"right"},G1=p.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=B$(q1,r),i=W$[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(F$,{...o,ref:n,style:{...o.style,display:"block"}})})});G1.displayName=q1;function H$(e){return e!==null}var q$=e=>({name:"transformOrigin",options:e,fn(t){var _,y,x;const{placement:n,rects:r,middlewareData:o}=t,i=((_=o.arrow)==null?void 0:_.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=K1(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=o.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=o.arrow)==null?void 0:x.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=i?f:`${h}px`,v=`${-l}px`):c==="top"?(w=i?f:`${h}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=i?f:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=i?f:`${m}px`),{data:{x:w,y:v}}}});function K1(e){const[t,n="center"]=e.split("-");return[t,n]}var G$=U1,K$=W1,Y$=H1,X$=G1,ed="rovingFocusGroup.onEntryFocus",Q$={bubbles:!1,cancelable:!0},Yi="RovingFocusGroup",[Of,Y1,J$]=Lh(Yi),[Z$,X1]=Tr(Yi,[J$]),[eI,tI]=Z$(Yi),Q1=p.forwardRef((e,t)=>u.jsx(Of.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Of.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(nI,{...e,ref:t})})}));Q1.displayName=Yi;var nI=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Le(t,h),w=C1(s),[v,_]=pc({prop:i,defaultProp:a??null,onChange:l,caller:Yi}),[y,x]=p.useState(!1),g=Rt(c),b=Y1(n),S=p.useRef(!1),[k,C]=p.useState(0);return p.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(ed,g),()=>E.removeEventListener(ed,g)},[g]),u.jsx(eI,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:v,onItemFocus:p.useCallback(E=>_(E),[_]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>C(E=>E-1),[]),children:u.jsx(be.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,E=>{const P=!S.current;if(E.target===E.currentTarget&&P&&!y){const A=new CustomEvent(ed,Q$);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const V=b().filter(H=>H.focusable),I=V.find(H=>H.active),W=V.find(H=>H.id===v),B=[I,W,...V].filter(Boolean).map(H=>H.ref.current);e_(B,d)}}S.current=!1}),onBlur:ee(e.onBlur,()=>x(!1))})})}),J1="RovingFocusGroupItem",Z1=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=e,l=Ko(),c=s||l,d=tI(J1,n),f=d.currentTabStopId===c,h=Y1(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),u.jsx(Of.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:u.jsx(be.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ee(e.onMouseDown,_=>{r?d.onItemFocus(c):_.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ee(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=sI(_,d.orientation,d.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let g=h().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const b=g.indexOf(_.currentTarget);g=d.loop?iI(g,b+1):g.slice(b+1)}setTimeout(()=>e_(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Z1.displayName=J1;var rI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sI(e,t,n){const r=oI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rI[r]}function e_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function iI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aI=Q1,lI=Z1,cI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,Da=new WeakMap,Oa={},td=0,t_=function(e){return e&&(e.host||t_(e.parentNode))},uI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=t_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dI=function(e,t,n,r){var o=uI(t,Array.isArray(e)?e:[e]);Oa[n]||(Oa[n]=new WeakMap);var s=Oa[n],i=[],a=new Set,l=new Set(o),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};o.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),w=m!==null&&m!=="false",v=(wo.get(h)||0)+1,_=(s.get(h)||0)+1;wo.set(h,v),s.set(h,_),i.push(h),v===1&&w&&Da.set(h,!0),_===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),a.clear(),td++,function(){i.forEach(function(f){var h=wo.get(f)-1,m=s.get(f)-1;wo.set(f,h),s.set(f,m),h||(Da.has(f)||f.removeAttribute(r),Da.delete(f)),m||f.removeAttribute(n)}),td--,td||(wo=new WeakMap,wo=new WeakMap,Da=new WeakMap,Oa={})}},n_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||cI(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),dI(r,o,n,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mn.apply(this,arguments)};function r_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function fI(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var tl="right-scroll-bar-position",nl="width-before-scroll-bar",hI="with-scroll-bars-hidden",pI="--removed-body-scroll-bar-size";function nd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mI(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var gI=typeof window<"u"?p.useLayoutEffect:p.useEffect,cy=new WeakMap;function vI(e,t){var n=mI(t||null,function(r){return e.forEach(function(o){return nd(o,r)})});return gI(function(){var r=cy.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||nd(a,null)}),s.forEach(function(a){o.has(a)||nd(a,i)})}cy.set(n,e)},[e]),n}function yI(e){return e}function xI(e,t){t===void 0&&(t=yI);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var d=i;i=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return o}function wI(e){e===void 0&&(e={});var t=xI(null);return t.options=mn({async:!0,ssr:!1},e),t}var o_=function(e){var t=e.sideCar,n=r_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,mn({},n))};o_.isSideCarExport=!0;function bI(e,t){return e.useMedium(t),o_}var s_=wI(),rd=function(){},$c=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:rd,onWheelCapture:rd,onTouchMoveCapture:rd}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,w=e.inert,v=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,x=e.gapMode,g=r_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=vI([n,t]),k=mn(mn({},g),o);return p.createElement(p.Fragment,null,d&&p.createElement(b,{sideCar:s_,removeScrollBar:c,shards:f,noIsolation:m,inert:w,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:x}),i?p.cloneElement(p.Children.only(a),mn(mn({},k),{ref:S})):p.createElement(y,mn({},k,{className:l,ref:S}),a))});$c.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$c.classNames={fullWidth:nl,zeroRight:tl};var uy,_I=function(){if(uy)return uy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_I();return t&&e.setAttribute("nonce",t),e}function kI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=SI())&&(kI(t,n),CI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PI=function(){var e=EI();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},i_=function(){var e=PI(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},jI={left:0,top:0,right:0,gap:0},od=function(e){return parseInt(e||"",10)||0},TI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[od(n),od(r),od(o)]},NI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jI;var t=TI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},RI=i_(),Xo="data-scroll-locked",AI=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Xo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tl," .").concat(tl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nl," .").concat(nl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xo,`] {
    `).concat(pI,": ").concat(a,`px;
  }
`)},dy=function(){var e=parseInt(document.body.getAttribute(Xo)||"0",10);return isFinite(e)?e:0},MI=function(){p.useEffect(function(){return document.body.setAttribute(Xo,(dy()+1).toString()),function(){var e=dy()-1;e<=0?document.body.removeAttribute(Xo):document.body.setAttribute(Xo,e.toString())}},[])},DI=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;MI();var s=p.useMemo(function(){return NI(o)},[o]);return p.createElement(RI,{styles:AI(s,!t,o,n?"":"!important")})},$f=!1;if(typeof window<"u")try{var $a=Object.defineProperty({},"passive",{get:function(){return $f=!0,!0}});window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{$f=!1}var bo=$f?{passive:!1}:!1,OI=function(e){return e.tagName==="TEXTAREA"},a_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OI(e)&&n[t]==="visible")},$I=function(e){return a_(e,"overflowY")},II=function(e){return a_(e,"overflowX")},fy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=l_(e,r);if(o){var s=c_(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LI=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FI=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},l_=function(e,t){return e==="v"?$I(t):II(t)},c_=function(e,t){return e==="v"?LI(t):FI(t)},VI=function(e,t){return e==="h"&&t==="rtl"?-1:1},zI=function(e,t,n,r,o){var s=VI(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),c=!1,d=i>0,f=0,h=0;do{var m=c_(e,a),w=m[0],v=m[1],_=m[2],y=v-_-s*w;(w||y)&&l_(e,a)&&(f+=y,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(o&&Math.abs(f)<1||!o&&i>f)||!d&&(o&&Math.abs(h)<1||!o&&-i>h))&&(c=!0),c},Ia=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hy=function(e){return[e.deltaX,e.deltaY]},py=function(e){return e&&"current"in e?e.current:e},UI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WI=0,_o=[];function HI(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),o=p.useState(WI++)[0],s=p.useState(i_)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=fI([e.lockRef.current],(e.shards||[]).map(py),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=Ia(v),x=n.current,g="deltaX"in v?v.deltaX:x[0]-y[0],b="deltaY"in v?v.deltaY:x[1]-y[1],S,k=v.target,C=Math.abs(g)>Math.abs(b)?"h":"v";if("touches"in v&&C==="h"&&k.type==="range")return!1;var E=fy(C,k);if(!E)return!0;if(E?S=C:(S=C==="v"?"h":"v",E=fy(C,k)),!E)return!1;if(!r.current&&"changedTouches"in v&&(g||b)&&(r.current=S),!S)return!0;var P=r.current||S;return zI(P,_,v,P==="h"?g:b,!0)},[]),l=p.useCallback(function(v){var _=v;if(!(!_o.length||_o[_o.length-1]!==s)){var y="deltaY"in _?hy(_):Ia(_),x=t.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&UI(S.delta,y)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var g=(i.current.shards||[]).map(py).filter(Boolean).filter(function(S){return S.contains(_.target)}),b=g.length>0?a(_,g[0]):!i.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),c=p.useCallback(function(v,_,y,x){var g={name:v,delta:_,target:y,should:x,shadowParent:qI(y)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(b){return b!==g})},1)},[]),d=p.useCallback(function(v){n.current=Ia(v),r.current=void 0},[]),f=p.useCallback(function(v){c(v.type,hy(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){c(v.type,Ia(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return _o.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,bo),document.addEventListener("touchmove",l,bo),document.addEventListener("touchstart",d,bo),function(){_o=_o.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,bo),document.removeEventListener("touchmove",l,bo),document.removeEventListener("touchstart",d,bo)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(s,{styles:BI(o)}):null,m?p.createElement(DI,{gapMode:e.gapMode}):null)}function qI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GI=bI(s_,HI);var u_=p.forwardRef(function(e,t){return p.createElement($c,mn({},e,{ref:t,sideCar:GI}))});u_.classNames=$c.classNames;const d_=u_;var If=["Enter"," "],KI=["ArrowDown","PageUp","Home"],f_=["ArrowUp","PageDown","End"],YI=[...KI,...f_],XI={ltr:[...If,"ArrowRight"],rtl:[...If,"ArrowLeft"]},QI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xi="Menu",[Ri,JI,ZI]=Lh(Xi),[po,h_]=Tr(Xi,[ZI,V1,X1]),Ic=V1(),p_=X1(),[eL,mo]=po(Xi),[tL,Qi]=po(Xi),m_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Ic(t),[l,c]=p.useState(null),d=p.useRef(!1),f=Rt(s),h=C1(o);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),u.jsx(G$,{...a,children:u.jsx(eL,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(tL,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};m_.displayName=Xi;var nL="MenuAnchor",$p=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ic(n);return u.jsx(K$,{...o,...r,ref:t})});$p.displayName=nL;var Ip="MenuPortal",[rL,g_]=po(Ip,{forceMount:void 0}),v_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=mo(Ip,t);return u.jsx(rL,{scope:t,forceMount:n,children:u.jsx(Bn,{present:n||s.open,children:u.jsx(hc,{asChild:!0,container:o,children:r})})})};v_.displayName=Ip;var Ht="MenuContent",[oL,Lp]=po(Ht),y_=p.forwardRef((e,t)=>{const n=g_(Ht,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=mo(Ht,e.__scopeMenu),i=Qi(Ht,e.__scopeMenu);return u.jsx(Ri.Provider,{scope:e.__scopeMenu,children:u.jsx(Bn,{present:r||s.open,children:u.jsx(Ri.Slot,{scope:e.__scopeMenu,children:i.modal?u.jsx(sL,{...o,ref:t}):u.jsx(iL,{...o,ref:t})})})})}),sL=p.forwardRef((e,t)=>{const n=mo(Ht,e.__scopeMenu),r=p.useRef(null),o=Le(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n_(s)},[]),u.jsx(Fp,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),iL=p.forwardRef((e,t)=>{const n=mo(Ht,e.__scopeMenu);return u.jsx(Fp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),aL=ss("MenuContent.ScrollLock"),Fp=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:w,...v}=e,_=mo(Ht,n),y=Qi(Ht,n),x=Ic(n),g=p_(n),b=JI(n),[S,k]=p.useState(null),C=p.useRef(null),E=Le(t,C,_.onContentChange),P=p.useRef(0),A=p.useRef(""),V=p.useRef(0),I=p.useRef(null),W=p.useRef("right"),O=p.useRef(0),B=w?d_:p.Fragment,H=w?{as:aL,allowPinchZoom:!0}:void 0,Z=j=>{var le,ce;const z=A.current+j,L=b().filter(T=>!T.disabled),q=document.activeElement,F=(le=L.find(T=>T.ref.current===q))==null?void 0:le.textValue,G=L.map(T=>T.textValue),oe=xL(G,z,F),Y=(ce=L.find(T=>T.textValue===oe))==null?void 0:ce.ref.current;(function T(R){A.current=R,window.clearTimeout(P.current),R!==""&&(P.current=window.setTimeout(()=>T(""),1e3))})(z),Y&&setTimeout(()=>Y.focus())};p.useEffect(()=>()=>window.clearTimeout(P.current),[]),E1();const N=p.useCallback(j=>{var L,q;return W.current===((L=I.current)==null?void 0:L.side)&&bL(j,(q=I.current)==null?void 0:q.area)},[]);return u.jsx(oL,{scope:n,searchRef:A,onItemEnter:p.useCallback(j=>{N(j)&&j.preventDefault()},[N]),onItemLeave:p.useCallback(j=>{var z;N(j)||((z=C.current)==null||z.focus(),k(null))},[N]),onTriggerLeave:p.useCallback(j=>{N(j)&&j.preventDefault()},[N]),pointerGraceTimerRef:V,onPointerGraceIntentChange:p.useCallback(j=>{I.current=j},[]),children:u.jsx(B,{...H,children:u.jsx(Ep,{asChild:!0,trapped:o,onMountAutoFocus:ee(s,j=>{var z;j.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(fc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:u.jsx(aI,{asChild:!0,...g,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:ee(l,j=>{y.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Y$,{role:"menu","aria-orientation":"vertical","data-state":D_(_.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,j=>{const L=j.target.closest("[data-radix-menu-content]")===j.currentTarget,q=j.ctrlKey||j.altKey||j.metaKey,F=j.key.length===1;L&&(j.key==="Tab"&&j.preventDefault(),!q&&F&&Z(j.key));const G=C.current;if(j.target!==G||!YI.includes(j.key))return;j.preventDefault();const Y=b().filter(le=>!le.disabled).map(le=>le.ref.current);f_.includes(j.key)&&Y.reverse(),vL(Y)}),onBlur:ee(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:ee(e.onPointerMove,Ai(j=>{const z=j.target,L=O.current!==j.clientX;if(j.currentTarget.contains(z)&&L){const q=j.clientX>O.current?"right":"left";W.current=q,O.current=j.clientX}}))})})})})})})});y_.displayName=Ht;var lL="MenuGroup",Vp=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(be.div,{role:"group",...r,ref:t})});Vp.displayName=lL;var cL="MenuLabel",x_=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(be.div,{...r,ref:t})});x_.displayName=cL;var Ul="MenuItem",my="menu.itemSelect",Lc=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=p.useRef(null),i=Qi(Ul,e.__scopeMenu),a=Lp(Ul,e.__scopeMenu),l=Le(t,s),c=p.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(my,{bubbles:!0,cancelable:!0});f.addEventListener(my,m=>r==null?void 0:r(m),{once:!0}),Fh(f,h),h.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(w_,{...o,ref:l,disabled:n,onClick:ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),c.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ee(e.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||If.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Lc.displayName=Ul;var w_=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Lp(Ul,n),a=p_(n),l=p.useRef(null),c=Le(t,l),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const w=l.current;w&&m((w.textContent??"").trim())},[s.children]),u.jsx(Ri.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:u.jsx(lI,{asChild:!0,...a,focusable:!r,children:u.jsx(be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ee(e.onPointerMove,Ai(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,Ai(w=>i.onItemLeave(w))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),uL="MenuCheckboxItem",b_=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return u.jsx(E_,{scope:e.__scopeMenu,checked:n,children:u.jsx(Lc,{role:"menuitemcheckbox","aria-checked":Bl(n)?"mixed":n,...o,ref:t,"data-state":Up(n),onSelect:ee(o.onSelect,()=>r==null?void 0:r(Bl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});b_.displayName=uL;var __="MenuRadioGroup",[dL,fL]=po(__,{value:void 0,onValueChange:()=>{}}),S_=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=Rt(r);return u.jsx(dL,{scope:e.__scopeMenu,value:n,onValueChange:s,children:u.jsx(Vp,{...o,ref:t})})});S_.displayName=__;var k_="MenuRadioItem",C_=p.forwardRef((e,t)=>{const{value:n,...r}=e,o=fL(k_,e.__scopeMenu),s=n===o.value;return u.jsx(E_,{scope:e.__scopeMenu,checked:s,children:u.jsx(Lc,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Up(s),onSelect:ee(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});C_.displayName=k_;var zp="MenuItemIndicator",[E_,hL]=po(zp,{checked:!1}),P_=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=hL(zp,n);return u.jsx(Bn,{present:r||Bl(s.checked)||s.checked===!0,children:u.jsx(be.span,{...o,ref:t,"data-state":Up(s.checked)})})});P_.displayName=zp;var pL="MenuSeparator",j_=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});j_.displayName=pL;var mL="MenuArrow",T_=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Ic(n);return u.jsx(X$,{...o,...r,ref:t})});T_.displayName=mL;var gL="MenuSub",[F3,N_]=po(gL),Bs="MenuSubTrigger",R_=p.forwardRef((e,t)=>{const n=mo(Bs,e.__scopeMenu),r=Qi(Bs,e.__scopeMenu),o=N_(Bs,e.__scopeMenu),s=Lp(Bs,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx($p,{asChild:!0,...c,children:u.jsx(w_,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":D_(n.open),...e,ref:dc(t,o.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,Ai(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,Ai(f=>{var m,w;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",y=_?-5:5,x=h[_?"left":"right"],g=h[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||XI[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});R_.displayName=Bs;var A_="MenuSubContent",M_=p.forwardRef((e,t)=>{const n=g_(Ht,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=mo(Ht,e.__scopeMenu),i=Qi(Ht,e.__scopeMenu),a=N_(A_,e.__scopeMenu),l=p.useRef(null),c=Le(t,l);return u.jsx(Ri.Provider,{scope:e.__scopeMenu,children:u.jsx(Bn,{present:r||s.open,children:u.jsx(Ri.Slot,{scope:e.__scopeMenu,children:u.jsx(Fp,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=QI[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});M_.displayName=A_;function D_(e){return e?"open":"closed"}function Bl(e){return e==="indeterminate"}function Up(e){return Bl(e)?"indeterminate":e?"checked":"unchecked"}function vL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xL(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=yL(e,Math.max(s,0));o.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function wL(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],c=a.x,d=a.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(o=!o)}return o}function bL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return wL(n,t)}function Ai(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _L=m_,SL=$p,kL=v_,CL=y_,EL=Vp,PL=x_,jL=Lc,TL=b_,NL=S_,RL=C_,AL=P_,ML=j_,DL=T_,OL=R_,$L=M_,Fc="DropdownMenu",[IL,V3]=Tr(Fc,[h_]),dt=h_(),[LL,O_]=IL(Fc),$_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=dt(t),c=p.useRef(null),[d,f]=pc({prop:o,defaultProp:s??!1,onChange:i,caller:Fc});return u.jsx(LL,{scope:t,triggerId:Ko(),triggerRef:c,contentId:Ko(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:a,children:u.jsx(_L,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};$_.displayName=Fc;var I_="DropdownMenuTrigger",L_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=O_(I_,n),i=dt(n);return u.jsx(SL,{asChild:!0,...i,children:u.jsx(be.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:dc(t,s.triggerRef),onPointerDown:ee(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ee(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});L_.displayName=I_;var FL="DropdownMenuPortal",F_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=dt(t);return u.jsx(kL,{...r,...n})};F_.displayName=FL;var V_="DropdownMenuContent",z_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=O_(V_,n),s=dt(n),i=p.useRef(!1);return u.jsx(CL,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z_.displayName=V_;var VL="DropdownMenuGroup",zL=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(EL,{...o,...r,ref:t})});zL.displayName=VL;var UL="DropdownMenuLabel",U_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(PL,{...o,...r,ref:t})});U_.displayName=UL;var BL="DropdownMenuItem",B_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(jL,{...o,...r,ref:t})});B_.displayName=BL;var WL="DropdownMenuCheckboxItem",W_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(TL,{...o,...r,ref:t})});W_.displayName=WL;var HL="DropdownMenuRadioGroup",qL=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(NL,{...o,...r,ref:t})});qL.displayName=HL;var GL="DropdownMenuRadioItem",H_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(RL,{...o,...r,ref:t})});H_.displayName=GL;var KL="DropdownMenuItemIndicator",q_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(AL,{...o,...r,ref:t})});q_.displayName=KL;var YL="DropdownMenuSeparator",G_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(ML,{...o,...r,ref:t})});G_.displayName=YL;var XL="DropdownMenuArrow",QL=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(DL,{...o,...r,ref:t})});QL.displayName=XL;var JL="DropdownMenuSubTrigger",K_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx(OL,{...o,...r,ref:t})});K_.displayName=JL;var ZL="DropdownMenuSubContent",Y_=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=dt(n);return u.jsx($L,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y_.displayName=ZL;var eF=$_,tF=L_,nF=F_,X_=z_,Q_=U_,J_=B_,Z_=W_,eS=H_,tS=q_,nS=G_,rS=K_,oS=Y_;const rF=eF,oF=tF,sF=p.forwardRef(({className:e,inset:t,children:n,...r},o)=>u.jsxs(rS,{ref:o,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(ET,{className:"ml-auto h-4 w-4"})]}));sF.displayName=rS.displayName;const iF=p.forwardRef(({className:e,...t},n)=>u.jsx(oS,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iF.displayName=oS.displayName;const sS=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(nF,{children:u.jsx(X_,{ref:r,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sS.displayName=X_.displayName;const iS=p.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(J_,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));iS.displayName=J_.displayName;const aF=p.forwardRef(({className:e,children:t,checked:n,...r},o)=>u.jsxs(Z_,{ref:o,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(tS,{children:u.jsx(CT,{className:"h-4 w-4"})})}),t]}));aF.displayName=Z_.displayName;const lF=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(eS,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(tS,{children:u.jsx(bw,{className:"h-2 w-2 fill-current"})})}),t]}));lF.displayName=eS.displayName;const aS=p.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(Q_,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));aS.displayName=Q_.displayName;const lS=p.forwardRef(({className:e,...t},n)=>u.jsx(nS,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));lS.displayName=nS.displayName;const cF=({activeInfoTab:e,setActiveInfoTab:t,lowStockItemsCount:n,salesFilter:r,setSalesFilter:o,customDate:s,setCustomDate:i,customMonth:a,setCustomMonth:l,customYear:c,setCustomYear:d})=>{const f=[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"All Time",value:"all"}];return u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 border-b pb-3",children:[u.jsxs("div",{className:"flex space-x-1 flex-wrap mb-3 sm:mb-0",children:[u.jsxs(re,{variant:e==="lowStock"?"default":"ghost",onClick:()=>t("lowStock"),className:`pb-2 rounded-b-none ${e==="lowStock"?"border-b-2 border-primary text-primary":""}`,children:[u.jsx(_T,{className:"w-4 h-4 mr-2"})," Low Stock (",n,")"]}),u.jsxs(re,{variant:e==="soldItems"?"default":"ghost",onClick:()=>t("soldItems"),className:`pb-2 rounded-b-none ${e==="soldItems"?"border-b-2 border-primary text-primary":""}`,children:[u.jsx(gc,{className:"w-4 h-4 mr-2"})," Sold Items Report"]})]}),e==="soldItems"&&u.jsxs(rF,{children:[u.jsx(oF,{asChild:!0,children:u.jsxs(re,{variant:"outline",className:"min-w-[150px] justify-start",children:[u.jsx(kT,{className:"w-4 h-4 mr-2"}),r.label]})}),u.jsxs(sS,{align:"end",className:"w-56",children:[f.map(h=>u.jsx(iS,{onClick:()=>o({type:h.value,label:h.label}),children:h.label},h.value)),u.jsx(lS,{}),u.jsx(aS,{children:"Custom Range"}),u.jsxs("div",{className:"p-2 space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{type:"date",value:s,onChange:h=>i(h.target.value),className:"flex-grow text-xs p-1 h-8"}),u.jsx(re,{size:"xs",onClick:()=>o({type:"customDate",label:`On ${new Date(s).toLocaleDateString()}`}),className:"text-xs h-8 px-2",children:"View"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{type:"month",value:a,onChange:h=>l(h.target.value),className:"flex-grow text-xs p-1 h-8"}),u.jsx(re,{size:"xs",onClick:()=>o({type:"customMonth",label:`For ${a}`}),className:"text-xs h-8 px-2",children:"View"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{type:"number",placeholder:"Year",value:c,onChange:h=>d(h.target.value),className:"flex-grow text-xs p-1 h-8",min:"2000",max:"2100"}),u.jsx(re,{size:"xs",onClick:()=>o({type:"customYear",label:`For ${c}`}),className:"text-xs h-8 px-2",children:"View"})]})]})]})]})]})},uF=({lowStockItems:e,settings:t})=>e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Gh,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),u.jsx("p",{className:`${t.darkMode?"text-gray-300":"text-gray-600"}`,children:"All products have sufficient stock!"})]}):u.jsx("div",{className:"mt-4 space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2",children:e.map(n=>{var o;const r=((o=n.product_variants)==null?void 0:o.reduce((s,i)=>s+i.stock,0))||0;return u.jsx(to,{to:"/products",className:`block p-4 rounded-lg transition-all duration-200 ease-in-out
            ${t.darkMode?"bg-gray-700/50 hover:bg-gray-600/70 shadow-md hover:shadow-gray-600/40":"bg-red-50 hover:bg-red-100/70 shadow-md hover:shadow-red-200/60"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:`font-semibold ${t.darkMode?"text-red-300":"text-red-700"}`,children:n.name}),u.jsxs("p",{className:`text-xs ${t.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",n.reference_number]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:`text-sm font-bold ${t.darkMode?"text-red-300":"text-red-600"}`,children:["Stock: ",r]}),n.product_variants&&n.product_variants.length>0&&u.jsx("div",{className:"text-xs mt-1",children:n.product_variants.filter(s=>s.stock<10).map(s=>u.jsxs("span",{className:`mr-1 px-1 rounded ${t.darkMode?"bg-red-800/70 text-red-200":"bg-red-200/70 text-red-700"}`,children:[s.size,": ",s.stock]},s.id))})]})]})},n.id)})}),dF=({soldItems:e,loadingSoldItems:t,totalSalesValue:n,salesFilterLabel:r,settings:o})=>u.jsxs("div",{children:[u.jsxs("div",{className:`mb-3 text-lg font-semibold ${o.darkMode?"text-gray-200":"text-gray-700"}`,children:["Total Sales Value (",r,"): ",o.currency.symbol,n.toFixed(2)]}),t?u.jsx("p",{className:"py-4",children:"Loading sold items..."}):e.length>0?u.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto custom-scrollbar pr-2",children:e.map((s,i)=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg shadow-sm transition-all duration-300 ease-in-out 
                               ${o.darkMode?"bg-green-900/40 hover:bg-green-900/70 hover:shadow-green-700/30":"bg-green-100/60 hover:bg-green-100 hover:shadow-green-300/50"}`,children:[u.jsxs("div",{children:[u.jsx("p",{className:`font-medium text-sm ${o.darkMode?"text-green-300":"text-green-700"}`,children:s.name}),u.jsxs("p",{className:`text-xs ${o.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",s.ref]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:`text-sm font-medium ${o.darkMode?"text-green-400":"text-green-600"}`,children:["Qty: ",s.quantity]}),u.jsxs("p",{className:`text-xs ${o.darkMode?"text-gray-400":"text-gray-500"}`,children:["Value: ",o.currency.symbol,s.totalValue.toFixed(2)]})]})]},i))}):u.jsx("p",{className:`${o.darkMode?"text-gray-400":"text-gray-500"} py-4`,children:"No items sold in this period."})]}),fF=({activeInfoTab:e,setActiveInfoTab:t,lowStockItems:n,soldItems:r,loadingSoldItems:o,totalSalesValue:s,salesFilter:i,setSalesFilter:a,customDate:l,setCustomDate:c,customMonth:d,setCustomMonth:f,customYear:h,setCustomYear:m})=>{const{settings:w}=$t();return u.jsxs("div",{className:`rounded-xl p-6 ${w.darkMode?"neumorphism-dark":"neumorphism"}`,children:[u.jsx(cF,{activeInfoTab:e,setActiveInfoTab:t,lowStockItemsCount:n.length,salesFilter:i,setSalesFilter:a,customDate:l,setCustomDate:c,customMonth:d,setCustomMonth:f,customYear:h,setCustomYear:m}),e==="lowStock"&&u.jsx(uF,{lowStockItems:n,settings:w}),e==="soldItems"&&u.jsx(dF,{soldItems:r,loadingSoldItems:o,totalSalesValue:s,salesFilterLabel:i.label,settings:w})]})},hF=(e,t={})=>{let n,r;const o=new Date;switch(e){case"today":n=new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0,0),r=new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59,999);break;case"week":const s=o.getDay(),i=o.getDate()-s+(s===0?-6:1),a=new Date(new Date(o).setDate(i));n=new Date(a.setHours(0,0,0,0));const l=new Date(a);l.setDate(a.getDate()+6),r=new Date(l.setHours(23,59,59,999));break;case"month":n=new Date(o.getFullYear(),o.getMonth(),1),r=new Date(o.getFullYear(),o.getMonth()+1,0,23,59,59,999);break;case"customDate":n=new Date(t.customDate),n.setHours(0,0,0,0),r=new Date(t.customDate),r.setHours(23,59,59,999);break;case"customMonth":const[c,d]=t.customMonth.split("-").map(Number);n=new Date(c,d-1,1),r=new Date(c,d,0,23,59,59,999);break;case"customYear":const f=parseInt(t.customYear);n=new Date(f,0,1),r=new Date(f,11,31,23,59,59,999);break;case"all":default:n=null,r=null;break}return{startDate:n,endDate:r}},pF=()=>{const{products:e}=kc(),{settings:t}=$t(),[n,r]=p.useState([]),[o,s]=p.useState(!1),[i,a]=p.useState({type:"today",label:"Today"}),[l,c]=p.useState(new Date().toISOString().split("T")[0]),[d,f]=p.useState(`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`),[h,m]=p.useState(new Date().getFullYear().toString()),[w,v]=p.useState("lowStock"),[_,y]=p.useState(0),[x,g]=p.useState(0),b=e.filter(C=>{var E;return(((E=C.product_variants)==null?void 0:E.reduce((P,A)=>P+A.stock,0))||0)<10}),S=e.reduce((C,E)=>{var A;const P=((A=E.product_variants)==null?void 0:A.reduce((V,I)=>V+E.price*I.stock,0))||0;return C+P},0),k=p.useCallback(async()=>{s(!0);const{startDate:C,endDate:E}=hF(i.type,{customDate:l,customMonth:d,customYear:h});let P=J.from("sale_items").select(`
        quantity,
        unit_price,
        size, 
        products (name, reference_number),
        sales!inner (created_at)
      `);C&&E&&(P=P.filter("sales.created_at","gte",C.toISOString()).filter("sales.created_at","lte",E.toISOString()));const{data:A,error:V}=await P;if(V)console.error("Error fetching sold items:",V),r([]),y(0),g(0);else{const I=A.reduce((O,B)=>{if(!B.products)return O;const H=`${B.products.reference_number||B.products.name}-${B.size||"N/A"}`;return O[H]||(O[H]={name:B.products.name,ref:B.products.reference_number,size:B.size||"N/A",quantity:0,totalValue:0}),O[H].quantity+=B.quantity,O[H].totalValue+=B.quantity*B.unit_price,O},{}),W=Object.values(I);r(W),y(W.reduce((O,B)=>O+B.totalValue,0)),g(W.reduce((O,B)=>O+B.quantity,0))}s(!1)},[i,l,d,h]);return p.useEffect(()=>{k()},[k]),u.jsxs("div",{className:"space-y-8",children:[u.jsx(fR,{}),u.jsx(NO,{productsCount:e.length,inventoryValue:S,itemsSoldCount:x,salesFilterLabel:i.label,currencySymbol:t.currency.symbol}),u.jsx(fF,{activeInfoTab:w,setActiveInfoTab:v,lowStockItems:b,soldItems:n,loadingSoldItems:o,totalSalesValue:_,salesFilter:i,setSalesFilter:a,customDate:l,setCustomDate:c,customMonth:d,setCustomMonth:f,customYear:h,setCustomYear:m,settings:t})]})};var Vc="Dialog",[cS,uS]=Tr(Vc),[mF,cn]=cS(Vc),dS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=p.useRef(null),l=p.useRef(null),[c,d]=pc({prop:r,defaultProp:o??!1,onChange:s,caller:Vc});return u.jsx(mF,{scope:t,triggerRef:a,contentRef:l,contentId:Ko(),titleId:Ko(),descriptionId:Ko(),open:c,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};dS.displayName=Vc;var fS="DialogTrigger",hS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=cn(fS,n),s=Le(t,o.triggerRef);return u.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Hp(o.open),...r,ref:s,onClick:ee(e.onClick,o.onOpenToggle)})});hS.displayName=fS;var Bp="DialogPortal",[gF,pS]=cS(Bp,{forceMount:void 0}),mS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=cn(Bp,t);return u.jsx(gF,{scope:t,forceMount:n,children:p.Children.map(r,i=>u.jsx(Bn,{present:n||s.open,children:u.jsx(hc,{asChild:!0,container:o,children:i})}))})};mS.displayName=Bp;var Wl="DialogOverlay",gS=p.forwardRef((e,t)=>{const n=pS(Wl,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=cn(Wl,e.__scopeDialog);return s.modal?u.jsx(Bn,{present:r||s.open,children:u.jsx(yF,{...o,ref:t})}):null});gS.displayName=Wl;var vF=ss("DialogOverlay.RemoveScroll"),yF=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=cn(Wl,n);return u.jsx(d_,{as:vF,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(be.div,{"data-state":Hp(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),oo="DialogContent",vS=p.forwardRef((e,t)=>{const n=pS(oo,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=cn(oo,e.__scopeDialog);return u.jsx(Bn,{present:r||s.open,children:s.modal?u.jsx(xF,{...o,ref:t}):u.jsx(wF,{...o,ref:t})})});vS.displayName=oo;var xF=p.forwardRef((e,t)=>{const n=cn(oo,e.__scopeDialog),r=p.useRef(null),o=Le(t,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return n_(s)},[]),u.jsx(yS,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,s=>s.preventDefault())})}),wF=p.forwardRef((e,t)=>{const n=cn(oo,e.__scopeDialog),r=p.useRef(!1),o=p.useRef(!1);return u.jsx(yS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),yS=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=cn(oo,n),l=p.useRef(null),c=Le(t,l);return E1(),u.jsxs(u.Fragment,{children:[u.jsx(Ep,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:u.jsx(fc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Hp(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(_F,{titleId:a.titleId}),u.jsx(kF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Wp="DialogTitle",xS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=cn(Wp,n);return u.jsx(be.h2,{id:o.titleId,...r,ref:t})});xS.displayName=Wp;var wS="DialogDescription",bS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=cn(wS,n);return u.jsx(be.p,{id:o.descriptionId,...r,ref:t})});bS.displayName=wS;var _S="DialogClose",SS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=cn(_S,n);return u.jsx(be.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>o.onOpenChange(!1))})});SS.displayName=_S;function Hp(e){return e?"open":"closed"}var kS="DialogTitleWarning",[bF,CS]=Tj(kS,{contentName:oo,titleName:Wp,docsSlug:"dialog"}),_F=({titleId:e})=>{const t=CS(kS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},SF="DialogDescriptionWarning",kF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CS(SF).contentName}}.`;return p.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ES=dS,CF=hS,PS=mS,qp=gS,Gp=vS,Kp=xS,Yp=bS,zc=SS,jS="AlertDialog",[EF,z3]=Tr(jS,[uS]),Wn=uS(),TS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wn(t);return u.jsx(ES,{...r,...n,modal:!0})};TS.displayName=jS;var PF="AlertDialogTrigger",NS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Wn(n);return u.jsx(CF,{...o,...r,ref:t})});NS.displayName=PF;var jF="AlertDialogPortal",RS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wn(t);return u.jsx(PS,{...r,...n})};RS.displayName=jF;var TF="AlertDialogOverlay",AS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Wn(n);return u.jsx(qp,{...o,...r,ref:t})});AS.displayName=TF;var Qo="AlertDialogContent",[NF,RF]=EF(Qo),AF=Mj("AlertDialogContent"),MS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,s=Wn(n),i=p.useRef(null),a=Le(t,i),l=p.useRef(null);return u.jsx(bF,{contentName:Qo,titleName:DS,docsSlug:"alert-dialog",children:u.jsx(NF,{scope:n,cancelRef:l,children:u.jsxs(Gp,{role:"alertdialog",...s,...o,ref:a,onOpenAutoFocus:ee(o.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(AF,{children:r}),u.jsx(DF,{contentRef:i})]})})})});MS.displayName=Qo;var DS="AlertDialogTitle",OS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Wn(n);return u.jsx(Kp,{...o,...r,ref:t})});OS.displayName=DS;var $S="AlertDialogDescription",IS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Wn(n);return u.jsx(Yp,{...o,...r,ref:t})});IS.displayName=$S;var MF="AlertDialogAction",LS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=Wn(n);return u.jsx(zc,{...o,...r,ref:t})});LS.displayName=MF;var FS="AlertDialogCancel",VS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=RF(FS,n),s=Wn(n),i=Le(t,o);return u.jsx(zc,{...s,...r,ref:i})});VS.displayName=FS;var DF=({contentRef:e})=>{const t=`\`${Qo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qo}\` by passing a \`${$S}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},OF=TS,$F=NS,IF=RS,zS=AS,US=MS,BS=LS,WS=VS,HS=OS,qS=IS;const Xp=OF,Qp=$F,LF=IF,GS=p.forwardRef(({className:e,...t},n)=>u.jsx(zS,{className:me("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));GS.displayName=zS.displayName;const Uc=p.forwardRef(({className:e,...t},n)=>u.jsxs(LF,{children:[u.jsx(GS,{}),u.jsx(US,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg","dark:bg-gray-800 dark:border-gray-700",e),...t})]}));Uc.displayName=US.displayName;const Bc=({className:e,...t})=>u.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});Bc.displayName="AlertDialogHeader";const Wc=({className:e,...t})=>u.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wc.displayName="AlertDialogFooter";const Hc=p.forwardRef(({className:e,...t},n)=>u.jsx(HS,{ref:n,className:me("text-lg font-semibold","dark:text-gray-100",e),...t}));Hc.displayName=HS.displayName;const qc=p.forwardRef(({className:e,...t},n)=>u.jsx(qS,{ref:n,className:me("text-sm text-muted-foreground","dark:text-gray-400",e),...t}));qc.displayName=qS.displayName;const Gc=p.forwardRef(({className:e,...t},n)=>u.jsx(BS,{ref:n,className:me(Cp(),e),...t}));Gc.displayName=BS.displayName;const Kc=p.forwardRef(({className:e,...t},n)=>u.jsx(WS,{ref:n,className:me(Cp({variant:"outline"}),"mt-2 sm:mt-0","dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-100",e),...t}));Kc.displayName=WS.displayName;const FF=({isOpen:e,onClose:t,onSubmit:n,initialData:r})=>{const[o,s]=p.useState({name:"",price:"",category:"",reference_number:""}),[i,a]=p.useState([{size:"",stock:""}]),[l,c]=p.useState([]),[d,f]=p.useState(""),[h,m]=p.useState(!1),[w,v]=p.useState(null),{toast:_}=Ot(),y=async()=>{const{data:P,error:A}=await J.from("product_categories").select("name").order("name");A?(console.error("Error fetching categories:",A),_({title:"Error",description:"Could not fetch product categories.",variant:"destructive"})):c(P.map(V=>V.name))};p.useEffect(()=>{y()},[_]),p.useEffect(()=>{r?(s({name:r.name||"",price:r.price||"",category:r.category||"",reference_number:r.reference_number||""}),a(r.product_variants&&r.product_variants.length>0?r.product_variants.map(P=>({size:P.size,stock:P.stock})):[{size:"",stock:""}])):(s({name:"",price:"",category:"",reference_number:""}),a([{size:"",stock:""}]))},[r]);const x=P=>{if(P.preventDefault(),!o.category){_({title:"Category Required",description:"Please select or add a product category.",variant:"destructive"});return}if(i.some(A=>!A.size.trim()||A.stock===""||parseInt(A.stock)<0)){_({title:"Invalid Variants",description:"Please ensure all sizes have a name and a valid stock quantity (0 or more).",variant:"destructive"});return}n({...o,price:parseFloat(o.price)},i.map(A=>({...A,stock:parseInt(A.stock)})))},g=P=>{const{name:A,value:V}=P.target;s(I=>({...I,[A]:V}))},b=(P,A)=>{const{name:V,value:I}=A.target,W=[...i];W[P][V]=I,a(W)},S=()=>{a([...i,{size:"",stock:""}])},k=P=>{if(i.length>1){const A=i.filter((V,I)=>I!==P);a(A)}else _({title:"Cannot Remove",description:"At least one size variant is required.",variant:"destructive"})},C=async()=>{if(!d.trim()){_({title:"Error",description:"Category name cannot be empty.",variant:"destructive"});return}const{data:P,error:A}=await J.from("product_categories").insert({name:d.trim()}).select().single();A?A.code==="23505"?_({title:"Category Exists",description:`Category "${d.trim()}" already exists.`,variant:"destructive"}):_({title:"Error",description:"Could not add new category.",variant:"destructive"}):P&&(await y(),s(V=>({...V,category:P.name})),f(""),m(!1),_({title:"Success",description:`Category "${P.name}" added.`}))},E=async P=>{if(P){try{const{data:A,error:V}=await J.from("products").select("id").eq("category",P).limit(1);if(V)throw V;if(A&&A.length>0){_({title:"Deletion Prevented",description:`Category "${P}" is used by existing products and cannot be deleted.`,variant:"destructive",duration:7e3}),v(null);return}const{error:I}=await J.from("product_categories").delete().eq("name",P);if(I)throw I;_({title:"Success",description:`Category "${P}" deleted.`}),await y(),o.category===P&&s(W=>({...W,category:""}))}catch(A){_({title:"Error",description:`Failed to delete category: ${A.message}`,variant:"destructive"})}v(null)}};return u.jsx(k1,{children:e&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-lg relative max-h-[90vh] overflow-y-auto custom-scrollbar",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(Qh,{className:"w-4 h-4 text-gray-700 dark:text-gray-300"})}),u.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:r?"Edit Product":"Add New Product"}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Reference Number"}),u.jsx(ie,{type:"text",name:"reference_number",value:o.reference_number,onChange:g,className:"w-full",required:!0,placeholder:"e.g., REF-001"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Product Name"}),u.jsx(ie,{type:"text",name:"name",value:o.name,onChange:g,className:"w-full",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Price"}),u.jsx(ie,{type:"number",name:"price",value:o.price,onChange:g,className:"w-full",step:"0.01",min:"0",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Category"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{name:"category",value:o.category,onChange:g,className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white flex-grow",required:!0,children:[u.jsx("option",{value:"",children:"Select category"}),l.map(P=>u.jsx("option",{value:P,children:P},P))]}),u.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:()=>m(P=>!P),"aria-label":"Add new category",children:u.jsx(is,{className:"h-5 w-5"})}),o.category&&u.jsxs(Xp,{children:[u.jsx(Qp,{asChild:!0,children:u.jsx(re,{type:"button",variant:"destructive",size:"icon",onClick:()=>v(o.category),"aria-label":"Delete selected category",children:u.jsx(no,{className:"h-5 w-5"})})}),w&&u.jsxs(Uc,{children:[u.jsxs(Bc,{children:[u.jsxs(Hc,{children:['Delete Category "',w,'"?']}),u.jsx(qc,{children:"This action cannot be undone. Are you sure you want to delete this category? It will only be deleted if no products are currently using it."})]}),u.jsxs(Wc,{children:[u.jsx(Kc,{onClick:()=>v(null),children:"Cancel"}),u.jsx(Gc,{onClick:()=>E(w),children:"Delete"})]})]})]})]}),h&&u.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[u.jsx(ie,{type:"text",value:d,onChange:P=>f(P.target.value),placeholder:"New category name",className:"flex-grow dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),u.jsx(re,{type:"button",onClick:C,children:"Add"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sizes & Stock"}),i.map((P,A)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{type:"text",name:"size",placeholder:"Size (e.g., S, M, L, 32)",value:P.size,onChange:V=>b(A,V),className:"w-1/2",required:!0}),u.jsx(ie,{type:"number",name:"stock",placeholder:"Stock",value:P.stock,onChange:V=>b(A,V),className:"w-1/2",min:"0",required:!0}),i.length>1&&u.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>k(A),"aria-label":"Remove size variant",children:u.jsx(no,{className:"h-4 w-4 text-red-500"})})]},A)),u.jsxs(re,{type:"button",variant:"outline",onClick:S,className:"w-full",children:[u.jsx(is,{className:"h-4 w-4 mr-2"})," Add Size"]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx(re,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),u.jsxs(re,{type:"submit",children:[r?"Update":"Add"," Product"]})]})]})]})})})},VF=()=>{const{products:e,addProduct:t,updateProduct:n,deleteProduct:r}=kc(),{toast:o}=Ot(),{settings:s}=$t(),[i,a]=p.useState(!1),[l,c]=p.useState(null),d=async(y,x)=>{try{l?(await n({...y,id:l.id},x),o({title:"Product Updated",description:"Product has been successfully updated."})):(await t(y,x),o({title:"Product Added",description:"New product has been successfully added."})),a(!1),c(null)}catch(g){o({title:"Error Processing Product",description:g.message||"There was an error processing your request.",variant:"destructive"})}},f=y=>{c(y),a(!0)},h=async y=>{try{await r(y)&&o({title:"Product Deleted",description:"Product has been successfully removed."})}catch(x){o({title:"Error Deleting Product",description:x.message||"There was an error deleting the product.",variant:"destructive"})}},m=s.darkMode?"neumorphism-dark":"neumorphism",w=s.darkMode?"hover:bg-gray-700/50 hover:shadow-gray-600/30":"hover:bg-gray-100/70 hover:shadow-gray-300/50",v=s.darkMode?"hover:bg-gray-600":"hover:bg-gray-100",_=s.darkMode?"hover:bg-red-700/30":"hover:bg-red-100";return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Products"}),u.jsx("p",{className:`${s.darkMode?"text-gray-400":"text-gray-500"} mt-2 text-lg`,children:"Manage your product inventory, sizes, and details."})]}),u.jsxs(re,{onClick:()=>{c(null),a(!0)},className:"flex items-center space-x-2 mt-4 sm:mt-0",size:"lg",children:[u.jsx(uf,{className:"w-5 h-5"}),u.jsx("span",{children:"Add New Product"})]})]}),e.length===0&&u.jsxs("div",{className:`text-center py-12 ${m} rounded-xl`,children:[u.jsx(Gh,{className:"w-16 h-16 mx-auto mb-4 text-primary/50"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Products Found"}),u.jsx("p",{className:`${s.darkMode?"text-gray-400":"text-gray-500"} mb-4`,children:"It looks like you haven't added any products yet."}),u.jsxs(re,{onClick:()=>{c(null),a(!0)},children:[u.jsx(uf,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.jsx(k1,{children:e.map(y=>{var g;const x=((g=y.product_variants)==null?void 0:g.reduce((b,S)=>b+S.stock,0))||0;return u.jsx(Kt.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,ease:"easeInOut"},className:`${m} rounded-xl p-6 space-y-4 flex flex-col justify-between transition-all duration-300 ${w}`,children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"max-w-[calc(100%-4rem)]",children:[u.jsx("h3",{className:`text-xl font-semibold truncate ${s.darkMode?"text-gray-100":"text-gray-800"}`,children:y.name}),u.jsxs("p",{className:`text-xs ${s.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",y.reference_number]})]}),u.jsxs("div",{className:"flex space-x-1.5",children:[u.jsx(re,{variant:"ghost",size:"icon",onClick:()=>f(y),className:`w-8 h-8 rounded-full ${v} ${s.darkMode?"text-gray-300 hover:text-primary":"text-gray-500 hover:text-primary"}`,"aria-label":"Edit product",children:u.jsx(DT,{className:"w-4 h-4"})}),u.jsxs(Xp,{children:[u.jsx(Qp,{asChild:!0,children:u.jsx(re,{variant:"ghost",size:"icon",className:`w-8 h-8 rounded-full ${_} ${s.darkMode?"text-red-400 hover:text-red-300":"text-red-500 hover:text-red-600"}`,"aria-label":"Delete product",children:u.jsx(no,{className:"w-4 h-4"})})}),u.jsxs(Uc,{className:`${s.darkMode?"dark":""}`,children:[u.jsxs(Bc,{children:[u.jsx(Hc,{children:"Are you sure?"}),u.jsxs(qc,{children:['This action cannot be undone. Deleting "',y.name,'" will permanently remove it and all its size variants. If this product is part of existing sales, deletion might be prevented.']})]}),u.jsxs(Wc,{children:[u.jsx(Kc,{children:"Cancel"}),u.jsx(Gc,{onClick:()=>h(y.id),className:"bg-red-600 hover:bg-red-700",children:"Yes, delete product"})]})]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:`text-2xl font-bold ${s.darkMode?"text-primary-foreground":"text-primary"}`,children:[s.currency.symbol,y.price.toFixed(2)]}),u.jsxs("p",{className:`text-sm ${s.darkMode?"text-gray-300":"text-gray-600"}`,children:["Category: ",y.category]}),u.jsxs("div",{className:"text-sm",children:[u.jsxs("p",{className:`${s.darkMode?"text-gray-300":"text-gray-600"}`,children:["Total Stock: ",u.jsx("span",{className:"font-semibold",children:x})]}),x<10&&x>0&&u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.darkMode?"bg-red-800 text-red-200":"bg-red-100 text-red-600"}`,children:"Low Stock"}),x===0&&u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.darkMode?"bg-yellow-700 text-yellow-100":"bg-yellow-100 text-yellow-700"}`,children:"Out of Stock"})]}),y.product_variants&&y.product_variants.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("p",{className:`text-xs font-medium ${s.darkMode?"text-gray-400":"text-gray-500"}`,children:"Sizes:"}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:y.product_variants.map(b=>u.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${s.darkMode?"bg-gray-600 text-gray-200":"bg-gray-200 text-gray-700"}`,children:[b.size,": ",b.stock]},b.id))})]})]})]})},y.id)})})}),u.jsx(FF,{isOpen:i,onClose:()=>{a(!1),c(null)},onSubmit:d,initialData:l})]})};var KS={exports:{}};(function(e,t){(function(n,r){e.exports=r(p,ao)})(typeof self<"u"?self:Tt,function(n,r){return function(){var o={328:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.PrintContextConsumer=c.PrintContext=void 0;var f=d(496),h=Object.prototype.hasOwnProperty.call(f,"createContext");c.PrintContext=h?f.createContext({}):null,c.PrintContextConsumer=c.PrintContext?c.PrintContext.Consumer:function(){return null}},428:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ReactToPrint=void 0;var f=d(316),h=d(496),m=d(190),w=d(328),v=d(940),_=function(y){function x(){var g=y.apply(this,f.__spreadArray([],f.__read(arguments),!1))||this;return g.startPrint=function(b){var S=g.props,k=S.onAfterPrint,C=S.onPrintError,E=S.print,P=S.documentTitle;setTimeout(function(){var A,V;if(b.contentWindow)if(b.contentWindow.focus(),E)E(b).then(function(){return k==null?void 0:k()}).then(function(){return g.handleRemoveIframe()}).catch(function(O){C?C("print",O):g.logMessages(["An error was thrown by the specified `print` function"])});else{if(b.contentWindow.print){var I=(V=(A=b.contentDocument)===null||A===void 0?void 0:A.title)!==null&&V!==void 0?V:"",W=b.ownerDocument.title;P&&(b.ownerDocument.title=P,b.contentDocument&&(b.contentDocument.title=P)),b.contentWindow.print(),P&&(b.ownerDocument.title=W,b.contentDocument&&(b.contentDocument.title=I))}else g.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);k==null||k(),g.handleRemoveIframe()}else g.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},g.triggerPrint=function(b){var S=g.props,k=S.onBeforePrint,C=S.onPrintError;if(k){var E=k();E&&typeof E.then=="function"?E.then(function(){g.startPrint(b)}).catch(function(P){C&&C("onBeforePrint",P)}):g.startPrint(b)}else g.startPrint(b)},g.handlePrint=function(b){var S=g.props,k=S.bodyClass,C=S.content,E=S.copyStyles,P=S.fonts,A=S.pageStyle,V=S.nonce,I=typeof b=="function"?b():null;if(I&&typeof C=="function"&&g.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),I||typeof C!="function"||(I=C()),I!==void 0)if(I!==null){var W=document.createElement("iframe");W.width="".concat(document.documentElement.clientWidth,"px"),W.height="".concat(document.documentElement.clientHeight,"px"),W.style.position="absolute",W.style.top="-".concat(document.documentElement.clientHeight+100,"px"),W.style.left="-".concat(document.documentElement.clientWidth+100,"px"),W.id="printWindow",W.srcdoc="<!DOCTYPE html>";var O=(0,m.findDOMNode)(I);if(O){var B=O.cloneNode(!0),H=B instanceof Text,Z=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),N=H?[]:B.querySelectorAll("img"),j=H?[]:B.querySelectorAll("video"),z=P?P.length:0;g.numResourcesToLoad=Z.length+N.length+j.length+z,g.resourcesLoaded=[],g.resourcesErrored=[];var L=function(q,F){g.resourcesLoaded.includes(q)?g.logMessages(["Tried to mark a resource that has already been handled",q],"debug"):(F?(g.logMessages(f.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],f.__read(F),!1)),g.resourcesErrored.push(q)):g.resourcesLoaded.push(q),g.resourcesLoaded.length+g.resourcesErrored.length===g.numResourcesToLoad&&g.triggerPrint(W))};W.onload=function(){var q,F,G,oe;W.onload=null;var Y=W.contentDocument||((F=W.contentWindow)===null||F===void 0?void 0:F.document);if(Y){Y.body.appendChild(B),P&&(!((G=W.contentDocument)===null||G===void 0)&&G.fonts&&(!((oe=W.contentWindow)===null||oe===void 0)&&oe.FontFace)?P.forEach(function(_t){var xe=new FontFace(_t.family,_t.source,{weight:_t.weight,style:_t.style});W.contentDocument.fonts.add(xe),xe.loaded.then(function(){L(xe)}).catch(function(De){L(xe,["Failed loading the font:",xe,"Load error:",De])})}):(P.forEach(function(_t){return L(_t)}),g.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var le=typeof A=="function"?A():A;if(typeof le!="string")g.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof le,'". Styles from `pageStyle` will not be applied.')]);else{var ce=Y.createElement("style");V&&(ce.setAttribute("nonce",V),Y.head.setAttribute("nonce",V)),ce.appendChild(Y.createTextNode(le)),Y.head.appendChild(ce)}if(k&&(q=Y.body.classList).add.apply(q,f.__spreadArray([],f.__read(k.split(" ")),!1)),!H){for(var T=H?[]:O.querySelectorAll("canvas"),R=Y.querySelectorAll("canvas"),M=0;M<T.length;++M){var D=T[M],$=R[M].getContext("2d");$&&$.drawImage(D,0,0)}var te=function(_t){var xe=N[_t],De=xe.getAttribute("src");if(De){var Lt=new Image;Lt.onload=function(){return L(xe)},Lt.onerror=function(Mr,bs,oa,Xt,ft){return L(xe,["Error loading <img>",xe,"Error",ft])},Lt.src=De}else L(xe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',xe])};for(M=0;M<N.length;M++)te(M);var X=function(_t){var xe=j[_t];xe.preload="auto";var De=xe.getAttribute("poster");if(De){var Lt=new Image;Lt.onload=function(){return L(xe)},Lt.onerror=function(Mr,bs,oa,Xt,ft){return L(xe,["Error loading video poster",De,"for video",xe,"Error:",ft])},Lt.src=De}else xe.readyState>=2?L(xe):(xe.onloadeddata=function(){return L(xe)},xe.onerror=function(Mr,bs,oa,Xt,ft){return L(xe,["Error loading video",xe,"Error",ft])},xe.onstalled=function(){return L(xe,["Loading video stalled, skipping",xe])})};for(M=0;M<j.length;M++)X(M);var he="input",Fe=O.querySelectorAll(he),Ve=Y.querySelectorAll(he);for(M=0;M<Fe.length;M++)Ve[M].value=Fe[M].value;var Q="input[type=checkbox],input[type=radio]",ye=O.querySelectorAll(Q),bt=Y.querySelectorAll(Q);for(M=0;M<ye.length;M++)bt[M].checked=ye[M].checked;var It="select",Yt=O.querySelectorAll(It),Hn=Y.querySelectorAll(It);for(M=0;M<Yt.length;M++)Hn[M].value=Yt[M].value}if(E)for(var un=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),Ar=function(_t,xe){var De=un[_t];if(De.tagName.toLowerCase()==="style"){var Lt=Y.createElement(De.tagName),Mr=De.sheet;if(Mr){var bs="";try{for(var oa=Mr.cssRules.length,Xt=0;Xt<oa;++Xt)typeof Mr.cssRules[Xt].cssText=="string"&&(bs+="".concat(Mr.cssRules[Xt].cssText,`\r
`))}catch{g.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",De],"warning")}Lt.setAttribute("id","react-to-print-".concat(_t)),V&&Lt.setAttribute("nonce",V),Lt.appendChild(Y.createTextNode(bs)),Y.head.appendChild(Lt)}}else if(De.getAttribute("href"))if(De.hasAttribute("disabled"))g.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",De],"warning"),L(De);else{for(var ft=Y.createElement(De.tagName),kk=(Xt=0,De.attributes.length);Xt<kk;++Xt){var Zc=De.attributes[Xt];Zc&&ft.setAttribute(Zc.nodeName,Zc.nodeValue||"")}ft.onload=function(){return L(ft)},ft.onerror=function(Ck,k3,C3,E3,Ek){return L(ft,["Failed to load",ft,"Error:",Ek])},V&&ft.setAttribute("nonce",V),Y.head.appendChild(ft)}else g.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",De],"warning"),L(De)},Sk=(M=0,un.length);M<Sk;++M)Ar(M)}g.numResourcesToLoad!==0&&E||g.triggerPrint(W)},g.handleRemoveIframe(!0),document.body.appendChild(W)}else g.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else g.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else g.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},g.handleRemoveIframe=function(b){var S=g.props.removeAfterPrint;if(b||S){var k=document.getElementById("printWindow");k&&document.body.removeChild(k)}},g.logMessages=function(b,S){S===void 0&&(S="error"),g.props.suppressErrors||(S==="error"?console.error(b):S==="warning"?console.warn(b):S==="debug"&&console.debug(b))},g}return f.__extends(x,y),x.prototype.handleClick=function(g,b){var S=this,k=this.props,C=k.onBeforeGetContent,E=k.onPrintError;if(C){var P=C();P&&typeof P.then=="function"?P.then(function(){return S.handlePrint(b)}).catch(function(A){E&&E("onBeforeGetContent",A)}):this.handlePrint(b)}else this.handlePrint(b)},x.prototype.render=function(){var g=this.props,b=g.children,S=g.trigger;if(S)return h.cloneElement(S(),{onClick:this.handleClick.bind(this)});if(!w.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var k={handlePrint:this.handleClick.bind(this)};return h.createElement(w.PrintContext.Provider,{value:k},b)},x.defaultProps=v.defaultProps,x}(h.Component);c.ReactToPrint=_},940:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultProps=void 0,c.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=void 0;var f=d(316),h=d(496),m=d(428),w=d(940),v=d(860),_=Object.prototype.hasOwnProperty.call(h,"useMemo")&&Object.prototype.hasOwnProperty.call(h,"useCallback");c.useReactToPrint=function(y){if(!_)return y.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var x=h.useMemo(function(){return new m.ReactToPrint(f.__assign(f.__assign({},w.defaultProps),y))},[y]);return h.useCallback(function(g,b){return(0,v.wrapCallbackWithArgs)(x,x.handleClick,b)(g)},[x])}},860:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.wrapCallbackWithArgs=void 0;var f=d(316);c.wrapCallbackWithArgs=function(h,m){for(var w=[],v=2;v<arguments.length;v++)w[v-2]=arguments[v];return function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];return m.apply(h,f.__spreadArray(f.__spreadArray([],f.__read(_),!1),f.__read(w),!1))}}},496:function(l){l.exports=n},190:function(l){l.exports=r},316:function(l,c,d){d.r(c),d.d(c,{__addDisposableResource:function(){return Y},__assign:function(){return m},__asyncDelegator:function(){return Z},__asyncGenerator:function(){return H},__asyncValues:function(){return N},__await:function(){return B},__awaiter:function(){return k},__classPrivateFieldGet:function(){return F},__classPrivateFieldIn:function(){return oe},__classPrivateFieldSet:function(){return G},__createBinding:function(){return E},__decorate:function(){return v},__disposeResources:function(){return ce},__esDecorate:function(){return y},__exportStar:function(){return P},__extends:function(){return h},__generator:function(){return C},__importDefault:function(){return q},__importStar:function(){return L},__makeTemplateObject:function(){return j},__metadata:function(){return S},__param:function(){return _},__propKey:function(){return g},__read:function(){return V},__rest:function(){return w},__runInitializers:function(){return x},__setFunctionName:function(){return b},__spread:function(){return I},__spreadArray:function(){return O},__spreadArrays:function(){return W},__values:function(){return A}});var f=function(T,R){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(M[$]=D[$])},f(T,R)};function h(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function M(){this.constructor=T}f(T,R),T.prototype=R===null?Object.create(R):(M.prototype=R.prototype,new M)}var m=function(){return m=Object.assign||function(T){for(var R,M=1,D=arguments.length;M<D;M++)for(var $ in R=arguments[M])Object.prototype.hasOwnProperty.call(R,$)&&(T[$]=R[$]);return T},m.apply(this,arguments)};function w(T,R){var M={};for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&R.indexOf(D)<0&&(M[D]=T[D]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function"){var $=0;for(D=Object.getOwnPropertySymbols(T);$<D.length;$++)R.indexOf(D[$])<0&&Object.prototype.propertyIsEnumerable.call(T,D[$])&&(M[D[$]]=T[D[$]])}return M}function v(T,R,M,D){var $,te=arguments.length,X=te<3?R:D===null?D=Object.getOwnPropertyDescriptor(R,M):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(T,R,M,D);else for(var he=T.length-1;he>=0;he--)($=T[he])&&(X=(te<3?$(X):te>3?$(R,M,X):$(R,M))||X);return te>3&&X&&Object.defineProperty(R,M,X),X}function _(T,R){return function(M,D){R(M,D,T)}}function y(T,R,M,D,$,te){function X(Ar){if(Ar!==void 0&&typeof Ar!="function")throw new TypeError("Function expected");return Ar}for(var he,Fe=D.kind,Ve=Fe==="getter"?"get":Fe==="setter"?"set":"value",Q=!R&&T?D.static?T:T.prototype:null,ye=R||(Q?Object.getOwnPropertyDescriptor(Q,D.name):{}),bt=!1,It=M.length-1;It>=0;It--){var Yt={};for(var Hn in D)Yt[Hn]=Hn==="access"?{}:D[Hn];for(var Hn in D.access)Yt.access[Hn]=D.access[Hn];Yt.addInitializer=function(Ar){if(bt)throw new TypeError("Cannot add initializers after decoration has completed");te.push(X(Ar||null))};var un=(0,M[It])(Fe==="accessor"?{get:ye.get,set:ye.set}:ye[Ve],Yt);if(Fe==="accessor"){if(un===void 0)continue;if(un===null||typeof un!="object")throw new TypeError("Object expected");(he=X(un.get))&&(ye.get=he),(he=X(un.set))&&(ye.set=he),(he=X(un.init))&&$.unshift(he)}else(he=X(un))&&(Fe==="field"?$.unshift(he):ye[Ve]=he)}Q&&Object.defineProperty(Q,D.name,ye),bt=!0}function x(T,R,M){for(var D=arguments.length>2,$=0;$<R.length;$++)M=D?R[$].call(T,M):R[$].call(T);return D?M:void 0}function g(T){return typeof T=="symbol"?T:"".concat(T)}function b(T,R,M){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(T,"name",{configurable:!0,value:M?"".concat(M," ",R):R})}function S(T,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,R)}function k(T,R,M,D){return new(M||(M=Promise))(function($,te){function X(Ve){try{Fe(D.next(Ve))}catch(Q){te(Q)}}function he(Ve){try{Fe(D.throw(Ve))}catch(Q){te(Q)}}function Fe(Ve){var Q;Ve.done?$(Ve.value):(Q=Ve.value,Q instanceof M?Q:new M(function(ye){ye(Q)})).then(X,he)}Fe((D=D.apply(T,R||[])).next())})}function C(T,R){var M,D,$,te,X={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return te={next:he(0),throw:he(1),return:he(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function he(Fe){return function(Ve){return function(Q){if(M)throw new TypeError("Generator is already executing.");for(;te&&(te=0,Q[0]&&(X=0)),X;)try{if(M=1,D&&($=2&Q[0]?D.return:Q[0]?D.throw||(($=D.return)&&$.call(D),0):D.next)&&!($=$.call(D,Q[1])).done)return $;switch(D=0,$&&(Q=[2&Q[0],$.value]),Q[0]){case 0:case 1:$=Q;break;case 4:return X.label++,{value:Q[1],done:!1};case 5:X.label++,D=Q[1],Q=[0];continue;case 7:Q=X.ops.pop(),X.trys.pop();continue;default:if(!(($=($=X.trys).length>0&&$[$.length-1])||Q[0]!==6&&Q[0]!==2)){X=0;continue}if(Q[0]===3&&(!$||Q[1]>$[0]&&Q[1]<$[3])){X.label=Q[1];break}if(Q[0]===6&&X.label<$[1]){X.label=$[1],$=Q;break}if($&&X.label<$[2]){X.label=$[2],X.ops.push(Q);break}$[2]&&X.ops.pop(),X.trys.pop();continue}Q=R.call(T,X)}catch(ye){Q=[6,ye],D=0}finally{M=$=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([Fe,Ve])}}}var E=Object.create?function(T,R,M,D){D===void 0&&(D=M);var $=Object.getOwnPropertyDescriptor(R,M);$&&!("get"in $?!R.__esModule:$.writable||$.configurable)||($={enumerable:!0,get:function(){return R[M]}}),Object.defineProperty(T,D,$)}:function(T,R,M,D){D===void 0&&(D=M),T[D]=R[M]};function P(T,R){for(var M in T)M==="default"||Object.prototype.hasOwnProperty.call(R,M)||E(R,T,M)}function A(T){var R=typeof Symbol=="function"&&Symbol.iterator,M=R&&T[R],D=0;if(M)return M.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&D>=T.length&&(T=void 0),{value:T&&T[D++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(T,R){var M=typeof Symbol=="function"&&T[Symbol.iterator];if(!M)return T;var D,$,te=M.call(T),X=[];try{for(;(R===void 0||R-- >0)&&!(D=te.next()).done;)X.push(D.value)}catch(he){$={error:he}}finally{try{D&&!D.done&&(M=te.return)&&M.call(te)}finally{if($)throw $.error}}return X}function I(){for(var T=[],R=0;R<arguments.length;R++)T=T.concat(V(arguments[R]));return T}function W(){for(var T=0,R=0,M=arguments.length;R<M;R++)T+=arguments[R].length;var D=Array(T),$=0;for(R=0;R<M;R++)for(var te=arguments[R],X=0,he=te.length;X<he;X++,$++)D[$]=te[X];return D}function O(T,R,M){if(M||arguments.length===2)for(var D,$=0,te=R.length;$<te;$++)!D&&$ in R||(D||(D=Array.prototype.slice.call(R,0,$)),D[$]=R[$]);return T.concat(D||Array.prototype.slice.call(R))}function B(T){return this instanceof B?(this.v=T,this):new B(T)}function H(T,R,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,$=M.apply(T,R||[]),te=[];return D={},X("next"),X("throw"),X("return"),D[Symbol.asyncIterator]=function(){return this},D;function X(ye){$[ye]&&(D[ye]=function(bt){return new Promise(function(It,Yt){te.push([ye,bt,It,Yt])>1||he(ye,bt)})})}function he(ye,bt){try{(It=$[ye](bt)).value instanceof B?Promise.resolve(It.value.v).then(Fe,Ve):Q(te[0][2],It)}catch(Yt){Q(te[0][3],Yt)}var It}function Fe(ye){he("next",ye)}function Ve(ye){he("throw",ye)}function Q(ye,bt){ye(bt),te.shift(),te.length&&he(te[0][0],te[0][1])}}function Z(T){var R,M;return R={},D("next"),D("throw",function($){throw $}),D("return"),R[Symbol.iterator]=function(){return this},R;function D($,te){R[$]=T[$]?function(X){return(M=!M)?{value:B(T[$](X)),done:!1}:te?te(X):X}:te}}function N(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,M=T[Symbol.asyncIterator];return M?M.call(T):(T=A(T),R={},D("next"),D("throw"),D("return"),R[Symbol.asyncIterator]=function(){return this},R);function D($){R[$]=T[$]&&function(te){return new Promise(function(X,he){(function(Fe,Ve,Q,ye){Promise.resolve(ye).then(function(bt){Fe({value:bt,done:Q})},Ve)})(X,he,(te=T[$](te)).done,te.value)})}}}function j(T,R){return Object.defineProperty?Object.defineProperty(T,"raw",{value:R}):T.raw=R,T}var z=Object.create?function(T,R){Object.defineProperty(T,"default",{enumerable:!0,value:R})}:function(T,R){T.default=R};function L(T){if(T&&T.__esModule)return T;var R={};if(T!=null)for(var M in T)M!=="default"&&Object.prototype.hasOwnProperty.call(T,M)&&E(R,T,M);return z(R,T),R}function q(T){return T&&T.__esModule?T:{default:T}}function F(T,R,M,D){if(M==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?T!==R||!D:!R.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?D:M==="a"?D.call(T):D?D.value:R.get(T)}function G(T,R,M,D,$){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!$)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?T!==R||!$:!R.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?$.call(T,M):$?$.value=M:R.set(T,M),M}function oe(T,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof T=="function"?R===T:T.has(R)}function Y(T,R,M){if(R!=null){if(typeof R!="object"&&typeof R!="function")throw new TypeError("Object expected.");var D;if(M){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");D=R[Symbol.asyncDispose]}if(D===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");D=R[Symbol.dispose]}if(typeof D!="function")throw new TypeError("Object not disposable.");T.stack.push({value:R,dispose:D,async:M})}else M&&T.stack.push({async:!0});return R}var le=typeof SuppressedError=="function"?SuppressedError:function(T,R,M){var D=new Error(M);return D.name="SuppressedError",D.error=T,D.suppressed=R,D};function ce(T){function R(M){T.error=T.hasError?new le(M,T.error,"An error was suppressed during disposal."):M,T.hasError=!0}return function M(){for(;T.stack.length;){var D=T.stack.pop();try{var $=D.dispose&&D.dispose.call(D.value);if(D.async)return Promise.resolve($).then(M,function(te){return R(te),M()})}catch(te){R(te)}}if(T.hasError)throw T.error}()}c.default={__extends:h,__assign:m,__rest:w,__decorate:v,__param:_,__metadata:S,__awaiter:k,__generator:C,__createBinding:E,__exportStar:P,__values:A,__read:V,__spread:I,__spreadArrays:W,__spreadArray:O,__await:B,__asyncGenerator:H,__asyncDelegator:Z,__asyncValues:N,__makeTemplateObject:j,__importStar:L,__importDefault:q,__classPrivateFieldGet:F,__classPrivateFieldSet:G,__classPrivateFieldIn:oe,__addDisposableResource:Y,__disposeResources:ce}}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var d=s[l]={exports:{}};return o[l](d,d.exports,i),d.exports}i.d=function(l,c){for(var d in c)i.o(c,d)&&!i.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:c[d]})},i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var a={};return function(){var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.useReactToPrint=l.ReactToPrint=l.PrintContextConsumer=void 0;var c=i(328);Object.defineProperty(l,"PrintContextConsumer",{enumerable:!0,get:function(){return c.PrintContextConsumer}});var d=i(428);Object.defineProperty(l,"ReactToPrint",{enumerable:!0,get:function(){return d.ReactToPrint}});var f=i(892);Object.defineProperty(l,"useReactToPrint",{enumerable:!0,get:function(){return f.useReactToPrint}});var h=i(428);l.default=h.ReactToPrint}(),a}()})})(KS);var Jp=KS.exports;const Yc=ve.forwardRef(({items:e,customerInfo:t,subtotal:n,tax:r,total:o,invoiceNumber:s,paymentMethod:i,paymentId:a},l)=>{var f;const{settings:c}=$t(),d=((f=c.address)==null?void 0:f.split(", "))||[];return u.jsxs("div",{ref:l,className:"p-4 font-mono text-xs bg-white text-black w-[80mm]",children:[u.jsxs("div",{className:"text-center mb-3",children:[u.jsx("h1",{className:"text-lg font-bold uppercase",children:c.shopName}),d.map((h,m)=>u.jsx("p",{children:h},m)),c.phone&&u.jsxs("p",{children:["Phone: ",c.phone]}),c.email&&u.jsxs("p",{children:["Email: ",c.email]}),c.gstNo&&u.jsxs("p",{children:["GSTIN: ",c.gstNo]}),Object.entries(c.customFields||{}).length>0&&u.jsx(u.Fragment,{children:u.jsx("div",{className:"mb-2",children:Object.entries(c.customFields).map(([h,m])=>u.jsxs("p",{children:[h,": ",m]},h))})})]}),u.jsx("hr",{className:"my-2 border-black border-dashed"}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("p",{children:["Invoice No: ",s]}),u.jsxs("p",{children:["Date: ",new Date().toLocaleDateString()]})]}),t&&u.jsxs("div",{className:"mb-2",children:[u.jsxs("p",{children:["Customer: ",t.name]}),u.jsxs("p",{children:["Phone: ",t.phone]}),t.email&&u.jsxs("p",{children:["Email: ",t.email]})]}),u.jsx("hr",{className:"my-2 border-black border-dashed"}),u.jsxs("table",{className:"w-full mb-2",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left w-[50%]",children:"Item"}),u.jsx("th",{className:"text-center w-[15%]",children:"Qty"}),u.jsx("th",{className:"text-right w-[15%]",children:"Rate"}),u.jsx("th",{className:"text-right w-[20%]",children:"Total"})]})}),u.jsx("tbody",{children:e.map(h=>u.jsxs("tr",{children:[u.jsxs("td",{children:[h.name,h.reference_number?` (${h.reference_number})`:""]}),u.jsx("td",{className:"text-center",children:h.quantity}),u.jsxs("td",{className:"text-right",children:[c.currency.symbol,h.price.toFixed(2)]}),u.jsxs("td",{className:"text-right",children:[c.currency.symbol,(h.price*h.quantity).toFixed(2)]})]},h.id))})]}),u.jsx("hr",{className:"my-2 border-black border-dashed"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal:"}),u.jsxs("span",{children:[c.currency.symbol,n.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Discount: (",(c.taxRate*100).toFixed(0),"%):"]}),u.jsxs("span",{children:["-",c.currency.symbol,r.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-sm",children:[u.jsx("span",{children:"Grand Total:"}),u.jsxs("span",{children:[c.currency.symbol,(n-r).toFixed(2)]})]})]}),u.jsx("hr",{className:"my-2 border-black border-dashed"}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("p",{children:["Payment Method: ",i]}),a&&u.jsxs("p",{children:["Payment ID: ",a]})]}),c.returnPolicy&&u.jsxs(u.Fragment,{children:[u.jsx("hr",{className:"my-2 border-black border-dashed"}),u.jsx("p",{children:"Return Policy:"}),u.jsx("div",{className:"text-center mt-2",children:u.jsx("p",{className:"text-xs",children:c.returnPolicy})})]}),u.jsx("div",{className:"text-center mt-3",children:u.jsx("p",{children:"Thank you for your purchase!"})})]})});Yc.displayName="Invoice";const So="sales",Os="sale_items",sd="customers",$s="product_variants",La=`
  id,
  invoice_number,
  customer_name,
  customer_phone,
  customer_email,
  total_amount,
  tax_amount,
  payment_method,
  payment_id,
  created_at,
  customer_id,
  sale_items (
    id,
    product_id,
    quantity,
    unit_price,
    total_price,
    size,
    product:products (name, reference_number)
  )
`,YS=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!1),{toast:o}=Ot(),s=p.useCallback((v,_)=>{throw console.error(`${_}:`,v),o({title:`Error ${_.toLowerCase()}`,description:v.message||"An unexpected error occurred.",variant:"destructive"}),v},[o]),i=p.useCallback(async()=>{r(!0);try{const{data:v,error:_}=await J.from(So).select(La).order("created_at",{ascending:!1});_&&s(_,"fetching sales"),t(v||[])}catch{}finally{r(!1)}},[s]),a=p.useCallback(async v=>{let _=null;const{data:y,error:x}=await J.from(sd).select("id").eq("phone",v.customer_phone).limit(1);if(x)throw x;if(y&&y.length>0){_=y[0].id;const{error:g}=await J.from(sd).update({name:v.customer_name,email:v.customer_email,updated_at:new Date().toISOString()}).eq("id",_);if(g)throw g}else{const{data:g,error:b}=await J.from(sd).insert({name:v.customer_name,phone:v.customer_phone,email:v.customer_email}).select("id").single();if(b)throw b;_=g.id}return _},[]),l=p.useCallback(async(v,_)=>{const{data:y,error:x}=await J.from(So).insert({invoice_number:v.invoiceNumber,customer_name:v.customer_name,customer_phone:v.customer_phone,customer_email:v.customer_email,total_amount:v.totalAmount,tax_amount:v.taxAmount,payment_method:v.paymentMethod,payment_id:v.payment_id,customer_id:_,created_at:v.saleDate||new Date().toISOString()}).select(La).single();if(x)throw x;return y},[]),c=p.useCallback(async(v,_,y)=>{const{data:x,error:g}=await J.from($s).select("stock").eq("product_id",v).eq("size",_).single();if(g)throw g;const b=x.stock-y;if(b<0)throw new Error(`Insufficient stock for product variant with size ${_}`);const{error:S}=await J.from($s).update({stock:b}).eq("product_id",v).eq("size",_);if(S)throw S},[]),d=p.useCallback(async(v,_)=>{const y=_.map(g=>({sale_id:v,product_id:g.id,quantity:g.quantity,unit_price:g.price,total_price:g.price*g.quantity,size:g.size})),{error:x}=await J.from(Os).insert(y);if(x)throw x;for(const g of _)await c(g.id,g.size,g.quantity)},[c]),f=p.useCallback(async(v,_)=>{r(!0);try{const y=await a(v),x=await l(v,y);return await d(x.id,_),await i(),x}catch(y){return s(y,"creating sale"),null}finally{r(!1)}},[a,l,d,i,s]),h=p.useCallback(async v=>{r(!0);try{const{data:_,error:y}=await J.from(So).select(La).eq("id",v).single();if(y){if(y.code==="PGRST116")return null;s(y,`fetching sale ${v}`)}return _}catch{return null}finally{r(!1)}},[s]),m=p.useCallback(async v=>{r(!0);try{const{data:_,error:y}=await J.from(So).select(La).eq("invoice_number",v).single();if(y){if(y.code==="PGRST116")return null;s(y,`fetching invoice ${v}`)}return _}catch{return null}finally{r(!1)}},[s]),w=p.useCallback(async(v,_,y,x)=>{r(!0);try{const{error:g}=await J.from(So).update(_).eq("id",v);if(g)throw g;for(const b of x)if(!y.find(k=>k.id===b.id||k.product_id===b.product_id&&k.size===b.size)){const{error:k}=await J.from($s).update({stock:J.sql`stock + ${b.quantity}`}).eq("product_id",b.product_id).eq("size",b.size);if(k)throw k;const{error:C}=await J.from(Os).delete().eq("id",b.id);if(C)throw C}for(const b of y){const S=x.find(k=>k.id===b.id||k.product_id===b.product_id&&k.size===b.size);if(S){if(S.quantity!==b.quantity){const k=b.quantity-S.quantity,{error:C}=await J.from($s).update({stock:J.sql`stock - ${k}`}).eq("product_id",b.product_id).eq("size",b.size);if(C)throw C;const{error:E}=await J.from(Os).update({quantity:b.quantity,total_price:b.price*b.quantity}).eq("id",S.id);if(E)throw E}}else{const{error:k}=await J.from($s).update({stock:J.sql`stock - ${b.quantity}`}).eq("product_id",b.product_id).eq("size",b.size);if(k)throw k;const{error:C}=await J.from(Os).insert({sale_id:v,product_id:b.product_id,quantity:b.quantity,unit_price:b.price,total_price:b.price*b.quantity,size:b.size});if(C)throw C}}await i()}catch(g){s(g,"updating sale")}finally{r(!1)}},[i,s]);return p.useEffect(()=>{i();const v=J.channel("sales_realtime_channel").on("postgres_changes",{event:"*",schema:"public",table:So},i).on("postgres_changes",{event:"*",schema:"public",table:Os},i).subscribe();return()=>{J.removeChannel(v)}},[i]),{sales:e,loading:n,fetchSales:i,createSale:f,getSaleById:h,getSaleByInvoiceNumber:m,updateSale:w}},zF=({searchQuery:e,setSearchQuery:t})=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Products"}),u.jsxs("div",{className:"relative",children:[u.jsx(ie,{type:"text",placeholder:"Search by name or reference number...",value:e,onChange:n=>t(n.target.value),className:"pl-10"}),u.jsx(kw,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"})]})]}),UF=({products:e,addToCart:t,settings:n})=>{const r=n.darkMode?"neumorphism-dark":"neumorphism",o=n.darkMode?"hover:bg-gray-700/60 hover:shadow-gray-600/30":"hover:bg-gray-100/80 hover:shadow-gray-300/50";return e.length===0?u.jsxs("div",{className:`text-center py-12 ${r} rounded-xl`,children:[u.jsx(Gh,{className:"w-16 h-16 mx-auto mb-4 text-primary/50"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Products Found"}),u.jsx("p",{className:`${n.darkMode?"text-gray-400":"text-gray-500"}`,children:"Try adjusting your search or add new products to your inventory."})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(s=>{var c;const i=((c=s.product_variants)==null?void 0:c.reduce((d,f)=>d+f.stock,0))||0,a=s.product_variants&&s.product_variants.length>0,l=i===0;return u.jsxs(Kt.div,{layout:!0,initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},className:`${r} rounded-xl p-4 flex flex-col justify-between transition-all duration-300 ${o} ${l?"opacity-60":""}`,children:[u.jsxs("div",{children:[u.jsx("h3",{className:`font-semibold truncate ${n.darkMode?"text-gray-100":"text-gray-800"}`,children:s.name}),u.jsxs("p",{className:`text-xs ${n.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",s.reference_number]}),u.jsxs("p",{className:`text-lg font-bold my-1 ${n.darkMode?"text-primary-foreground":"text-primary"}`,children:[n.currency.symbol,s.price.toFixed(2)]}),u.jsxs("p",{className:`text-xs ${n.darkMode?"text-gray-300":"text-gray-600"}`,children:["Stock: ",u.jsx("span",{className:"font-medium",children:i})]}),s.product_variants&&s.product_variants.length>0&&u.jsxs("div",{className:"mt-1",children:[u.jsx("p",{className:`text-xs font-medium ${n.darkMode?"text-gray-400":"text-gray-500"}`,children:"Sizes:"}),u.jsxs("div",{className:"flex flex-wrap gap-1 text-xs",children:[s.product_variants.slice(0,3).map(d=>u.jsxs("span",{className:`${n.darkMode?"bg-gray-600 text-gray-200":"bg-gray-200 text-gray-700"} px-1 rounded`,children:[d.size," (",d.stock,")"]},d.id)),s.product_variants.length>3&&u.jsx("span",{className:"text-xs",children:"..."})]})]})]}),u.jsxs(re,{onClick:()=>t(s),className:"w-full mt-3 text-sm",size:"sm",disabled:!a||l,children:[u.jsx(is,{className:"w-4 h-4 mr-1.5"}),l?"Out of Stock":a?"Add to Cart":"No Sizes"]})]},s.id)})})},BF=({cart:e,updateQuantity:t,removeFromCart:n,settings:r})=>u.jsx("div",{className:"space-y-3",children:e.map(o=>u.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between transition-all
            ${r.darkMode?"bg-gray-700/50 hover:bg-gray-600/60":"bg-gray-100 hover:bg-gray-200/70"}`,children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("p",{className:`font-semibold ${r.darkMode?"text-gray-100":"text-gray-800"}`,children:o.name}),u.jsxs("p",{className:`text-xs ${r.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",o.reference_number," | Size: ",o.size]}),u.jsxs("p",{className:`text-xs ${r.darkMode?"text-gray-300":"text-gray-600"}`,children:[r.currency.symbol,o.price.toFixed(2)," x ",o.quantity," = ",r.currency.symbol,(o.price*o.quantity).toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[u.jsx(re,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(o.cartKey,o.quantity-1),children:u.jsx(NT,{className:"w-3 h-3"})}),u.jsx(ie,{type:"number",value:o.quantity,onChange:s=>t(o.cartKey,parseInt(s.target.value)||1),className:"w-12 h-7 text-center p-1 dark:bg-gray-800",min:"1"}),u.jsx(re,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(o.cartKey,o.quantity+1),children:u.jsx(uf,{className:"w-3 h-3"})}),u.jsx(re,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-500 hover:bg-red-100 dark:hover:bg-red-700/30",onClick:()=>n(o.cartKey),children:u.jsx(no,{className:"w-3 h-3"})})]})]},o.cartKey))});var WF="Label",XS=p.forwardRef((e,t)=>u.jsx(be.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XS.displayName=WF;var QS=XS;const ge=p.forwardRef(({className:e,...t},n)=>u.jsx(QS,{ref:n,className:me("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ge.displayName=QS.displayName;const HF=({customerInfo:e,handleCustomerInfoChange:t,isCheckingCustomer:n,darkMode:r})=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"customerPhone",children:"Customer Phone"}),u.jsxs("div",{className:"relative mt-1",children:[u.jsx(ie,{id:"customerPhone",name:"phone",value:e.phone,onChange:t,placeholder:"Enter phone (required)",required:!0}),n&&u.jsx(TT,{className:"absolute right-2 top-2.5 h-5 w-5 animate-spin text-muted-foreground"})]})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"customerName",children:"Customer Name"}),u.jsx(ie,{id:"customerName",name:"name",value:e.name,onChange:t,placeholder:"Enter name (required)",className:"mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"customerEmail",children:"Customer Email (Optional)"}),u.jsx(ie,{id:"customerEmail",name:"email",type:"email",value:e.email||"",onChange:t,placeholder:"Enter email",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"paymentMethod",children:"Payment Method"}),u.jsxs("select",{id:"paymentMethod",name:"paymentMethod",value:e.paymentMethod,onChange:t,className:`w-full p-2 border rounded-lg mt-1 ${r?"bg-gray-700 border-gray-600 text-white":"bg-background border-border"}`,children:[u.jsx("option",{value:"CASH",children:"Cash"}),u.jsx("option",{value:"CARD",children:"Card"}),u.jsx("option",{value:"UPI",children:"UPI"})]})]})]}),qF=({subtotal:e,tax:t,total:n,settings:r})=>u.jsxs("div",{className:"border-t pt-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:[r.currency.symbol,e.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Discount (",(r.taxRate*100).toFixed(0),"%)"]}),u.jsxs("span",{children:["-",r.currency.symbol,t.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:[r.currency.symbol,n.toFixed(2)]})]})]});function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(null,arguments)}function Mn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function GF(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function JS(...e){return t=>e.forEach(n=>GF(n,t))}function fs(...e){return p.useCallback(JS(...e),e)}function Xc(e,t=[]){let n=[];function r(s,i){const a=p.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:m,...w}=f,v=(h==null?void 0:h[e][l])||a,_=p.useMemo(()=>w,Object.values(w));return p.createElement(v.Provider,{value:_},m)}function d(f,h){const m=(h==null?void 0:h[e][l])||a,w=p.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const o=()=>{const s=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,KF(o,...t)]}function KF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const Hl=p.forwardRef((e,t)=>{const{children:n,...r}=e,o=p.Children.toArray(n),s=o.find(XF);if(s){const i=s.props.children,a=o.map(l=>l===s?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:l);return p.createElement(Lf,ot({},r,{ref:t}),p.isValidElement(i)?p.cloneElement(i,void 0,a):null)}return p.createElement(Lf,ot({},r,{ref:t}),n)});Hl.displayName="Slot";const Lf=p.forwardRef((e,t)=>{const{children:n,...r}=e;return p.isValidElement(n)?p.cloneElement(n,{...QF(r,n.props),ref:t?JS(t,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});Lf.displayName="SlotClone";const YF=({children:e})=>p.createElement(p.Fragment,null,e);function XF(e){return p.isValidElement(e)&&e.type===YF}function QF(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const JF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ji=JF.reduce((e,t)=>{const n=p.forwardRef((r,o)=>{const{asChild:s,...i}=r,a=s?Hl:t;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,ot({},i,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ZF(e){const t=e+"CollectionProvider",[n,r]=Xc(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:w,children:v}=m,_=ve.useRef(null),y=ve.useRef(new Map).current;return ve.createElement(o,{scope:w,itemMap:y,collectionRef:_},v)},a=e+"CollectionSlot",l=ve.forwardRef((m,w)=>{const{scope:v,children:_}=m,y=s(a,v),x=fs(w,y.collectionRef);return ve.createElement(Hl,{ref:x},_)}),c=e+"CollectionItemSlot",d="data-radix-collection-item",f=ve.forwardRef((m,w)=>{const{scope:v,children:_,...y}=m,x=ve.useRef(null),g=fs(w,x),b=s(c,v);return ve.useEffect(()=>(b.itemMap.set(x,{ref:x,...y}),()=>void b.itemMap.delete(x))),ve.createElement(Hl,{[d]:"",ref:g},_)});function h(m){const w=s(e+"CollectionConsumer",m);return ve.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((b,S)=>y.indexOf(b.ref.current)-y.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,r]}const ql=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},e4=Kl["useId".toString()]||(()=>{});let t4=0;function n4(e){const[t,n]=p.useState(e4());return ql(()=>{e||n(r=>r??String(t4++))},[e]),e||(t?`radix-${t}`:"")}function Zp(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function ZS({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=r4({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=Zp(n),l=p.useCallback(c=>{if(s){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else o(c)},[s,e,o,a]);return[i,l]}function r4({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,o=p.useRef(r),s=Zp(t);return p.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}const o4=p.createContext(void 0);function ek(e){const t=p.useContext(o4);return e||t||"ltr"}const id="rovingFocusGroup.onEntryFocus",s4={bubbles:!1,cancelable:!0},em="RovingFocusGroup",[Ff,tk,i4]=ZF(em),[a4,nk]=Xc(em,[i4]),[l4,c4]=a4(em),u4=p.forwardRef((e,t)=>p.createElement(Ff.Provider,{scope:e.__scopeRovingFocusGroup},p.createElement(Ff.Slot,{scope:e.__scopeRovingFocusGroup},p.createElement(d4,ot({},e,{ref:t}))))),d4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...d}=e,f=p.useRef(null),h=fs(t,f),m=ek(s),[w=null,v]=ZS({prop:i,defaultProp:a,onChange:l}),[_,y]=p.useState(!1),x=Zp(c),g=tk(n),b=p.useRef(!1),[S,k]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(id,x),()=>C.removeEventListener(id,x)},[x]),p.createElement(l4,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(C=>v(C),[v]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>k(C=>C-1),[])},p.createElement(Ji.div,ot({tabIndex:_||S===0?-1:0,"data-orientation":r},d,{ref:h,style:{outline:"none",...e.style},onMouseDown:Mn(e.onMouseDown,()=>{b.current=!0}),onFocus:Mn(e.onFocus,C=>{const E=!b.current;if(C.target===C.currentTarget&&E&&!_){const P=new CustomEvent(id,s4);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=g().filter(B=>B.focusable),V=A.find(B=>B.active),I=A.find(B=>B.id===w),O=[V,I,...A].filter(Boolean).map(B=>B.ref.current);rk(O)}}b.current=!1}),onBlur:Mn(e.onBlur,()=>y(!1))})))}),f4="RovingFocusGroupItem",h4=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=n4(),l=s||a,c=c4(f4,n),d=c.currentTabStopId===l,f=tk(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return p.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),p.createElement(Ff.ItemSlot,{scope:n,id:l,focusable:r,active:o},p.createElement(Ji.span,ot({tabIndex:d?0:-1,"data-orientation":c.orientation},i,{ref:t,onMouseDown:Mn(e.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Mn(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Mn(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=g4(w,c.orientation,c.dir);if(v!==void 0){w.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(w.currentTarget);y=c.loop?v4(y,x+1):y.slice(x+1)}setTimeout(()=>rk(y))}})})))}),p4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g4(e,t,n){const r=m4(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return p4[r]}function rk(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function v4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const y4=u4,x4=h4;function w4(e){const[t,n]=p.useState(void 0);return ql(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function b4(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _4(e,t){return p.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const ok=e=>{const{present:t,children:n}=e,r=S4(t),o=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=fs(r.ref,o.ref);return typeof n=="function"||r.isPresent?p.cloneElement(o,{ref:s}):null};ok.displayName="Presence";function S4(e){const[t,n]=p.useState(),r=p.useRef({}),o=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[a,l]=_4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Fa(r.current);s.current=a==="mounted"?c:"none"},[a]),ql(()=>{const c=r.current,d=o.current;if(d!==e){const h=s.current,m=Fa(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ql(()=>{if(t){const c=f=>{const m=Fa(r.current).includes(f.animationName);f.target===t&&m&&ao.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===t&&(s.current=Fa(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Fa(e){return(e==null?void 0:e.animationName)||"none"}const sk="Radio",[k4,ik]=Xc(sk),[C4,E4]=k4(sk),P4=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:s,disabled:i,value:a="on",onCheck:l,...c}=e,[d,f]=p.useState(null),h=fs(t,v=>f(v)),m=p.useRef(!1),w=d?!!d.closest("form"):!0;return p.createElement(C4,{scope:n,checked:o,disabled:i},p.createElement(Ji.button,ot({type:"button",role:"radio","aria-checked":o,"data-state":ak(o),"data-disabled":i?"":void 0,disabled:i,value:a},c,{ref:h,onClick:Mn(e.onClick,v=>{o||l==null||l(),w&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})),w&&p.createElement(N4,{control:d,bubbles:!m.current,name:r,value:a,checked:o,required:s,disabled:i,style:{transform:"translateX(-100%)"}}))}),j4="RadioIndicator",T4=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...o}=e,s=E4(j4,n);return p.createElement(ok,{present:r||s.checked},p.createElement(Ji.span,ot({"data-state":ak(s.checked),"data-disabled":s.disabled?"":void 0},o,{ref:t})))}),N4=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=p.useRef(null),i=b4(n),a=w4(t);return p.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[i,n,r]),p.createElement("input",ot({type:"radio","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function ak(e){return e?"checked":"unchecked"}const R4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lk="RadioGroup",[A4,U3]=Xc(lk,[nk,ik]),ck=nk(),uk=ik(),[M4,D4]=A4(lk),O4=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:s,required:i=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...h}=e,m=ck(n),w=ek(c),[v,_]=ZS({prop:s,defaultProp:o,onChange:f});return p.createElement(M4,{scope:n,name:r,required:i,disabled:a,value:v,onValueChange:_},p.createElement(y4,ot({asChild:!0},m,{orientation:l,dir:w,loop:d}),p.createElement(Ji.div,ot({role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":a?"":void 0,dir:w},h,{ref:t}))))}),$4="RadioGroupItem",I4=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...o}=e,s=D4($4,n),i=s.disabled||r,a=ck(n),l=uk(n),c=p.useRef(null),d=fs(t,c),f=s.value===o.value,h=p.useRef(!1);return p.useEffect(()=>{const m=v=>{R4.includes(v.key)&&(h.current=!0)},w=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),p.createElement(x4,ot({asChild:!0},a,{focusable:!i,active:f}),p.createElement(P4,ot({disabled:i,required:s.required,checked:f},l,o,{name:s.name,ref:d,onCheck:()=>s.onValueChange(o.value),onKeyDown:Mn(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Mn(o.onFocus,()=>{var m;h.current&&((m=c.current)===null||m===void 0||m.click())})})))}),L4=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,o=uk(n);return p.createElement(T4,ot({},o,r,{ref:t}))}),dk=O4,fk=I4,F4=L4,tm=p.forwardRef(({className:e,...t},n)=>u.jsx(dk,{className:me("grid gap-2",e),...t,ref:n}));tm.displayName=dk.displayName;const nm=p.forwardRef(({className:e,...t},n)=>u.jsx(fk,{ref:n,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(F4,{className:"flex items-center justify-center",children:u.jsx(bw,{className:"h-2.5 w-2.5 fill-current text-current"})})}));nm.displayName=fk.displayName;const V4=({customerInfo:e,handleCustomerInfoChange:t,darkMode:n})=>{const r=[];return u.jsxs("div",{className:"mt-6",children:[u.jsx(ge,{className:"text-base font-medium"}),u.jsx(tm,{name:"paymentMethod",value:e.paymentMethod,onValueChange:o=>t({target:{name:"paymentMethod",value:o}}),className:"mt-2 space-y-2",children:r.map(o=>{const s=o.icon;return u.jsxs(ge,{htmlFor:`payment-${o.value}`,className:`flex items-center space-x-3 p-3 rounded-lg border cursor-pointer transition-all 
                ${n?"border-gray-700 hover:bg-gray-700/50":"border-gray-200 hover:bg-gray-100/70"}
                ${e.paymentMethod===o.value?n?"bg-gray-700 border-primary ring-1 ring-primary":"bg-primary/10 border-primary ring-1 ring-primary":""}`,children:[u.jsx(nm,{value:o.value,id:`payment-${o.value}`,className:"sr-only"}),u.jsx(s,{className:`w-5 h-5 ${n?"text-gray-300":"text-gray-600"} ${e.paymentMethod===o.value?"text-primary":""}`}),u.jsx("span",{className:`font-medium ${e.paymentMethod===o.value?n?"text-primary-foreground":"text-primary":""}`,children:o.label})]},o.value)})})]})},z4=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}),Qc=ES,U4=PS,hk=zc,pk=p.forwardRef(({className:e,...t},n)=>u.jsx(qp,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pk.displayName=qp.displayName;const Zi=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(U4,{children:[u.jsx(pk,{}),u.jsxs(Gp,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(zc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Qh,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zi.displayName=Gp.displayName;const ea=({className:e,...t})=>u.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ea.displayName="DialogHeader";const Jc=({className:e,...t})=>u.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jc.displayName="DialogFooter";const ta=p.forwardRef(({className:e,...t},n)=>u.jsx(Kp,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));ta.displayName=Kp.displayName;const na=p.forwardRef(({className:e,...t},n)=>u.jsx(Yp,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));na.displayName=Yp.displayName;function B4({items:e,customerInfo:t,subtotal:n,tax:r,total:o,invoiceNumber:s,paymentMethod:i,paymentId:a,settings:l}){var c;return{shopName:l.shopName||"",shopAddress:l.address||"",shopPhone:l.phone||"",shopEmail:l.email||"",gstNo:l.gstNo||"",invoiceNumber:s||"",date:new Date().toLocaleDateString(),customerName:(t==null?void 0:t.name)||"",customerPhone:(t==null?void 0:t.phone)||"",customerEmail:(t==null?void 0:t.email)||"",items:e.map(d=>({name:d.name||"",reference_number:d.reference_number||"",quantity:d.quantity||0,price:d.price!=null?Number(d.price).toFixed(2):"0.00"})),currency:((c=l.currency)==null?void 0:c.symbol)||"",subtotal:n!=null?Number(n).toFixed(2):"0.00",discountPercent:l.taxRate?(l.taxRate*100).toFixed(0):"0",discount:r!=null?Number(r).toFixed(2):"0.00",total:o!=null?Number(o).toFixed(2):n&&r?(Number(n)-Number(r)).toFixed(2):"0.00",paymentMethod:i||"",paymentId:a||"",returnPolicy:l.returnPolicy||"",to_email:(t==null?void 0:t.email)||"",to_name:(t==null?void 0:t.name)||""}}function W4(e,t){return`
    <table style="
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
      font-size: 13px;
      background: #fff;
      ">
      <tr>
        <th style="
          background: #f2f6fa;
          color: #205081;
          font-weight: bold;
          border: 1px solid #bbb;
          padding: 7px;
          text-align: left;
        ">Item</th>
        <th style="
          background: #f2f6fa;
          color: #205081;
          font-weight: bold;
          border: 1px solid #bbb;
          padding: 7px;
          text-align: left;
        ">Reference</th>
        <th style="
          background: #f2f6fa;
          color: #205081;
          font-weight: bold;
          border: 1px solid #bbb;
          padding: 7px;
          text-align: left;
        ">Qty</th>
        <th style="
          background: #f2f6fa;
          color: #205081;
          font-weight: bold;
          border: 1px solid #bbb;
          padding: 7px;
          text-align: left;
        ">Rate</th>
      </tr>
      ${e.map(n=>`
        <tr>
          <td style="border: 1px solid #bbb; padding: 7px;">${n.name||""}</td>
          <td style="border: 1px solid #bbb; padding: 7px;">${n.reference_number||""}</td>
          <td style="border: 1px solid #bbb; padding: 7px;">${n.quantity||0}</td>
          <td style="border: 1px solid #bbb; padding: 7px;">${t}${n.price?Number(n.price).toFixed(2):"0.00"}</td>
        </tr>
      `).join("")}
    </table>
  `}class ra{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const H4=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Xe={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:H4()},rm=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},q4=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=rm(e);Xe.publicKey=n.publicKey,Xe.blockHeadless=n.blockHeadless,Xe.storageProvider=n.storageProvider,Xe.blockList=n.blockList,Xe.limitRate=n.limitRate,Xe.origin=n.origin||t},mk=async(e,t,n={})=>{const r=await fetch(Xe.origin+e,{method:"POST",headers:n,body:t}),o=await r.text(),s=new ra(r.status,o);if(r.ok)return s;throw s},gk=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},G4=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},vk=e=>e.webdriver||!e.languages||e.languages.length===0,yk=()=>new ra(451,"Unavailable For Headless Browser"),K4=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},Y4=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},X4=(e,t)=>e instanceof FormData?e.get(t):e[t],xk=(e,t)=>{if(Y4(e))return!1;K4(e.list,e.watchVariable);const n=X4(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},wk=()=>new ra(403,"Forbidden"),Q4=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},J4=async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r},bk=async(e,t,n)=>{if(!t.throttle||!n)return!1;Q4(t.throttle,t.id);const r=t.id||e;return await J4(r,t.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},_k=()=>new ra(429,"Too Many Requests"),Z4=async(e,t,n,r)=>{const o=rm(r),s=o.publicKey||Xe.publicKey,i=o.blockHeadless||Xe.blockHeadless,a=o.storageProvider||Xe.storageProvider,l={...Xe.blockList,...o.blockList},c={...Xe.limitRate,...o.limitRate};return i&&vk(navigator)?Promise.reject(yk()):(gk(s,e,t),G4(n),n&&xk(l,n)?Promise.reject(wk()):await bk(location.pathname,c,a)?Promise.reject(_k()):mk("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},e3=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},t3=e=>typeof e=="string"?document.querySelector(e):e,n3=async(e,t,n,r)=>{const o=rm(r),s=o.publicKey||Xe.publicKey,i=o.blockHeadless||Xe.blockHeadless,a=Xe.storageProvider||o.storageProvider,l={...Xe.blockList,...o.blockList},c={...Xe.limitRate,...o.limitRate};if(i&&vk(navigator))return Promise.reject(yk());const d=t3(n);gk(s,e,t),e3(d);const f=new FormData(d);return xk(l,f)?Promise.reject(wk()):await bk(location.pathname,c,a)?Promise.reject(_k()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",s),mk("/api/v1.0/email/send-form",f))},r3={init:q4,send:Z4,sendForm:n3,EmailJSResponseStatus:ra};function o3({to_email:e,to_name:t,invoiceNumber:n,html:r,...o}){return r3.send("service_d4mb339","template_i5qq76e",{to_email:e,to_name:t,invoiceNumber:n,html_message:r,...o},"OYC5r8CivDxQ6dCqi")}const s3=()=>{const{products:e,fetchProducts:t}=kc(),{toast:n}=Ot(),{settings:r}=$t(),{createSale:o}=YS(),[s,i]=p.useState([]),[a,l]=p.useState(""),[c,d]=p.useState({name:"",phone:"",email:"",paymentMethod:"CASH"}),[f,h]=p.useState(null),[m,w]=p.useState(!1),[v,_]=p.useState(!1),[y,x]=p.useState(!1),[g,b]=p.useState(null),[S,k]=p.useState(""),C=p.useRef(),E=Jp.useReactToPrint({content:()=>C.current}),P=e.filter(F=>{const G=a.toLowerCase();return F.name.toLowerCase().includes(G)||F.reference_number&&F.reference_number.toLowerCase().includes(G)}),A=F=>{var G;if(!F.product_variants||F.product_variants.length===0){n({title:"No Sizes Available",description:"This product has no defined sizes or stock.",variant:"destructive"});return}b(F),k(((G=F.product_variants[0])==null?void 0:G.size)||""),x(!0)},V=()=>{if(!g||!S)return;const F=g.product_variants.find(Y=>Y.size===S);if(!F){n({title:"Error",description:"Selected size not found for this product.",variant:"destructive"});return}if(F.stock===0){n({title:"Out of Stock",description:`Size ${S} is out of stock.`,variant:"destructive"});return}const G=`${g.id}-${S}`,oe=s.find(Y=>Y.cartKey===G);if(oe){if(oe.quantity>=F.stock){n({title:"Stock Limit Reached",description:`Cannot add more of size ${S}. Max stock: ${F.stock}.`,variant:"destructive"});return}i(s.map(Y=>Y.cartKey===G?{...Y,quantity:Y.quantity+1}:Y))}else i([...s,{...g,id:g.id,cartKey:G,size:S,stock:F.stock,price:g.price,quantity:1}]);x(!1),b(null)},I=F=>{i(s.filter(G=>G.cartKey!==F))},W=(F,G)=>{const oe=s.find(ce=>ce.cartKey===F);if(!oe)return;const Y=e.find(ce=>ce.id===oe.id);if(!Y)return;const le=Y.product_variants.find(ce=>ce.size===oe.size);if(le){if(G>le.stock){n({title:"Stock Limit Reached",description:`Cannot add more than ${le.stock} items for size ${oe.size}.`,variant:"destructive"}),i(s.map(ce=>ce.cartKey===F?{...ce,quantity:le.stock}:ce));return}if(G<1){I(F);return}i(s.map(ce=>ce.cartKey===F?{...ce,quantity:G}:ce))}},O=p.useCallback(()=>s.reduce((F,G)=>F+G.price*G.quantity,0),[s]),B=p.useCallback(F=>F*(r.taxRate||0),[r.taxRate]),H=p.useCallback(()=>{const F=O(),G=B(F);return Math.max(0,F-G)},[O,B]),Z=F=>{const{name:G,value:oe}=F.target;d(Y=>({...Y,[G]:oe}))},N=p.useCallback(async F=>{if(F&&F.length>=7){w(!0);try{const{data:G,error:oe}=await J.from("customers").select("name, email").eq("phone",F).limit(1);oe?console.error("Error checking customer (non-PGRST116):",oe.message):G&&G.length>0&&(d(Y=>({...Y,name:G[0].name,email:G[0].email||""})),n({title:"Customer Found",description:`Filled details for ${G[0].name}.`}))}catch(G){console.error("Catch block: Error checking customer:",G.message)}finally{w(!1)}}},[n]);p.useEffect(()=>{const F=setTimeout(()=>{c.phone&&!c.name&&N(c.phone)},1e3);return()=>clearTimeout(F)},[c.phone,c.name,N]);const j=async(F={})=>{_(!0);const G=O(),oe=B(G),Y=Math.max(0,G-oe),le=`INV-${Date.now()}`,ce=new Date().toLocaleDateString(),T={invoiceNumber:le,customer_name:c.name,customer_phone:c.phone,customer_email:c.email,totalAmount:Y,taxAmount:oe,paymentMethod:F.method||c.paymentMethod,saleDate:new Date,payment_id:F.id||null,date:ce};try{const R=await o(T,s);await t();const M=R.invoice_number||T.invoiceNumber||le;if(h({items:s,customerInfo:c,subtotal:G,tax:oe,total:G-oe,invoiceNumber:M,paymentMethod:T.paymentMethod,paymentId:T.payment_id}),c.email){const D=B4({items:s,customerInfo:c,subtotal:G,tax:oe,total:G-oe,invoiceNumber:M,paymentMethod:T.paymentMethod,paymentId:T.payment_id,settings:r}),$=`
          <h2>Invoice #${D.invoiceNumber}</h2>
          ${W4(D.items,D.currency)}
          <p><strong>Subtotal:</strong> ${D.currency}${D.subtotal}</p>
          <p><strong>Discount (${D.discountPercent}%):</strong> -${D.currency}${D.discount}</p>
          <p><strong>Total:</strong> ${D.currency}${D.total}</p>
        `;await o3({...D,html:$}).then(()=>n({title:"Invoice Sent",description:"Invoice was sent via email."})).catch(()=>n({title:"Email Failed",description:"Could not send invoice email.",variant:"destructive"}))}n({title:"Sale Complete",description:`Invoice ${M} has been generated.`})}catch(R){console.error("Checkout error details:",R),n({title:"Error Processing Sale",description:R.message||"An unexpected error occurred.",variant:"destructive"})}finally{_(!1)}},z=async()=>{var le;if(s.length===0||!c.name||!c.phone){n({title:"Missing Information",description:"Please add items to cart and enter customer name & phone.",variant:"destructive"});return}if(_(!0),!await z4()){n({title:"Razorpay SDK Error",description:"Razorpay SDK failed to load. Please try again or use another payment method.",variant:"destructive"}),_(!1);return}const G=H(),oe={key:"rzp_test_56ZvanY5WuU84v",amount:Math.round(G*100),currency:((le=r.currency)==null?void 0:le.name)||"INR",name:r.shopName||"Fashion Hub",description:"Payment for Goods",handler:function(ce){n({title:"Payment Successful!",description:`Payment ID: ${ce.razorpay_payment_id}`}),j({method:"RAZORPAY",id:ce.razorpay_payment_id})},prefill:{name:c.name,contact:c.phone,email:c.email},notes:{address:r.address||"Fashion Street, India",invoice_number_placeholder:`INV-${Date.now()}`},theme:{color:"#3399cc"},modal:{ondismiss:function(){_(!1),n({title:"Payment Cancelled",description:"You cancelled the payment.",variant:"destructive"})}}},Y=new window.Razorpay(oe);Y.on("payment.failed",function(ce){console.error("Razorpay Payment Failed:",ce),n({title:"Payment Failed",description:`${ce.error.description} (Code: ${ce.error.code})`,variant:"destructive"}),_(!1)}),Y.open()},L=()=>{if(s.length===0||!c.name||!c.phone){n({title:"Missing Information",description:"Please add items to cart and enter customer name & phone.",variant:"destructive"});return}c.paymentMethod==="RAZORPAY"?z():j()},q=()=>{f?(E(),i([]),d({name:"",phone:"",email:"",paymentMethod:"CASH"}),h(null),l("")):n({title:"No Invoice",description:"Please complete a sale first to generate an invoice.",variant:"destructive"})};return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsx(zF,{searchQuery:a,setSearchQuery:l}),u.jsx(UF,{products:P,addToCart:A,settings:r})]}),u.jsxs("div",{className:`${r.darkMode?"neumorphism-dark":"neumorphism"} rounded-xl p-6 space-y-6 flex flex-col`,children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Current Bill"}),u.jsxs("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2",children:[u.jsx(HF,{customerInfo:c,handleCustomerInfoChange:Z,isCheckingCustomer:m,darkMode:r.darkMode}),u.jsx(V4,{customerInfo:c,handleCustomerInfoChange:Z,darkMode:r.darkMode}),s.length===0?u.jsxs("div",{className:`text-center py-8 mt-4 ${r.darkMode?"text-gray-400":"text-gray-500"}`,children:[u.jsx(gc,{className:"w-12 h-12 mx-auto mb-4"}),u.jsx("p",{children:"No items in cart"})]}):u.jsx("div",{className:"mt-6",children:u.jsx(BF,{cart:s,updateQuantity:W,removeFromCart:I,settings:r})})]}),s.length>0&&u.jsxs("div",{className:"mt-auto border-t pt-4",children:[u.jsx(qF,{subtotal:O(),tax:B(O()),total:H(),settings:r}),u.jsx(re,{className:"w-full mt-4",onClick:L,disabled:f!==null||m||v,children:v?"Processing...":c.paymentMethod==="RAZORPAY"?"Pay with Razorpay":"Complete Sale"}),f&&u.jsxs(re,{className:"w-full mt-2 flex items-center",variant:"outline",onClick:q,children:[u.jsx(Sw,{className:"w-4 h-4 mr-2"})," Print Invoice & New Sale"]}),c.paymentMethod==="RAZORPAY"&&u.jsxs("p",{className:"text-xs text-center mt-2 text-muted-foreground flex items-center justify-center",children:[u.jsx(IT,{className:"w-3 h-3 mr-1 text-green-500"})," Secure Payments by Razorpay"]})]})]}),f&&u.jsx("div",{style:{display:"none"},children:u.jsx(Yc,{ref:C,...f})}),y&&g&&u.jsx(Qc,{open:y,onOpenChange:()=>{x(!1),b(null)},children:u.jsxs(Zi,{className:"sm:max-w-[425px]",children:[u.jsxs(ea,{children:[u.jsxs(ta,{children:["Select Size for ",g.name]}),u.jsx(na,{children:"Choose an available size and stock for this product."})]}),u.jsx("div",{className:"py-4",children:g.product_variants&&g.product_variants.length>0?u.jsxs(tm,{value:S,onValueChange:k,className:"space-y-2",children:[g.product_variants.filter(F=>F.stock>0).map(F=>u.jsxs(ge,{htmlFor:`size-${F.size}`,className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all 
                        ${r.darkMode?"border-gray-700 hover:bg-gray-700/50":"border-gray-200 hover:bg-gray-100/70"}
                        ${S===F.size?r.darkMode?"bg-gray-700 border-primary ring-1 ring-primary":"bg-primary/10 border-primary ring-1 ring-primary":""}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(nm,{value:F.size,id:`size-${F.size}`,className:"sr-only"}),u.jsx("span",{className:`font-medium ${S===F.size?r.darkMode?"text-primary-foreground":"text-primary":""}`,children:F.size})]}),u.jsxs("span",{className:`text-sm ${r.darkMode?"text-gray-400":"text-gray-500"}`,children:["Stock: ",F.stock]})]},F.size)),g.product_variants.filter(F=>F.stock>0).length===0&&u.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"All sizes for this product are currently out of stock."})]}):u.jsxs("div",{className:"text-center py-4",children:[u.jsx(xw,{className:"w-10 h-10 mx-auto mb-2 text-yellow-500"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No sizes or stock defined for this product."})]})}),u.jsxs(Jc,{children:[u.jsx(re,{variant:"outline",onClick:()=>{x(!1),b(null)},children:"Cancel"}),u.jsx(re,{onClick:V,disabled:!S||g.product_variants.filter(F=>F.stock>0).length===0,children:"Add to Cart"})]})]})})]})},gy=[{name:"USD",symbol:"$"},{name:"EUR",symbol:"€"},{name:"GBP",symbol:"£"},{name:"INR",symbol:"₹"},{name:"JPY",symbol:"¥"}],vy=[{name:"Default",value:"default",colors:{light:"bg-blue-500",dark:"bg-blue-400"}},{name:"Forest Green",value:"green",colors:{light:"bg-green-500",dark:"bg-green-400"}},{name:"Royal Purple",value:"purple",colors:{light:"bg-purple-500",dark:"bg-purple-400"}},{name:"Sunset Orange",value:"orange",colors:{light:"bg-orange-500",dark:"bg-orange-400"}}],i3=()=>{var x;const{settings:e,updateSetting:t,loading:n}=$t(),{toast:r}=Ot(),[o,s]=p.useState(e),[i,a]=p.useState(""),[l,c]=p.useState("");p.useEffect(()=>{n||s({...e,customFields:e.customFields&&typeof e.customFields=="object"?e.customFields:{},theme:e.theme||"default"})},[e,n]);const d=g=>{const{name:b,value:S}=g.target;s(k=>({...k,[b]:S}))},f=g=>{const b=gy.find(S=>S.name===g.target.value);s(S=>({...S,currency:b}))},h=g=>{const b=parseFloat(g.target.value);!isNaN(b)&&b>=0&&b<=100?s(S=>({...S,taxRate:b/100})):g.target.value===""&&s(S=>({...S,taxRate:0}))},m=()=>{const g=!o.darkMode;s(b=>({...b,darkMode:g})),t("darkMode",g),r({title:"Appearance Updated",description:`Switched to ${g?"Dark":"Light"} Mode.`})},w=g=>{var b;s(S=>({...S,theme:g})),t("theme",g),r({title:"Theme Changed",description:`Switched to ${((b=vy.find(S=>S.value===g))==null?void 0:b.name)||"Default"} theme.`})},v=()=>{if(!i.trim()||!l.trim()){r({title:"Error",description:"Custom field name and value cannot be empty.",variant:"destructive"});return}const g={...o.customFields||{},[i.trim()]:l.trim()};s(b=>({...b,customFields:g})),a(""),c("")},_=g=>{const{[g]:b,...S}=o.customFields||{};s(k=>({...k,customFields:S}))},y=g=>{g.preventDefault();const b={...o,customFields:o.customFields&&typeof o.customFields=="object"?o.customFields:{}};Object.keys(b).forEach(S=>{JSON.stringify(e[S])!==JSON.stringify(b[S])&&t(S,b[S])}),r({title:"Settings Saved",description:"Your shop settings have been updated."})};return n?u.jsx("div",{className:"text-center py-10",children:"Loading settings..."}):u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 max-w-2xl mx-auto",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h1",{className:"text-3xl font-bold",children:"Shop Settings"})}),u.jsxs("form",{onSubmit:y,className:`p-8 rounded-xl space-y-6 ${e.darkMode?"neumorphism-dark":"neumorphism bg-card text-card-foreground"}`,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"shopName",children:"Shop Name"}),u.jsx(ie,{id:"shopName",name:"shopName",value:o.shopName||"",onChange:d})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"gstNo",children:"GST Number"}),u.jsx(ie,{id:"gstNo",name:"gstNo",value:o.gstNo||"",onChange:d})]})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"address",children:"Address"}),u.jsx(ie,{id:"address",name:"address",value:o.address||"",onChange:d})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"phone",children:"Phone Number"}),u.jsx(ie,{id:"phone",name:"phone",value:o.phone||"",onChange:d})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"email",children:"Email"}),u.jsx(ie,{id:"email",type:"email",name:"email",value:o.email||"",onChange:d})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"currency",children:"Currency"}),u.jsx("select",{id:"currency",name:"currency",value:((x=o.currency)==null?void 0:x.name)||"",onChange:f,className:`w-full p-2 border rounded-lg ${e.darkMode?"bg-gray-700 border-gray-600 text-white":"bg-background border-border"}`,children:gy.map(g=>u.jsxs("option",{value:g.name,children:[g.name," (",g.symbol,")"]},g.name))})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"taxRate",children:"Discount Rate (%)"}),u.jsx(ie,{id:"taxRate",name:"taxRate",type:"number",value:(o.taxRate*100).toFixed(2),onChange:h,min:"0",max:"100",step:"0.01"})]})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"returnPolicy",children:"Return Policy"}),u.jsx("textarea",{id:"returnPolicy",name:"returnPolicy",value:o.returnPolicy||"",onChange:d,rows:"3",className:`w-full p-2 border rounded-lg ${e.darkMode?"bg-gray-700 border-gray-600 text-white":"bg-background border-border"}`})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ge,{children:"Appearance"}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs(re,{onClick:m,variant:"outline",className:"w-full md:w-auto",children:[o.darkMode?u.jsx(FT,{className:"h-[1.2rem] w-[1.2rem] mr-2"}):u.jsx(RT,{className:"h-[1.2rem] w-[1.2rem] mr-2"}),o.darkMode?"Light Mode":"Dark Mode"]})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(MT,{className:"h-5 w-5"}),u.jsx(ge,{children:"Theme Color"})]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:vy.map(g=>u.jsxs(re,{type:"button",variant:o.theme===g.value?"default":"outline",onClick:()=>w(g.value),className:"flex items-center space-x-2 px-4 py-2",children:[u.jsx("span",{className:`w-4 h-4 rounded-full ${e.darkMode?g.colors.dark:g.colors.light}`}),u.jsx("span",{children:g.name})]},g.value))})]}),u.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[u.jsx(ge,{className:"text-lg font-medium",children:"Custom Fields"}),Object.entries(o.customFields||{}).map(([g,b])=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{value:g,readOnly:!0,className:"flex-1 font-medium"}),u.jsx(ie,{value:b,readOnly:!0,className:"flex-1"}),u.jsx(re,{type:"button",variant:"destructive",size:"icon",onClick:()=>_(g),children:u.jsx(no,{className:"h-4 w-4"})})]},g)),u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(ge,{htmlFor:"customFieldKey",children:"Field Name"}),u.jsx(ie,{id:"customFieldKey",value:i,onChange:g=>a(g.target.value),placeholder:"e.g., Website"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx(ge,{htmlFor:"customFieldValue",children:"Field Value"}),u.jsx(ie,{id:"customFieldValue",value:l,onChange:g=>c(g.target.value),placeholder:"e.g., www.example.com"})]}),u.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:v,children:u.jsx(is,{className:"h-5 w-5"})})]})]}),u.jsx(re,{type:"submit",className:"w-full text-lg py-3",children:"Save Settings"})]})]})},a3=({children:e})=>{const t=Fi(),{settings:n}=$t(),r=[{path:"/",icon:ST,label:"Dashboard"},{path:"/products",icon:LT,label:"Products"},{path:"/billing",icon:Cw,label:"Billing"},{path:"/customers",icon:VT,label:"Customers"},{path:"/settings",icon:$T,label:"Settings"}];return u.jsxs("div",{className:`min-h-screen flex ${n.darkMode?"dark bg-background text-foreground":"bg-gradient-to-br from-primary/5 via-background to-secondary/5"}`,children:[u.jsxs("nav",{className:`fixed top-0 left-0 h-full w-64 p-6 transition-all duration-300 ease-in-out shadow-lg
                      ${n.darkMode?"bg-gray-900 border-r border-gray-700":"glass-morphism border-r border-gray-200/50"}`,children:[u.jsx("div",{className:"mb-10 flex justify-between items-center",children:u.jsx("h1",{className:`text-3xl font-bold tracking-tight ${n.darkMode?"text-primary-foreground":"text-primary"}`,children:n.shopName||"Shop"})}),u.jsx("ul",{className:"space-y-3",children:r.map(o=>{const s=o.icon,i=t.pathname===o.path||o.path==="/customers"&&(t.pathname.startsWith("/customers/")||t.pathname.startsWith("/sales/"));return u.jsx("li",{children:u.jsxs(to,{to:o.path,className:`relative flex items-center space-x-3 p-3 rounded-lg transition-all duration-200 ease-out group
                    ${i?n.darkMode?"bg-primary text-primary-foreground shadow-md":"bg-primary text-white shadow-lg":n.darkMode?"text-gray-300 hover:bg-gray-700/50 hover:text-primary-foreground":"text-gray-600 hover:bg-primary/10 hover:text-primary"}
                  `,children:[u.jsx(s,{className:`w-5 h-5 transition-transform duration-200 group-hover:scale-110 ${i?"":n.darkMode?"text-gray-400 group-hover:text-primary-foreground":"text-gray-500 group-hover:text-primary"}`}),u.jsx("span",{className:"font-medium",children:o.label}),i&&u.jsx(Kt.div,{className:`absolute -left-3 w-1.5 h-3/5 ${n.darkMode?"bg-primary-foreground":"bg-white"} rounded-r-full`,layoutId:"activeNav",transition:{type:"spring",stiffness:380,damping:30},style:{top:0,bottom:0,margin:"auto 0"}})]})},o.path)})})]}),u.jsx("main",{className:"ml-64 p-8 flex-1 overflow-y-auto custom-scrollbar",children:e})]})},l3=({customer:e,onClose:t,onSave:n})=>{const[r,o]=p.useState({name:e.name,phone:e.phone,email:e.email||""}),{toast:s}=Ot(),i=l=>{o({...r,[l.target.name]:l.target.value})},a=async l=>{if(l.preventDefault(),!r.name.trim()||!r.phone.trim()){s({title:"Validation Error",description:"Name and Phone cannot be empty.",variant:"destructive"});return}n(e.id,r)};return u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),u.jsx(ie,{id:"name",name:"name",value:r.name,onChange:i,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),u.jsx(ie,{id:"phone",name:"phone",value:r.phone,onChange:i,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email (Optional)"}),u.jsx(ie,{id:"email",name:"email",type:"email",value:r.email,onChange:i})]}),u.jsxs(Jc,{children:[u.jsx(hk,{asChild:!0,children:u.jsx(re,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(re,{type:"submit",children:"Save Changes"})]})]})},c3=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),[o,s]=p.useState(""),[i,a]=p.useState(""),{toast:l}=Ot(),{settings:c}=$t(),d=Vi(),[f,h]=p.useState(null),[m,w]=p.useState(null),v=p.useCallback(async()=>{r(!0);try{const{data:b,error:S}=await J.from("customers").select(`
          *,
          sales ( count )
        `).order("name",{ascending:!0});if(S)throw S;const k=b.map(C=>{var E;return{...C,sales_count:((E=C.sales[0])==null?void 0:E.count)||0}});t(k)}catch(b){console.error("Error fetching customers:",b),l({title:"Error",description:"Could not fetch customers.",variant:"destructive"})}finally{r(!1)}},[l]);p.useEffect(()=>{v()},[v]);const _=async()=>{if(!i.trim()){l({title:"Info",description:"Please enter an invoice number to search.",variant:"default"});return}d(`/sales/invoice/${i.trim()}`)},y=async(b,S)=>{try{const{error:k}=await J.from("customers").update({name:S.name,phone:S.phone,email:S.email,updated_at:new Date().toISOString()}).eq("id",b);if(k)throw k;l({title:"Success",description:"Customer details updated."}),h(null),v()}catch(k){console.error("Error updating customer:",k),l({title:"Error",description:"Could not update customer details. "+k.message,variant:"destructive"})}},x=async b=>{try{const{data:S,error:k}=await J.from("sales").select("id").eq("customer_id",b).limit(1);if(k)throw k;if(S&&S.length>0){l({title:"Deletion Prevented",description:"This customer has existing sales records and cannot be deleted.",variant:"destructive",duration:7e3}),w(null);return}const{error:C}=await J.from("customers").delete().eq("id",b);if(C)throw C;l({title:"Success",description:"Customer deleted successfully."}),v()}catch(S){l({title:"Error",description:"Failed to delete customer: "+S.message,variant:"destructive"})}w(null)},g=e.filter(b=>b.name&&b.name.toLowerCase().includes(o.toLowerCase())||b.phone&&b.phone.includes(o)||b.email&&b.email.toLowerCase().includes(o.toLowerCase()));return n?u.jsx("div",{className:"text-center py-10",children:"Loading customers..."}):u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Customers"}),u.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[u.jsx(ie,{type:"text",placeholder:"Search invoice...",value:i,onChange:b=>a(b.target.value),className:"max-w-xs"}),u.jsx(re,{onClick:_,variant:"outline",size:"icon",children:u.jsx(Hh,{className:"w-4 h-4"})})]})]}),u.jsx(ie,{type:"text",placeholder:"Search customers by name, phone, or email...",value:o,onChange:b=>s(b.target.value),className:"max-w-md"}),g.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No customers found."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(b=>u.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`p-6 rounded-xl shadow-lg transition-all hover:shadow-xl relative ${c.darkMode?"bg-gray-800 neumorphism-dark":"bg-white neumorphism"}`,children:[u.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[u.jsx(re,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:S=>{S.stopPropagation(),h(b)},children:u.jsx(Kh,{className:"w-4 h-4"})}),u.jsxs(Xp,{children:[u.jsx(Qp,{asChild:!0,children:u.jsx(re,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-100 dark:hover:bg-red-700/30",onClick:S=>{S.stopPropagation(),w(b)},children:u.jsx(no,{className:"w-4 h-4"})})}),m&&m.id===b.id&&u.jsxs(Uc,{children:[u.jsxs(Bc,{children:[u.jsxs(Hc,{children:['Delete Customer "',m.name,'"?']}),u.jsx(qc,{children:"This action cannot be undone. Are you sure you want to delete this customer? This is only possible if the customer has no associated sales."})]}),u.jsxs(Wc,{children:[u.jsx(Kc,{onClick:()=>w(null),children:"Cancel"}),u.jsx(Gc,{onClick:()=>x(m.id),className:"bg-red-600 hover:bg-red-700",children:"Yes, Delete"})]})]})]})]}),u.jsxs(to,{to:`/customers/${b.id}`,className:"block",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3 pr-16",children:[" ",u.jsx(Xh,{className:`w-6 h-6 ${c.darkMode?"text-primary-foreground":"text-primary"}`}),u.jsx("h2",{className:"text-xl font-semibold truncate",children:b.name})]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Yh,{className:`w-4 h-4 ${c.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsx("span",{children:b.phone})]}),b.email&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(qh,{className:`w-4 h-4 ${c.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsx("span",{className:"truncate",children:b.email})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Cw,{className:`w-4 h-4 ${c.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsxs("span",{children:[b.sales_count," Purchase",b.sales_count===1?"":"s"]})]})]})]})]},b.id))}),f&&u.jsx(Qc,{open:!!f,onOpenChange:()=>h(null),children:u.jsxs(Zi,{className:"sm:max-w-[425px]",children:[u.jsxs(ea,{children:[u.jsx(ta,{children:"Edit Customer"}),u.jsxs(na,{children:["Update the details for ",f.name,". Click save when you're done."]})]}),u.jsx(l3,{customer:f,onClose:()=>h(null),onSave:y})]})})]})},u3=({customer:e,settings:t,onEdit:n})=>u.jsxs("div",{className:`p-8 rounded-xl shadow-lg relative ${t.darkMode?"bg-gray-800 neumorphism-dark":"bg-white neumorphism"}`,children:[u.jsx(re,{variant:"outline",size:"icon",onClick:n,className:"absolute top-4 right-4",children:u.jsx(Kh,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[u.jsx(Xh,{className:`w-12 h-12 ${t.darkMode?"text-primary-foreground":"text-primary"}`}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:e.name}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.jsx(Yh,{className:"w-4 h-4"}),u.jsx("span",{children:e.phone})]}),e.email&&u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.jsx(qh,{className:"w-4 h-4"}),u.jsx("span",{children:e.email})]})]})]}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer since: ",new Date(e.created_at).toLocaleDateString()]})]}),d3=({customer:e,onSave:t,onClose:n})=>{const[r,o]=p.useState({name:"",phone:"",email:""}),{toast:s}=Ot();p.useEffect(()=>{e&&o({name:e.name,phone:e.phone,email:e.email||""})},[e]);const i=l=>{o({...r,[l.target.name]:l.target.value})},a=async l=>{if(l.preventDefault(),!r.name.trim()||!r.phone.trim()){s({title:"Validation Error",description:"Name and Phone cannot be empty.",variant:"destructive"});return}await t(e.id,r),n()};return e?u.jsx(Qc,{open:!0,onOpenChange:n,children:u.jsxs(Zi,{className:"sm:max-w-[425px]",children:[u.jsxs(ea,{children:[u.jsx(ta,{children:"Edit Customer Details"}),u.jsx(na,{children:"Update customer information below."})]}),u.jsxs("form",{onSubmit:a,className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"edit-name",children:"Name"}),u.jsx(ie,{id:"edit-name",name:"name",value:r.name,onChange:i,required:!0})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"edit-phone",children:"Phone"}),u.jsx(ie,{id:"edit-phone",name:"phone",value:r.phone,onChange:i,required:!0})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"edit-email",children:"Email (Optional)"}),u.jsx(ie,{id:"edit-email",name:"email",type:"email",value:r.email,onChange:i})]}),u.jsxs(Jc,{children:[u.jsx(hk,{asChild:!0,children:u.jsx(re,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(re,{type:"submit",children:"Save Changes"})]})]})]})}):null},f3=({sale:e,settings:t,onPrintInvoice:n,onEditSale:r,onViewInvoice:o})=>u.jsxs(Kt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-6 rounded-xl shadow ${t.darkMode?"bg-gray-800 neumorphism-dark-inset":"bg-gray-50 neumorphism-inset"}`,children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(Hh,{className:`w-5 h-5 ${t.darkMode?"text-primary-foreground":"text-primary"}`}),u.jsxs("h3",{className:"text-lg font-semibold hover:underline cursor-pointer",onClick:()=>o(e.invoice_number),children:["Invoice: ",e.invoice_number]})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[u.jsx(ww,{className:"w-4 h-4"}),u.jsx("span",{children:new Date(e.created_at).toLocaleString()})]})]})}),u.jsxs("div",{className:"mb-3",children:[u.jsx("h4",{className:"font-medium mb-1",children:"Items Purchased:"}),u.jsx("ul",{className:"list-disc list-inside pl-1 space-y-1 text-sm",children:e.sale_items.map(s=>{var i,a;return u.jsxs("li",{children:[((i=s.product)==null?void 0:i.name)||"N/A"," (Ref: ",((a=s.product)==null?void 0:a.reference_number)||"N/A",") - ",s.quantity," x ",t.currency.symbol,s.unit_price.toFixed(2)]},s.id)})})]}),u.jsxs("div",{className:"border-t pt-3 mt-3 space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal:"})," ",u.jsxs("span",{children:[t.currency.symbol,(e.total_amount+e.tax_amount).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Discount:"})," ",u.jsxs("span",{children:[t.currency.symbol,e.tax_amount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-base",children:[u.jsx("span",{children:"Total:"})," ",u.jsxs("span",{children:[t.currency.symbol,e.total_amount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Payment Method:"})," ",u.jsx("span",{children:e.payment_method})]})]})]}),h3=({sales:e,settings:t,onPrintInvoice:n,onEditSale:r,onViewInvoice:o})=>e.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"This customer has no purchases yet."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Purchase History"}),u.jsx("div",{className:"space-y-6",children:e.map(s=>u.jsx(f3,{sale:s,settings:t,onPrintInvoice:n,onEditSale:r,onViewInvoice:o},s.id))})]}),p3=()=>{const{customerId:e}=$h(),[t,n]=p.useState(null),[r,o]=p.useState([]),[s,i]=p.useState(!0),[a,l]=p.useState(null),[c,d]=p.useState(!1),{toast:f}=Ot(),{settings:h}=$t(),m=Vi(),w=p.useRef(),v=Jp.useReactToPrint({content:()=>w.current,onAfterPrint:()=>l(null)}),_=async()=>{i(!0);try{const{data:g,error:b}=await J.from("customers").select("*").eq("id",e).single();if(b)if(b.code==="PGRST116")f({title:"Not Found",description:"Customer not found.",variant:"destructive"}),n(null);else throw b;else n(g);if(g){const{data:S,error:k}=await J.from("sales").select(`
            *,
            sale_items (
              *,
              product:products (name, reference_number, price)
            )
          `).eq("customer_id",e).order("created_at",{ascending:!1});if(k)throw k;o(S)}}catch(g){console.error("Error fetching customer details:",g),f({title:"Error",description:"Could not fetch customer data.",variant:"destructive"})}finally{i(!1)}};p.useEffect(()=>{_()},[e,f]);const y=g=>{if(!t)return;const b=g.sale_items.map(E=>{var P,A,V;return{id:(P=E.product)==null?void 0:P.id,name:((A=E.product)==null?void 0:A.name)||"N/A",reference_number:((V=E.product)==null?void 0:V.reference_number)||"N/A",price:E.unit_price,quantity:E.quantity}}),S=b.reduce((E,P)=>E+P.price*P.quantity,0),k=g.tax_amount,C=g.total_amount;l({customerInfo:{name:t.name,phone:t.phone,paymentMethod:g.payment_method,email:t.email},items:b,subtotal:S,tax:k,total:C,invoiceNumber:g.invoice_number,date:new Date(g.created_at).toLocaleDateString()})};p.useEffect(()=>{a&&v()},[a,v]);const x=async(g,b)=>{try{const{error:S}=await J.from("customers").update({name:b.name,phone:b.phone,email:b.email,updated_at:new Date().toISOString()}).eq("id",g);if(S)throw S;f({title:"Success",description:"Customer details updated successfully."}),_()}catch(S){f({title:"Error",description:"Failed to update customer details. "+S.message,variant:"destructive"})}};return s?u.jsx("div",{className:"text-center py-10",children:"Loading customer details..."}):t?u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs(to,{to:"/customers",className:"flex items-center text-primary hover:underline",children:[u.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Back to Customers"]})}),c&&t&&u.jsx(d3,{customer:t,onSave:x,onClose:()=>d(!1)}),u.jsx(u3,{customer:t,settings:h,onEdit:()=>d(!0)}),u.jsx(h3,{sales:r,settings:h,onPrintInvoice:y,onEditSale:g=>m(`/sales/edit/${g}`),onViewInvoice:g=>m(`/sales/invoice/${g}`)}),a&&u.jsx("div",{style:{display:"none"},children:u.jsx(Yc,{ref:w,...a})})]}):u.jsx("div",{className:"text-center py-10",children:"Customer not found."})},m3=()=>{var h,m,w,v,_,y,x;const{invoiceNumber:e}=$h(),[t,n]=p.useState(null),[r,o]=p.useState(!0),{toast:s}=Ot(),{settings:i}=$t(),a=Vi(),l=p.useRef(),c=Jp.useReactToPrint({content:()=>l.current});if(p.useEffect(()=>{e&&(async()=>{o(!0);try{const{data:b,error:S}=await J.from("sales").select(`
            *,
            customer:customers (*),
            sale_items (
              *,
              product:products (name, reference_number)
            )
          `).eq("invoice_number",e).single();if(S)if(S.code==="PGRST116")s({title:"Not Found",description:`Sale with invoice ${e} not found.`,variant:"destructive"}),n(null);else throw S;else n(b)}catch(b){console.error("Error fetching sale details:",b),s({title:"Error",description:"Could not fetch sale data.",variant:"destructive"})}finally{o(!1)}})()},[e,s]),r)return u.jsx("div",{className:"text-center py-10",children:"Loading sale details..."});if(!t)return u.jsxs("div",{className:"text-center py-10",children:[u.jsx("p",{children:"Sale not found."}),u.jsx(to,{to:"/billing",className:"text-primary hover:underline mt-4 inline-block",children:"Go to Billing"})]});const d={customerInfo:{name:((h=t.customer)==null?void 0:h.name)||t.customer_name,phone:((m=t.customer)==null?void 0:m.phone)||t.customer_phone,email:((w=t.customer)==null?void 0:w.email)||t.customer_email},items:t.sale_items.map(g=>{var b,S,k;return{id:(b=g.product)==null?void 0:b.id,name:((S=g.product)==null?void 0:S.name)||"N/A",reference_number:((k=g.product)==null?void 0:k.reference_number)||"N/A",price:g.unit_price,quantity:g.quantity,size:g.size}}),subtotal:t.total_amount+t.tax_amount,tax:t.tax_amount,total:t.total_amount,invoiceNumber:t.invoice_number,date:new Date(t.created_at).toLocaleString(),paymentMethod:t.payment_method,paymentId:t.payment_id},f=i.darkMode?"neumorphism-dark":"neumorphism";return u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs(to,{to:t.customer_id?`/customers/${t.customer_id}`:"/customers",className:"flex items-center text-primary hover:underline",children:[u.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(re,{variant:"outline",onClick:()=>a(`/sales/edit/${t.id}`),children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"})," Edit Sale"]}),u.jsxs(re,{onClick:c,children:[u.jsx(Sw,{className:"w-4 h-4 mr-2"})," Print Invoice"]})]})]}),u.jsxs("div",{className:`${f} rounded-xl p-8`,children:[u.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 pb-6 border-b ${i.darkMode?"border-gray-700":"border-gray-200"}`,children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold",children:["Invoice ",u.jsx("span",{className:"text-primary",children:t.invoice_number})]}),u.jsxs("p",{className:`text-sm ${i.darkMode?"text-gray-400":"text-gray-500"}`,children:["Issued on: ",new Date(t.created_at).toLocaleDateString()," at ",new Date(t.created_at).toLocaleTimeString()]})]}),u.jsx("div",{className:`mt-4 sm:mt-0 text-sm text-right px-3 py-1.5 rounded-md font-medium
            ${t.payment_method==="RAZORPAY"?i.darkMode?"bg-green-700 text-green-100":"bg-green-100 text-green-700":i.darkMode?"bg-blue-700 text-blue-100":"bg-blue-100 text-blue-700"} `,children:t.payment_method})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Customer Details"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Xh,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsx("span",{children:((v=t.customer)==null?void 0:v.name)||t.customer_name||"N/A"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Yh,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsx("span",{children:((_=t.customer)==null?void 0:_.phone)||t.customer_phone||"N/A"})]}),(((y=t.customer)==null?void 0:y.email)||t.customer_email)&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(qh,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsx("span",{children:((x=t.customer)==null?void 0:x.email)||t.customer_email})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Payment Information"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(PT,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsxs("span",{children:["Method: ",t.payment_method]})]}),t.payment_id&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(Hh,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsxs("span",{className:"truncate",children:["ID: ",t.payment_id]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ww,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),u.jsxs("span",{children:["Date: ",new Date(t.created_at).toLocaleString()]})]})]})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[u.jsx(gc,{className:`w-5 h-5 mr-3 ${i.darkMode?"text-gray-400":"text-gray-600"}`}),"Items Purchased"]}),u.jsx("div",{className:"space-y-3",children:t.sale_items.map(g=>{var b,S;return u.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-center ${i.darkMode?"bg-gray-700/50":"bg-gray-100"}`,children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:((b=g.product)==null?void 0:b.name)||"Product not found"}),u.jsxs("p",{className:`text-xs ${i.darkMode?"text-gray-400":"text-gray-500"}`,children:["Ref: ",((S=g.product)==null?void 0:S.reference_number)||"N/A"," | Size: ",g.size||"N/A"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{children:[g.quantity," x ",i.currency.symbol,g.unit_price.toFixed(2)]}),u.jsxs("p",{className:"font-medium",children:[i.currency.symbol,g.total_price.toFixed(2)]})]})]},g.id)})})]}),u.jsx("div",{className:`mt-8 pt-6 border-t ${i.darkMode?"border-gray-700":"border-gray-200"}`,children:u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"w-full max-w-xs space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal:"}),u.jsxs("span",{children:[i.currency.symbol,(t.total_amount+t.tax_amount).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Discount: (",(i.taxRate*100).toFixed(0),"%):"]}),u.jsxs("span",{children:[i.currency.symbol,t.tax_amount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-base",children:[u.jsx("span",{children:"Grand Total:"}),u.jsxs("span",{children:[i.currency.symbol,t.total_amount.toFixed(2)]})]})]})})})]}),u.jsx("div",{style:{display:"none"},children:u.jsx(Yc,{ref:l,...d})})]})},g3=({customerInfo:e,onCustomerInfoChange:t,darkMode:n})=>u.jsxs("fieldset",{className:`grid md:grid-cols-2 gap-6 border p-4 rounded-md ${n?"border-gray-700":"border-gray-200"}`,children:[u.jsx("legend",{className:"text-lg font-semibold px-1",children:"Customer Details"}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"customerName",children:"Name"}),u.jsx(ie,{id:"customerName",name:"name",value:e.name,onChange:t,required:!0,className:n?"border-gray-700":""})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"customerPhone",children:"Phone"}),u.jsx(ie,{id:"customerPhone",name:"phone",value:e.phone,onChange:t,required:!0,className:n?"border-gray-700":""})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx(ge,{htmlFor:"customerEmail",children:"Email (Optional)"}),u.jsx(ie,{id:"customerEmail",name:"email",type:"email",value:e.email,onChange:t,className:n?"border-gray-700":""})]})]}),v3=({saleItems:e,setSaleItems:t,originalSaleItems:n,allProducts:r,settings:o,onOpenProductSearch:s,toast:i})=>{const a=(c,d)=>{const f=parseInt(d);t(h=>h.map(m=>{if((m.id||m.product_id)===c){const v=r.find(x=>x.id===m.product_id),_=n.find(x=>(x.id||x.product_id)===c);let y;return m.id?y=((v==null?void 0:v.stock)||0)+((_==null?void 0:_.quantity)||0):y=(v==null?void 0:v.stock)||0,f<1?{...m,quantity:1,total_price:m.price*1}:f>y?(i({title:"Stock limit",description:`Cannot exceed available stock (${y}) for ${m.name}`,variant:"destructive"}),{...m,quantity:y,total_price:m.price*y}):{...m,quantity:f,total_price:m.price*f}}return m}))},l=c=>{t(d=>d.filter(f=>(f.id||f.product_id)!==c))};return u.jsxs("fieldset",{className:"border p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-1",children:"Sale Items"}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2",children:e.map((c,d)=>u.jsxs("div",{className:`p-3 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 ${o.darkMode?"bg-gray-700/50":"bg-gray-100"}`,children:[u.jsxs("div",{className:"flex-grow",children:[u.jsxs("p",{className:"font-medium",children:[c.name," ",u.jsxs("span",{className:"text-xs text-gray-500",children:["(Ref: ",c.reference_number,")"]})]}),u.jsxs("p",{className:"text-xs",children:["Price: ",o.currency.symbol,(c.price||0).toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ge,{htmlFor:`quantity-${d}`,className:"sr-only",children:"Quantity"}),u.jsx(ie,{id:`quantity-${d}`,type:"number",min:"1",value:c.quantity,onChange:f=>a(c.id||c.product_id,f.target.value),className:"w-20"}),u.jsx(re,{type:"button",variant:"destructive",size:"icon",onClick:()=>l(c.id||c.product_id),children:u.jsx(no,{className:"w-4 h-4"})})]})]},c.id||`new-${c.product_id}`))}),u.jsxs(re,{type:"button",variant:"outline",className:"mt-3 w-full",onClick:s,children:[u.jsx(is,{className:"w-4 h-4 mr-2"})," Add Item"]})]})},y3=({paymentMethod:e,onPaymentMethodChange:t,saleDate:n,onSaleDateChange:r,darkMode:o})=>u.jsxs("fieldset",{className:"grid md:grid-cols-2 gap-6 border p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-1",children:"Payment & Date"}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"paymentMethod",children:"Payment Method"}),u.jsxs("select",{id:"paymentMethod",value:e,onChange:s=>t(s.target.value),className:`w-full p-2 border rounded-lg mt-1 ${o?"bg-gray-700 border-gray-600 text-white":"bg-background border-border"}`,children:[u.jsx("option",{value:"CASH",children:"Cash"}),u.jsx("option",{value:"CARD",children:"Card"}),u.jsx("option",{value:"UPI",children:"UPI"})]})]}),u.jsxs("div",{children:[u.jsx(ge,{htmlFor:"saleDate",children:"Sale Date & Time"}),u.jsx(ie,{id:"saleDate",type:"datetime-local",value:n,onChange:s=>r(s.target.value),className:"mt-1"})]})]}),x3=({subtotal:e,taxAmount:t,settings:n,taxRate:r})=>u.jsxs("div",{className:`p-4 rounded-lg mt-4 ${n.darkMode?"bg-gray-800":"bg-gray-50"}`,children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"font-medium",children:"Subtotal:"}),u.jsxs("span",{children:[n.currency.symbol,e.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{className:"font-medium",children:["Discount: (",(r*100).toFixed(0),"%):"]}),u.jsxs("span",{children:[n.currency.symbol,t.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-xl font-bold mt-1",children:[u.jsx("span",{className:"font-medium",children:"Total:"}),u.jsxs("span",{children:[n.currency.symbol,(e-t).toFixed(2)]})]})]}),w3=({isOpen:e,onClose:t,products:n,onProductSelect:r,onProductSelectWithSite:o,settings:s,toast:i})=>{const[a,l]=p.useState(""),[c,d]=p.useState(""),f=n.filter(m=>{const w=a.toLowerCase();return m.name.toLowerCase().includes(w)||m.reference_number&&m.reference_number.toLowerCase().includes(w)}),h=m=>{if(o){if(!c){i({title:"Size Required",description:"Please select a size before adding the product.",variant:"destructive"});return}o(m,c)}else r&&r(m);d("")};return u.jsx(Qc,{open:e,onOpenChange:t,children:u.jsxs(Zi,{className:"sm:max-w-[600px]",children:[u.jsxs(ea,{children:[u.jsx(ta,{children:"Add Product to Sale"}),u.jsx(na,{children:"Search for a product and add it to the current sale."})]}),u.jsxs("div",{className:"py-4 space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ie,{type:"text",placeholder:"Search by name or reference...",value:a,onChange:m=>l(m.target.value),className:"pl-10"}),u.jsx(kw,{className:"w-5 h-5 absolute left-3 top-2.5 text-gray-400"})]}),u.jsx("div",{className:`max-h-[40vh] overflow-y-auto space-y-2 pr-2 ${s!=null&&s.darkMode?"custom-scrollbar-dark":"custom-scrollbar"}`,children:f.length>0?f.map(m=>{var w;return u.jsxs("div",{className:`p-3 rounded-lg ${s!=null&&s.darkMode?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,children:[u.jsx("div",{className:"flex justify-between items-start mb-2",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:m.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ref: ",m.reference_number]}),u.jsxs("p",{className:"text-sm",children:[(w=s==null?void 0:s.currency)==null?void 0:w.symbol,m.price.toFixed(2)]})]})}),m.product_variants&&u.jsxs("div",{className:"mt-2",children:[u.jsxs("select",{className:`w-full p-2 rounded-md mb-2 ${s!=null&&s.darkMode?"bg-gray-600 text-white":"bg-white"}`,value:c,onChange:v=>d(v.target.value),children:[u.jsx("option",{value:"",children:"Select Size"}),m.product_variants.map(v=>u.jsxs("option",{value:v.size,disabled:v.stock===0,children:[v.size," (",v.stock," in stock)"]},v.id))]}),u.jsxs(re,{size:"sm",variant:"outline",onClick:()=>h(m),disabled:!c,className:"w-full",children:[u.jsx(is,{className:"w-4 h-4 mr-1"})," Add to Sale"]})]})]},m.id)}):u.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No products found."})})]})]})})},b3=()=>{const{saleId:e}=$h(),t=Vi(),{getSaleById:n,updateSale:r}=YS(),{products:o,fetchProducts:s}=kc(),{settings:i}=$t(),{toast:a}=Ot(),[l,c]=p.useState(null),[d,f]=p.useState([]),[h,m]=p.useState([]),[w,v]=p.useState({name:"",phone:"",email:""}),[_,y]=p.useState("CASH"),[x,g]=p.useState(new Date().toISOString().slice(0,16)),[b,S]=p.useState(!0),[k,C]=p.useState(!1),[E,P]=p.useState(!1);p.useEffect(()=>{s()},[s]),p.useEffect(()=>{e&&(async()=>{var z,L,q;S(!0);const j=await n(e);if(j){c(j);const F=j.sale_items.map(G=>{var oe,Y,le;return{...G,product_id:G.product_id||((oe=G.product)==null?void 0:oe.id),name:((Y=G.product)==null?void 0:Y.name)||"N/A",reference_number:((le=G.product)==null?void 0:le.reference_number)||"N/A",price:G.unit_price}});f(JSON.parse(JSON.stringify(F))),m(F),v({name:j.customer_name||((z=j.customer)==null?void 0:z.name)||"",phone:j.customer_phone||((L=j.customer)==null?void 0:L.phone)||"",email:j.customer_email||((q=j.customer)==null?void 0:q.email)||""}),y(j.payment_method),g(new Date(j.created_at).toISOString().slice(0,16))}else a({title:"Error",description:"Sale not found.",variant:"destructive"}),t("/billing");S(!1)})()},[e,n,a,t]);const A=N=>{v(j=>({...j,[N.target.name]:N.target.value}))},V=p.useCallback(()=>h.reduce((N,j)=>N+j.price*j.quantity,0),[h]),I=p.useCallback(N=>N*(i.taxRate||0),[i.taxRate]),W=p.useCallback(()=>{const N=V(),j=I(N);return N+j},[V,I]),O=(N,j)=>{const z=N.product_variants.find(q=>q.size===j);if(!z||z.stock===0){a({title:"Out of Stock",description:`Size ${j} for ${N.name} is out of stock.`,variant:"destructive"});return}const L=h.findIndex(q=>q.product_id===N.id&&q.size===j);if(L>-1){const q=[...h];q[L].quantity<z.stock?(q[L].quantity+=1,q[L].total_price=q[L].price*q[L].quantity,m(q)):a({title:"Stock Limit Reached",description:`Cannot add more of size ${j}. Max stock: ${z.stock}.`,variant:"destructive"})}else m(q=>[...q,{product_id:N.id,name:N.name,reference_number:N.reference_number,quantity:1,price:N.price,unit_price:N.price,total_price:N.price,size:j,product:{name:N.name,reference_number:N.reference_number}}]);P(!1)},B=async N=>{var F;if(N.preventDefault(),C(!0),!w.name||!w.phone){a({title:"Validation Error",description:"Customer name and phone are required.",variant:"destructive"}),C(!1);return}if(h.length===0){a({title:"Validation Error",description:"Cannot save a sale with no items.",variant:"destructive"}),C(!1);return}const j=V(),z=I(j),L=j+z,q={customer_id:((F=l.customer)==null?void 0:F.id)||l.customer_id,customer_name:w.name,customer_phone:w.phone,customer_email:w.email,payment_method:_,created_at:new Date(x).toISOString(),total_amount:L,tax_amount:z};try{await r(e,q,h,d,o),a({title:"Success",description:"Sale updated successfully."}),t(`/sales/invoice/${l.invoice_number}`)}catch(G){a({title:"Error",description:`Failed to update sale: ${G.message}`,variant:"destructive"})}finally{C(!1)}},H=p.useCallback(async N=>{if(N&&N.length>=7)try{const{data:j,error:z}=await J.from("customers").select("name, email").eq("phone",N).limit(1);z?console.error("Error checking customer:",z.message):j&&j.length>0&&(v(L=>({...L,name:j[0].name,email:j[0].email||""})),a({title:"Customer Found",description:`Filled details for ${j[0].name}.`}))}catch(j){console.error("Catch block: Error checking customer:",j.message)}},[a]);if(p.useEffect(()=>{const N=setTimeout(()=>{w.phone&&!w.name&&!b&&H(w.phone)},1e3);return()=>clearTimeout(N)},[w.phone,w.name,H,b]),b)return u.jsx("div",{className:"text-center py-10",children:"Loading sale details for editing..."});if(!l)return u.jsxs("div",{className:"text-center py-10",children:[u.jsx(xw,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),u.jsx("p",{className:"text-xl",children:"Sale not found or could not be loaded."}),u.jsx(re,{onClick:()=>t("/billing"),className:"mt-4",children:"Go to Billing"})]});const Z=i.darkMode?"neumorphism-dark":"neumorphism";return u.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs(re,{variant:"outline",onClick:()=>t(-1),children:[u.jsx(Wh,{className:"w-4 h-4 mr-2"})," Back"]}),u.jsxs("h1",{className:"text-3xl font-bold",children:["Edit Sale (Invoice: ",l.invoice_number,")"]})]}),u.jsxs("form",{onSubmit:B,className:`space-y-6 ${Z} p-6 rounded-xl`,children:[u.jsx(g3,{customerInfo:w,onCustomerInfoChange:A,darkMode:i.darkMode}),u.jsx(v3,{saleItems:h,setSaleItems:m,originalSaleItems:d,allProducts:o,settings:i,onOpenProductSearch:()=>P(!0),toast:a}),u.jsx(y3,{paymentMethod:_,onPaymentMethodChange:y,saleDate:x,onSaleDateChange:g,darkMode:i.darkMode}),u.jsx(x3,{subtotal:V(),taxAmount:I(V()),totalAmount:W(),settings:i,taxRate:i.taxRate||0}),u.jsx("div",{className:"flex justify-end pt-4 border-t dark:border-gray-700",children:u.jsxs(re,{type:"submit",disabled:k,children:[u.jsx(OT,{className:"w-4 h-4 mr-2"})," ",k?"Saving...":"Save Changes"]})})]}),u.jsx(w3,{isOpen:E,onClose:()=>P(!1),products:o,onProductSelectWithSite:O,settings:i,toast:a})]})},_3=({children:e})=>{const{settings:t}=$t();return p.useEffect(()=>{const n=window.document.documentElement;t.darkMode?n.classList.add("dark"):n.classList.remove("dark")},[t.darkMode]),u.jsx(u.Fragment,{children:e})};function S3(){return u.jsxs(dR,{children:[u.jsx(_3,{children:u.jsxs(QP,{children:[u.jsx(a3,{children:u.jsxs(WP,{children:[u.jsx(_n,{path:"/",element:u.jsx(pF,{})}),u.jsx(_n,{path:"/products",element:u.jsx(VF,{})}),u.jsx(_n,{path:"/billing",element:u.jsx(s3,{})}),u.jsx(_n,{path:"/settings",element:u.jsx(i3,{})}),u.jsx(_n,{path:"/customers",element:u.jsx(c3,{})}),u.jsx(_n,{path:"/customers/:customerId",element:u.jsx(p3,{})}),u.jsx(_n,{path:"/sales/invoice/:invoiceNumber",element:u.jsx(m3,{})}),u.jsx(_n,{path:"/sales/edit/:saleId",element:u.jsx(b3,{})})]})}),u.jsx(GT,{})]})}),u.jsxs("footer",{className:" bottom-0 w-full text-center text-sm text-gray-500 py-4",children:["Powered by ",u.jsx("span",{className:"font-bold",children:"Digitize"})]})]})}ad.createRoot(document.getElementById("root")).render(u.jsx(ve.StrictMode,{children:u.jsx(S3,{})}));export{yy as g};
